{
  "permissions": {
    "allow": [
      "Bash(**)",
      "Edit(**)",
      "Write(**)",
      "Read(**)",
      "Glob(**)",
      "Grep(**)",
      "Task(**)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: 自動為租戶建立預設服務資料\n\n- 新增 initTestServices 方法\n- 為啟用的租戶自動建立 4 項預設服務（剪髮、染髮、護髮、洗髮）\n- 只在租戶沒有任何服務時才建立\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: 自動為租戶建立預設員工資料\n\n- 新增 initTestStaffs 方法\n- 為啟用的租戶自動建立 3 位預設員工（Michael, Amy, Kevin）\n- 只在租戶沒有任何員工時才建立\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit:*)",
      "Bash(curl:*)",
      "Bash(node -e \"\nconst { Client } = require\\(''pg''\\);\nconst client = new Client\\({\n  connectionString: ''postgresql://postgres:RGQFnsDOCgEcqaKOdYbIxSFuZCjLcfeT@crossover.proxy.rlwy.net:28097/railway'',\n  ssl: { rejectUnauthorized: false }\n}\\);\n\nasync function run\\(\\) {\n  await client.connect\\(\\);\n  const res = await client.query\\(''SELECT id, username, name, email, status FROM tenants LIMIT 10''\\);\n  console.log\\(''現有店家帳號:''\\);\n  console.table\\(res.rows\\);\n  await client.end\\(\\);\n}\nrun\\(\\).catch\\(e => console.error\\(e\\)\\);\n\")",
      "Bash(node -e:*)",
      "Bash(git -C C:/soho/booking-platform commit -m \"$\\(cat <<''EOF''\nfeat: 優化 LINE Bot UI/UX，增加使用指引\n\n- 美化主選單：emoji 圖示、小提示區塊、樣式化按鈕\n- 新增步驟指示器（步驟 1/4 ~ 4/4）讓使用者了解流程\n- 改進服務選擇畫面，顯示分類、價格、時長等資訊\n- 改進員工選擇畫面，加入專業領域顯示\n- 新增歡迎訊息（首次追蹤）\n- 新增幫助訊息（關鍵字指引）\n- 新增取消流程確認對話框\n- 取消後顯示主選單而非純文字，方便操作\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C C:/soho/booking-platform commit -m \"$\\(cat <<''EOF''\nfix: 修復 SSE 認證問題，支援 query parameter 傳送 token\n\nEventSource API 無法設定 Authorization header，\n改為透過 query parameter 傳送 JWT token\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C C:/soho/booking-platform commit -m \"$\\(cat <<''EOF''\nfix: 加入 /sounds/** 到安全白名單\n\n通知音效檔案需要公開存取權限\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C C:/soho/booking-platform commit -m \"$\\(cat <<''EOF''\nfix: 移除外部音效檔案載入，改用 Web Audio API\n\n避免 404/500 錯誤影響頁面載入\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(# 建立新的 Rich Menu\nRICH_MENU_JSON=$\\(cat << ''EOFMENU''\n{\n  \"\"size\"\": {\"\"width\"\": 2500, \"\"height\"\": 843},\n  \"\"selected\"\": true,\n  \"\"name\"\": \"\"mk - 快捷選單\"\",\n  \"\"chatBarText\"\": \"\"點我展開選單\"\",\n  \"\"areas\"\": [\n    {\"\"bounds\"\": {\"\"x\"\": 0, \"\"y\"\": 0, \"\"width\"\": 833, \"\"height\"\": 421}, \"\"action\"\": {\"\"type\"\": \"\"postback\"\", \"\"label\"\": \"\"開始預約\"\", \"\"data\"\": \"\"action=start_booking\"\", \"\"displayText\"\": \"\"開始預約\"\"}},\n    {\"\"bounds\"\": {\"\"x\"\": 833, \"\"y\"\": 0, \"\"width\"\": 833, \"\"height\"\": 421}, \"\"action\"\": {\"\"type\"\": \"\"postback\"\", \"\"label\"\": \"\"我的預約\"\", \"\"data\"\": \"\"action=view_bookings\"\", \"\"displayText\"\": \"\"我的預約\"\"}},\n    {\"\"bounds\"\": {\"\"x\"\": 1666, \"\"y\"\": 0, \"\"width\"\": 834, \"\"height\"\": 421}, \"\"action\"\": {\"\"type\"\": \"\"postback\"\", \"\"label\"\": \"\"瀏覽商品\"\", \"\"data\"\": \"\"action=start_shopping\"\", \"\"displayText\"\": \"\"瀏覽商品\"\"}},\n    {\"\"bounds\"\": {\"\"x\"\": 0, \"\"y\"\": 421, \"\"width\"\": 833, \"\"height\"\": 422}, \"\"action\"\": {\"\"type\"\": \"\"postback\"\", \"\"label\"\": \"\"領取票券\"\", \"\"data\"\": \"\"action=view_coupons\"\", \"\"displayText\"\": \"\"領取票券\"\"}},\n    {\"\"bounds\"\": {\"\"x\"\": 833, \"\"y\"\": 421, \"\"width\"\": 833, \"\"height\"\": 422}, \"\"action\"\": {\"\"type\"\": \"\"postback\"\", \"\"label\"\": \"\"會員資訊\"\", \"\"data\"\": \"\"action=view_member_info\"\", \"\"displayText\"\": \"\"會員資訊\"\"}},\n    {\"\"bounds\"\": {\"\"x\"\": 1666, \"\"y\"\": 421, \"\"width\"\": 834, \"\"height\"\": 422}, \"\"action\"\": {\"\"type\"\": \"\"postback\"\", \"\"label\"\": \"\"聯絡店家\"\", \"\"data\"\": \"\"action=contact_shop\"\", \"\"displayText\"\": \"\"聯絡店家\"\"}}\n  ]\n}\nEOFMENU\n\\)\n\ncurl -s -X POST \"\"https://api.line.me/v2/bot/richmenu\"\"   -H \"\"Authorization: Bearer yAbXYSwqq+hrXOuWZOWxmfgEaFi5jsFO+s9XyBp8sTXcHoECaeup9qacRJt0bp4VX52ONX/ADbJV3cNwph22V1aSd/VX1agD+d1w9JyDzRCmUqOWctr3ZffWU3JRSTGNoCf0cYXjEpY/XannbXYg2QdB04t89/1O/w1cDnyilFU=\"\"   -H \"\"Content-Type: application/json\"\"   -d \"\"$RICH_MENU_JSON\"\")",
      "WebFetch(domain:is.gd)"
    ]
  }
}
