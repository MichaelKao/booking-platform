<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-TW">
<head th:replace="~{tenant/layout :: head}"><title>é¸å–®è¨­è¨ˆ - åº—å®¶å¾Œå°</title></head>
<body>
    <div id="wrapper">
        <nav th:replace="~{fragments/sidebar-tenant :: sidebar}"></nav>
        <div id="content-wrapper">
            <header th:replace="~{tenant/layout :: topbar}"></header>
            <main id="content">
                <div class="page-header">
                    <h1 class="page-title"><i class="bi bi-palette-fill me-2"></i>é¸å–®è¨­è¨ˆ</h1>
                    <p class="page-subtitle">è‡ªè¨‚ LINE Rich Menuï¼ˆåº•éƒ¨å¿«æ·é¸å–®ï¼‰èˆ‡ Flex ä¸»é¸å–®å¤–è§€</p>
                </div>

                <!-- ä½¿ç”¨èªªæ˜ï¼ˆå¯æ”¶åˆï¼‰ -->
                <div class="alert alert-info mb-4">
                    <div class="d-flex justify-content-between align-items-center" data-bs-toggle="collapse" data-bs-target="#usageGuide" style="cursor:pointer">
                        <strong><i class="bi bi-lightbulb me-1"></i>å¦‚ä½•ä½¿ç”¨é¸å–®è¨­è¨ˆï¼Ÿ</strong>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="collapse show" id="usageGuide">
                        <hr class="my-2">
                        <div class="row small">
                            <div class="col-md-6">
                                <h6 class="fw-bold">Rich Menuï¼ˆåº•éƒ¨å¿«æ·é¸å–®ï¼‰</h6>
                                <p>é¡§å®¢æ‰“é–‹ LINE èŠå¤©å®¤æ™‚ï¼Œ<strong>å›ºå®šåœ¨è¢å¹•åº•éƒ¨</strong>çš„åœ–ç‰‡é¸å–®ã€‚</p>
                                <ol class="ps-3 mb-2">
                                    <li>é¸æ“‡<strong>ä¸»é¡Œé¢¨æ ¼</strong>ï¼ˆç²¾å“é¢¨ã€LINEç¶ ã€è—ç­‰é…è‰²ï¼‰</li>
                                    <li>é¸æ“‡<strong>ä½ˆå±€</strong>ï¼ˆ3+4 = 7æ ¼ã€3+4+4 = 11æ ¼...ï¼‰</li>
                                    <li>è¨­å®šæ¯æ ¼çš„<strong>æ–‡å­—</strong>å’Œ<strong>é»æ“Šå‹•ä½œ</strong></li>
                                    <li>è‹¥å‹•ä½œé¸ã€ŒFlex å½ˆçª—ã€ï¼Œå¯è¨­è¨ˆ<strong>è¼ªæ’­å¡ç‰‡</strong>ï¼ˆæ”¾åœ–ç‰‡ã€æ¨™é¡Œã€æŒ‰éˆ•ï¼‰</li>
                                    <li>é»ã€Œ<strong>ç™¼å¸ƒåˆ° LINE</strong>ã€å³ç”Ÿæ•ˆ</li>
                                </ol>
                            </div>
                            <div class="col-md-6">
                                <h6 class="fw-bold">Flex ä¸»é¸å–®ï¼ˆå°è©±æ°£æ³¡é¸å–®ï¼‰</h6>
                                <p>é¡§å®¢<strong>è¼¸å…¥ä»»ä½•æ–‡å­—</strong>æ™‚å½ˆå‡ºçš„ Flex Message é¸å–®å¡ç‰‡ã€‚</p>
                                <ol class="ps-3 mb-2">
                                    <li>è¨­å®š<strong>Header</strong>çš„é¡è‰²ã€æ¨™é¡Œã€æ­¡è¿èª</li>
                                    <li>è‡ªè¨‚æ¯å€‹<strong>æŒ‰éˆ•</strong>çš„é¡è‰²ã€åœ–ç¤º emojiã€æ¨™é¡Œã€å‰¯æ¨™é¡Œ</li>
                                    <li>é–‹é—œã€Œ<strong>ä½¿ç”¨æç¤º</strong>ã€å€å¡Š</li>
                                    <li>ä¸‹æ–¹å³æ™‚é è¦½ï¼Œæ‰€è¦‹å³æ‰€å¾—</li>
                                    <li>é»ã€Œ<strong>å„²å­˜ä¸»é¸å–®</strong>ã€å³ç”Ÿæ•ˆ</li>
                                </ol>
                            </div>
                        </div>
                        <div class="mt-2 p-2 bg-light rounded small">
                            <strong>Flex å½ˆçª—å¡ç‰‡æ€éº¼ç”¨ï¼Ÿ</strong> åœ¨ Rich Menu çš„æ ¼å­å‹•ä½œé¸ã€ŒFlex å½ˆçª—ã€ï¼Œé»å³é‚Šçš„ <i class="bi bi-pencil-square"></i> ç·¨è¼¯ â†’
                            å¯ä»¥åšæˆ<strong>å–®å¼µå¡ç‰‡</strong>æˆ–<strong>å¤šå¼µè¼ªæ’­</strong>ï¼ˆé¡§å®¢å¯å·¦å³æ»‘å‹•ï¼‰ã€‚æ¯å¼µå¡ç‰‡å¯æ”¾ï¼šä¸»åœ–ï¼ˆURLï¼‰ã€æ¨™é¡Œã€æè¿°ã€ä¸€å€‹æŒ‰éˆ•ã€‚
                            å¸¸è¦‹ç”¨é€”ï¼šæœå‹™åƒ¹ç›®è¡¨ã€æœ€æ–°å„ªæƒ ã€æ´»å‹•è³‡è¨Šç­‰ã€‚
                        </div>
                    </div>
                </div>

                <!-- ================ Tab åˆ‡æ› ================ -->
                <ul class="nav nav-tabs mb-4 rm-design-tabs" role="tablist">
                    <li class="nav-item">
                        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tabRichMenu" type="button">
                            <i class="bi bi-grid-3x2 me-1"></i>Rich Menuï¼ˆåº•éƒ¨é¸å–®ï¼‰
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tabFlexMenu" type="button">
                            <i class="bi bi-chat-square-text me-1"></i>Flex ä¸»é¸å–®ï¼ˆæ°£æ³¡é¸å–®ï¼‰
                        </button>
                    </li>
                </ul>

                <div class="tab-content">
                <!-- ================================================================ -->
                <!-- TAB 1: Rich Menu è¨­è¨ˆ                                             -->
                <!-- ================================================================ -->
                <div class="tab-pane fade show active" id="tabRichMenu">

                <!-- â˜… ç¯„æœ¬åº« -->
                <div class="card mb-4">
                    <div class="card-header py-2 d-flex justify-content-between align-items-center">
                        <h6 class="m-0"><i class="bi bi-collection me-2"></i>å¿«é€Ÿå¥—ç”¨ç¯„æœ¬ï¼ˆé¸ä¸€å€‹é–‹å§‹ï¼Œå†å¾®èª¿ï¼‰</h6>
                        <button class="btn btn-sm btn-outline-secondary py-0" data-bs-toggle="collapse" data-bs-target="#samplePanel">
                            <i class="bi bi-chevron-down"></i> å±•é–‹ / æ”¶åˆ
                        </button>
                    </div>
                    <div class="collapse show" id="samplePanel">
                        <div class="card-body py-2">
                            <!-- æ¥­ç¨® Tabs -->
                            <div class="d-flex flex-wrap gap-1 mb-3" id="sampleCatTabs"></div>
                            <!-- ç¯„æœ¬å¡ç‰‡ -->
                            <div class="row g-2" id="sampleCardList"></div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- å·¦å´ï¼šè¨­å®š -->
                    <div class="col-lg-7">
                        <!-- ä¸»é¡Œé¸æ“‡ -->
                        <div class="card mb-3">
                            <div class="card-header py-2">
                                <h6 class="m-0"><i class="bi bi-palette me-2"></i>ä¸»é¡Œé¢¨æ ¼</h6>
                            </div>
                            <div class="card-body py-2">
                                <div class="d-flex flex-wrap gap-2" id="themeSelector">
                                    <div class="rm-theme selected" data-theme="BOUTIQUE">
                                        <div class="rm-theme-color" style="background:linear-gradient(135deg,#F7ECDF,#F0D8C8);border:2px solid #C89B6E;"></div>
                                        <small>ç²¾å“é¢¨</small>
                                    </div>
                                    <div class="rm-theme" data-theme="GREEN">
                                        <div class="rm-theme-color" style="background:#06C755;"></div>
                                        <small>LINE ç¶ </small>
                                    </div>
                                    <div class="rm-theme" data-theme="BLUE">
                                        <div class="rm-theme-color" style="background:#2196F3;"></div>
                                        <small>æµ·æ´‹è—</small>
                                    </div>
                                    <div class="rm-theme" data-theme="PURPLE">
                                        <div class="rm-theme-color" style="background:#9C27B0;"></div>
                                        <small>çš‡å®¶ç´«</small>
                                    </div>
                                    <div class="rm-theme" data-theme="ORANGE">
                                        <div class="rm-theme-color" style="background:#FF9800;"></div>
                                        <small>æ—¥è½æ©˜</small>
                                    </div>
                                    <div class="rm-theme" data-theme="DARK">
                                        <div class="rm-theme-color" style="background:#2C3E50;"></div>
                                        <small>æš—é»‘</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ä½ˆå±€é¸æ“‡ -->
                        <div class="card mb-3">
                            <div class="card-header py-2">
                                <h6 class="m-0"><i class="bi bi-grid-3x3 me-2"></i>ä½ˆå±€</h6>
                            </div>
                            <div class="card-body py-2">
                                <div class="d-flex flex-wrap gap-2" id="layoutSelector">
                                    <div class="rm-layout selected" data-layout="3+4" title="ä¸Šæ’3+ä¸‹æ’4ï¼ˆ7æ ¼ï¼Œæ¨™æº–å°ºå¯¸ï¼‰">
                                        <div class="rm-layout-mini"><div class="lrow"><i></i><i></i><i></i></div><div class="lrow"><i></i><i></i><i></i><i></i></div></div>
                                        <small>3+4</small>
                                    </div>
                                    <div class="rm-layout" data-layout="2x3" title="2è¡Œx3åˆ—ï¼ˆ6æ ¼ï¼Œæ¨™æº–å°ºå¯¸ï¼‰">
                                        <div class="rm-layout-mini"><div class="lrow"><i></i><i></i><i></i></div><div class="lrow"><i></i><i></i><i></i></div></div>
                                        <small>2x3</small>
                                    </div>
                                    <div class="rm-layout" data-layout="2x2" title="2è¡Œx2åˆ—ï¼ˆ4æ ¼ï¼Œæ¨™æº–å°ºå¯¸ï¼‰">
                                        <div class="rm-layout-mini"><div class="lrow"><i></i><i></i></div><div class="lrow"><i></i><i></i></div></div>
                                        <small>2x2</small>
                                    </div>
                                    <div class="rm-layout" data-layout="3+4+4" title="ä¸Šæ’3+ä¸­æ’4+ä¸‹æ’4ï¼ˆ11æ ¼ï¼Œå¤§å°ºå¯¸ï¼‰">
                                        <div class="rm-layout-mini"><div class="lrow"><i></i><i></i><i></i></div><div class="lrow"><i></i><i></i><i></i><i></i></div><div class="lrow"><i></i><i></i><i></i><i></i></div></div>
                                        <small>3+4+4</small>
                                    </div>
                                    <div class="rm-layout" data-layout="4+4" title="ä¸Šæ’4+ä¸‹æ’4ï¼ˆ8æ ¼ï¼Œå¤§å°ºå¯¸ï¼‰">
                                        <div class="rm-layout-mini"><div class="lrow"><i></i><i></i><i></i><i></i></div><div class="lrow"><i></i><i></i><i></i><i></i></div></div>
                                        <small>4+4</small>
                                    </div>
                                </div>
                                <div class="form-text mt-1">3è¡Œä½ˆå±€è‡ªå‹•ä½¿ç”¨å¤§å°ºå¯¸ï¼ˆFullï¼‰ï¼Œ2è¡Œä½¿ç”¨æ¨™æº–å°ºå¯¸ï¼ˆHalfï¼‰</div>
                            </div>
                        </div>

                        <!-- èƒŒæ™¯åœ–ç‰‡ -->
                        <div class="card mb-3">
                            <div class="card-header py-2"><h6 class="m-0"><i class="bi bi-image me-2"></i>èƒŒæ™¯åœ–ç‰‡ï¼ˆé¸å¡«ï¼‰</h6></div>
                            <div class="card-body py-2">
                                <input type="file" class="form-control form-control-sm" id="rmBgImage" accept="image/png,image/jpeg">
                                <div class="form-text">ä¸Šå‚³èƒŒæ™¯åœ–ï¼Œç³»çµ±æœƒåœ¨ä¸Šé¢ç–ŠåŠ æ¯æ ¼çš„åœ–ç¤ºå’Œæ–‡å­—ã€‚PNG/JPGï¼Œå»ºè­° 2500x843ï¼ˆæ¨™æº–ï¼‰æˆ– 2500x1686ï¼ˆå¤§å°ºå¯¸ï¼‰ã€‚ä¸ä¸Šå‚³å‰‡ä½¿ç”¨ä¸»é¡Œé…è‰²ã€‚</div>
                                <div id="rmBgPreviewWrap" class="mt-2 d-none">
                                    <img id="rmBgPreviewImg" src="" alt="" style="max-width:100%;border-radius:6px;border:1px solid #ddd;">
                                    <button class="btn btn-sm btn-outline-danger mt-1" onclick="clearBgImage()"><i class="bi bi-x me-1"></i>ç§»é™¤èƒŒæ™¯</button>
                                </div>
                            </div>
                        </div>

                        <!-- æ ¼å­è¨­å®š -->
                        <div class="card mb-3">
                            <div class="card-header py-2 d-flex justify-content-between align-items-center">
                                <h6 class="m-0"><i class="bi bi-hand-index me-2"></i>æ¯æ ¼è¨­å®š</h6>
                                <small class="text-muted">é»é è¦½æ ¼å­å¯å¿«é€Ÿå®šä½</small>
                            </div>
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table class="table table-sm table-hover mb-0" id="cellTable">
                                        <thead class="table-light">
                                            <tr>
                                                <th style="width:38px">#</th>
                                                <th style="width:100px">æ¨™ç±¤</th>
                                                <th>å‹•ä½œ</th>
                                                <th style="width:70px">åœ–ç¤º</th>
                                                <th style="width:40px"></th>
                                            </tr>
                                        </thead>
                                        <tbody id="cellTableBody"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- ç™¼å¸ƒ -->
                        <div class="d-flex gap-2 mb-4">
                            <button class="btn btn-outline-info" id="btnPreview" onclick="previewRichMenu()">
                                <i class="bi bi-eye me-1"></i>ç²¾ç¢ºé è¦½
                            </button>
                            <button class="btn btn-primary flex-fill" id="btnPublish" onclick="publishRichMenu()">
                                <i class="bi bi-send me-2"></i>ç™¼å¸ƒåˆ° LINE
                            </button>
                            <button class="btn btn-outline-secondary" onclick="saveDraft()">
                                <i class="bi bi-save me-1"></i>å„²å­˜è‰ç¨¿
                            </button>
                        </div>
                        <!-- ç²¾ç¢ºé è¦½çµæœ -->
                        <div class="card mb-4 d-none" id="previewResultCard">
                            <div class="card-header py-2 d-flex justify-content-between align-items-center">
                                <h6 class="m-0"><i class="bi bi-image me-2"></i>ä¼ºæœå™¨åˆæˆåœ–ï¼ˆç™¼å¸ƒå¾Œå¯¦éš›æ•ˆæœï¼‰</h6>
                                <button class="btn btn-sm btn-outline-secondary py-0" onclick="document.getElementById('previewResultCard').classList.add('d-none')"><i class="bi bi-x-lg"></i></button>
                            </div>
                            <div class="card-body p-2">
                                <img id="previewResultImg" src="" alt="é è¦½" style="width:100%;border-radius:6px;">
                            </div>
                        </div>
                    </div>

                    <!-- å³å´ï¼šé è¦½ -->
                    <div class="col-lg-5">
                        <div class="card sticky-top" style="top:16px">
                            <div class="card-header py-2"><h6 class="m-0"><i class="bi bi-phone me-2"></i>Rich Menu é è¦½</h6></div>
                            <div class="card-body p-3">
                                <div class="phone-frame mx-auto">
                                    <div class="phone-inner">
                                        <div class="line-top-bar">
                                            <i class="bi bi-chevron-left"></i>
                                            <span id="previewShopName">æˆ‘çš„åº—å®¶</span>
                                            <i class="bi bi-three-dots-vertical"></i>
                                        </div>
                                        <div class="line-chat-area">
                                            <div class="line-chat-bubble">æ­¡è¿å…‰è‡¨ï¼é»é¸ä¸‹æ–¹é¸å–®é–‹å§‹</div>
                                        </div>
                                        <div class="rm-preview" id="rmPreview"></div>
                                    </div>
                                </div>
                                <div class="text-center mt-2">
                                    <small class="text-muted" id="rmCurrentInfo">è¼‰å…¥ä¸­...</small>
                                    <br><small class="text-muted fst-italic">æ­¤ç‚ºç¤ºæ„é è¦½ï¼Œå¯¦éš›æ•ˆæœè«‹é»ã€Œç²¾ç¢ºé è¦½ã€</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>

                <!-- ================================================================ -->
                <!-- TAB 2: Flex ä¸»é¸å–®è¨­è¨ˆï¼ˆè¼ªæ’­å¡ç‰‡æ¨¡å¼ï¼‰                              -->
                <!-- ================================================================ -->
                <div class="tab-pane fade" id="tabFlexMenu">

                <!-- æ¨¡å¼åˆ‡æ› -->
                <div class="alert alert-info small mb-3 py-2">
                    <i class="bi bi-info-circle me-1"></i>
                    é¡§å®¢<strong>è¼¸å…¥ä»»ä½•æ–‡å­—</strong>æ™‚ï¼ŒLINE Bot å›è¦†çš„ä¸»é¸å–®ã€‚å¯åšæˆ <strong>1~12 å¼µè¼ªæ’­å¡ç‰‡</strong>ï¼ˆå·¦å³æ»‘å‹•ï¼‰ï¼Œæ¯å¼µå¡ç‰‡æœ‰ç¨ç«‹èƒŒæ™¯åœ–å’ŒæŒ‰éˆ•ã€‚é‚„å¯ä»¥<strong>æ’å…¥å»£å‘Šå¡ç‰‡</strong>ï¼ˆæ‰“é–‹ç¶²å€ï¼‰ã€‚
                </div>

                <div class="row">
                    <!-- å·¦å´ï¼šå¡ç‰‡è¨­å®š -->
                    <div class="col-lg-7">

                        <!-- å¡ç‰‡ç·¨è¼¯å€ï¼ˆ1~12 å¼µï¼‰ -->
                        <div id="fmCardEditors"></div>
                        <div class="text-center mb-3" id="fmAddCardWrap">
                            <button class="btn btn-outline-success btn-sm" onclick="addFmCard()">
                                <i class="bi bi-plus-lg me-1"></i>æ–°å¢å¡ç‰‡
                            </button>
                            <button class="btn btn-outline-info btn-sm ms-2" onclick="addFmAdCard()">
                                <i class="bi bi-megaphone me-1"></i>æ’å…¥å»£å‘Šå¡ç‰‡
                            </button>
                            <span class="text-muted small ms-2" id="fmCardCount"></span>
                        </div>

                        <!-- é ç´„æµç¨‹æ­¥é©Ÿè‡ªè¨‚ï¼ˆæ”¶åˆï¼‰ -->
                        <div class="card mb-3">
                            <div class="card-header py-2" data-bs-toggle="collapse" data-bs-target="#stepPanel" style="cursor:pointer">
                                <h6 class="m-0"><i class="bi bi-diagram-3 me-2"></i>é ç´„æµç¨‹æ­¥é©Ÿè‡ªè¨‚ <i class="bi bi-chevron-down float-end"></i></h6>
                            </div>
                            <div class="collapse" id="stepPanel">
                                <div class="card-body">
                                    <p class="small text-muted mb-2">è‡ªè¨‚é ç´„éç¨‹ä¸­æ¯æ­¥çš„ Header é¡è‰²èˆ‡æ¨™é¡Œæ–‡å­—</p>
                                    <div id="fmStepList"></div>
                                </div>
                            </div>
                        </div>

                        <!-- åŠŸèƒ½é é¢æ¨£å¼è‡ªè¨‚ï¼ˆæ”¶åˆï¼‰ -->
                        <div class="card mb-3">
                            <div class="card-header py-2" data-bs-toggle="collapse" data-bs-target="#funcPanel" style="cursor:pointer">
                                <h6 class="m-0"><i class="bi bi-brush me-2"></i>åŠŸèƒ½é é¢æ¨£å¼è‡ªè¨‚ <i class="bi bi-chevron-down float-end"></i></h6>
                            </div>
                            <div class="collapse" id="funcPanel">
                                <div class="card-body">
                                    <p class="small text-muted mb-2">è‡ªè¨‚å„åŠŸèƒ½ Flex Message çš„ Header é¡è‰²ã€åœ–ç¤ºèˆ‡æ¨™é¡Œï¼ˆä¾‹å¦‚æˆ‘çš„é ç´„ã€ç€è¦½å•†å“ç­‰é é¢ï¼‰</p>
                                    <div id="fmFuncList"></div>
                                </div>
                            </div>
                        </div>

                        <!-- å„²å­˜ -->
                        <div class="d-flex gap-2 mb-4">
                            <button class="btn btn-primary flex-fill" onclick="saveFlexMenu()">
                                <i class="bi bi-check-lg me-2"></i>å„²å­˜ä¸»é¸å–®
                            </button>
                            <button class="btn btn-outline-secondary" onclick="resetFlexMenu()">
                                <i class="bi bi-arrow-counterclockwise me-1"></i>æ¢å¾©é è¨­
                            </button>
                        </div>
                    </div>

                    <!-- å³å´ï¼šè¼ªæ’­é è¦½ -->
                    <div class="col-lg-5">
                        <div class="card sticky-top" style="top:16px">
                            <div class="card-header py-2"><h6 class="m-0"><i class="bi bi-phone me-2"></i>è¼ªæ’­å¡ç‰‡é è¦½</h6></div>
                            <div class="card-body p-3">
                                <div class="fm-carousel-frame mx-auto">
                                    <div class="fm-carousel-scroll" id="fmCarouselPreview"></div>
                                    <div class="fm-carousel-nav mt-2 text-center">
                                        <button class="btn btn-sm btn-outline-secondary py-0 px-2" onclick="scrollFmCarousel(-1)"><i class="bi bi-chevron-left"></i></button>
                                        <span class="mx-2 small text-muted" id="fmCardIndicator">1 / 7</span>
                                        <button class="btn btn-sm btn-outline-secondary py-0 px-2" onclick="scrollFmCarousel(1)"><i class="bi bi-chevron-right"></i></button>
                                    </div>
                                </div>
                                <div class="alert alert-light small mt-3 mb-0">
                                    <i class="bi bi-info-circle me-1"></i>
                                    é¡§å®¢å¯å·¦å³æ»‘å‹•ç€è¦½å¡ç‰‡ã€‚æ¯å¼µå¡ç‰‡é»æ“Šåœ–ç‰‡æˆ–æŒ‰éˆ•éƒ½æœƒè§¸ç™¼å°æ‡‰åŠŸèƒ½ã€‚
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                </div><!-- /tab-content -->
            </main>
            <footer th:replace="~{tenant/layout :: footer}"></footer>
        </div>
    </div>

    <div class="sidebar-overlay"></div>
    <div class="toast-container"></div>
    <div class="loading-overlay" style="display:none"><div class="loading-spinner"></div></div>
    <div th:replace="~{tenant/layout :: confirm-modal}"></div>

    <!-- Flex å½ˆçª— Modal -->
    <div class="modal fade" id="flexPopupModal" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-window-stack me-2"></i>Flex å½ˆçª—å¡ç‰‡è¨­å®š</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-info small py-2">
                        <i class="bi bi-info-circle me-1"></i>
                        é¡§å®¢é»æ“Š Rich Menu è©²æ ¼æ™‚ï¼Œæœƒ<strong>å½ˆå‡º</strong>ä¸‹æ–¹è¨­è¨ˆçš„å¡ç‰‡ã€‚å¯åšã€Œå–®å¼µå¡ç‰‡ã€æˆ–ã€Œå¤šå¼µè¼ªæ’­ã€ï¼ˆå·¦å³æ»‘å‹•ï¼‰ã€‚
                        æ¯å¼µå¡ç‰‡å¯æ”¾ä¸»åœ–ã€æ¨™é¡Œã€æè¿°ã€æŒ‰éˆ•ã€‚
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold small">é¡å‹</label>
                        <div class="btn-group btn-group-sm w-100">
                            <input type="radio" class="btn-check" name="fpType" id="fpTypeSingle" value="single" checked>
                            <label class="btn btn-outline-primary" for="fpTypeSingle">å–®ä¸€å¡ç‰‡</label>
                            <input type="radio" class="btn-check" name="fpType" id="fpTypeCarousel" value="carousel">
                            <label class="btn btn-outline-primary" for="fpTypeCarousel">è¼ªæ’­å¡ç‰‡ï¼ˆå¯å·¦å³æ»‘ï¼‰</label>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold small">åœ–ç‰‡æ¯”ä¾‹</label>
                        <select class="form-select form-select-sm" id="fpImageRatio" style="width:200px">
                            <option value="20:13" selected>20:13ï¼ˆé è¨­ LINE æ¯”ä¾‹ï¼‰</option>
                            <option value="1:1">1:1ï¼ˆæ­£æ–¹å½¢ï¼‰</option>
                            <option value="4:3">4:3</option>
                            <option value="16:9">16:9ï¼ˆå¯¬è¢å¹•ï¼‰</option>
                        </select>
                    </div>

                    <div id="fpCardList"></div>

                    <button class="btn btn-outline-primary btn-sm mt-2" id="btnAddCard" onclick="addFpCard()">
                        <i class="bi bi-plus-circle me-1"></i>æ–°å¢å¡ç‰‡
                    </button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">å–æ¶ˆ</button>
                    <button type="button" class="btn btn-primary btn-sm" onclick="saveFpConfig()"><i class="bi bi-check-lg me-1"></i>ç¢ºå®š</button>
                </div>
            </div>
        </div>
    </div>

    <th:block th:replace="~{tenant/layout :: scripts}"></th:block>

    <style>
    /* â”€â”€ ä¸»é¡Œé¸æ“‡ â”€â”€ */
    .rm-theme { cursor:pointer; text-align:center; padding:6px; border:2px solid transparent; border-radius:8px; transition:.2s; min-width:60px; }
    .rm-theme:hover { border-color:#dee2e6; }
    .rm-theme.selected { border-color:var(--primary-color,#4e73df); background:rgba(78,115,223,.06); }
    .rm-theme-color { width:48px; height:32px; border-radius:6px; margin:0 auto; }

    /* â”€â”€ ä½ˆå±€é¸æ“‡ â”€â”€ */
    .rm-layout { cursor:pointer; text-align:center; padding:8px 10px; border:2px solid #dee2e6; border-radius:8px; transition:.2s; min-width:64px; }
    .rm-layout:hover { border-color:#adb5bd; }
    .rm-layout.selected { border-color:var(--primary-color,#4e73df); background:rgba(78,115,223,.06); }
    .rm-layout-mini { display:flex; flex-direction:column; gap:2px; margin-bottom:4px; }
    .lrow { display:flex; gap:2px; height:12px; }
    .lrow>i { flex:1; background:#bbb; border-radius:2px; display:block; font-style:normal; }

    /* â”€â”€ æ‰‹æ©Ÿæ¡† â”€â”€ */
    .phone-frame { width:280px; background:#1a1a1a; border-radius:28px; padding:8px; box-shadow:0 8px 30px rgba(0,0,0,.15); }
    .phone-inner { background:#fff; border-radius:22px; overflow:hidden; display:flex; flex-direction:column; height:480px; }
    .line-top-bar { background:#fff; padding:10px 14px; display:flex; justify-content:space-between; align-items:center; font-size:13px; font-weight:600; color:#333; border-bottom:1px solid #eee; }
    .line-chat-area { flex:1; background:#7AADBA; display:flex; align-items:flex-end; padding:12px; }
    .line-chat-bubble { background:#fff; border-radius:14px; padding:8px 12px; font-size:11px; color:#333; max-width:80%; }

    /* â”€â”€ RM é è¦½ â”€â”€ */
    .rm-preview { display:flex; flex-direction:column; }
    .rm-prev-row { display:grid; }
    .rm-prev-cell { display:flex; flex-direction:column; align-items:center; justify-content:center; padding:4px 2px; border:1px solid rgba(0,0,0,.06); cursor:pointer; transition:.15s; position:relative; min-height:40px; }
    .rm-prev-cell:hover { filter:brightness(.95); }
    .rm-prev-cell.active { outline:2px solid #4e73df; outline-offset:-2px; z-index:1; }
    .rm-prev-cell .ci { font-size:16px; }
    .rm-prev-cell .cl { font-size:8px; text-align:center; font-weight:600; margin-top:1px; line-height:1.2; }
    .rm-prev-cell .cn { position:absolute; top:1px; left:3px; font-size:7px; opacity:.3; }
    /* ä¸»é¡Œè‰² */
    .rm-preview.t-GREEN { background:#06C755; }
    .rm-preview.t-GREEN .cl,.rm-preview.t-BLUE .cl,.rm-preview.t-PURPLE .cl,.rm-preview.t-ORANGE .cl,.rm-preview.t-DARK .cl { color:#fff; }
    .rm-preview.t-BLUE { background:#2196F3; }
    .rm-preview.t-PURPLE { background:#9C27B0; }
    .rm-preview.t-ORANGE { background:#FF9800; }
    .rm-preview[style*="background-image"] .cl { color:#fff !important; text-shadow:0 1px 3px rgba(0,0,0,.7); }
    .rm-preview.t-DARK { background:#2C3E50; }

    /* â”€â”€ æ ¼å­è¨­å®šè¡¨ â”€â”€ */
    #cellTable td,#cellTable th { vertical-align:middle; font-size:12px; padding:4px 8px; }
    #cellTable .form-control,#cellTable .form-select { font-size:12px; padding:3px 6px; }
    .cell-badge { display:inline-flex; width:22px; height:22px; align-items:center; justify-content:center; border-radius:5px; background:#f0f0f0; font-weight:700; font-size:11px; }

    /* â”€â”€ Flex è¼ªæ’­å¡ç‰‡é è¦½ â”€â”€ */
    .fm-carousel-frame { width:320px; }
    .fm-carousel-scroll { display:flex; gap:10px; overflow-x:auto; scroll-snap-type:x mandatory; padding:8px 4px; scrollbar-width:none; }
    .fm-carousel-scroll::-webkit-scrollbar { display:none; }
    .fm-card-prev { flex:0 0 220px; scroll-snap-align:start; background:#fff; border-radius:14px; overflow:hidden; box-shadow:0 2px 12px rgba(0,0,0,.1); display:flex; flex-direction:column; }
    .fm-card-prev-hero { width:100%; object-fit:cover; background:#f0f0f0; display:block; }
    .fm-card-prev-body { padding:12px 14px 8px; flex:1; color:#333; }
    .fm-card-prev-title { font-size:14px; font-weight:700; line-height:1.3; color:#333; }
    .fm-card-prev-sub { font-size:11px; color:#666; margin-top:4px; line-height:1.3; }
    .fm-card-prev-footer { padding:8px 14px 12px; }
    .fm-card-prev-btn { display:block; width:100%; text-align:center; padding:8px; border-radius:8px; color:#fff; font-size:13px; font-weight:600; }
    .fm-card-prev-no-img { height:60px; display:flex; align-items:center; justify-content:center; background:#f0f0f0; color:#bbb; font-size:12px; }

    /* â”€â”€ å¡ç‰‡ç·¨è¼¯å™¨ â”€â”€ */
    .fm-card-editor { border:1px solid #dee2e6; border-radius:10px; margin-bottom:10px; background:#fff; overflow:hidden; }
    .fm-card-editor-header { display:flex; align-items:center; gap:8px; padding:10px 14px; background:#f8f9fa; border-bottom:1px solid #eee; cursor:pointer; }
    .fm-card-editor-header:hover { background:#f0f1f3; }
    .fm-card-editor-num { width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:13px; color:#fff; }
    .fm-card-editor-title { font-size:13px; font-weight:600; flex:1; }
    .fm-card-editor-body { padding:14px; }
    .fm-card-editor-body.collapsed { display:none; }
    .fm-img-preview-wrap { margin-top:6px; border-radius:8px; overflow:hidden; border:1px solid #eee; position:relative; }
    .fm-img-preview-wrap img { width:100%; display:block; object-fit:cover; background:#f5f5f5; }
    .fm-img-preview-wrap .fm-img-placeholder { height:80px; display:flex; align-items:center; justify-content:center; background:#f5f5f5; color:#bbb; font-size:12px; }
    .fm-height-val { display:inline-block; width:36px; text-align:center; font-weight:600; font-size:12px; }

    /* â”€â”€ è‰²é» â”€â”€ */
    .fm-color-dot { width:20px; height:20px; border-radius:50%; display:inline-block; cursor:pointer; border:2px solid transparent; transition:.15s; }
    .fm-color-dot:hover { border-color:#333; transform:scale(1.15); }

    /* â”€â”€ Flex å½ˆçª—å¡ç‰‡ â”€â”€ */
    .fp-card { border:1px solid #dee2e6; border-radius:8px; padding:14px; margin-bottom:10px; background:#fafafa; position:relative; }
    .fp-card-num { position:absolute; top:6px; left:10px; font-size:10px; color:#999; font-weight:600; }
    .fp-card-del { position:absolute; top:6px; right:8px; }
    .fp-card-preview { margin-top:8px; background:#fff; border-radius:8px; border:1px solid #eee; overflow:hidden; }
    .fp-card-preview img { width:100%; height:80px; object-fit:cover; background:#f5f5f5; display:block; }
    .fp-card-preview .fp-prev-body { padding:8px; }
    .fp-card-preview .fp-prev-title { font-size:12px; font-weight:600; }
    .fp-card-preview .fp-prev-desc { font-size:10px; color:#666; margin-top:2px; }

    /* â”€â”€ æ­¥é©Ÿè¨­å®š â”€â”€ */
    .fm-step-editor { border:1px solid #dee2e6; border-radius:10px; margin-bottom:10px; background:#fff; overflow:hidden; }
    .fm-step-editor-header { display:flex; align-items:center; gap:8px; padding:10px 14px; background:#f8f9fa; border-bottom:1px solid #eee; cursor:pointer; }
    .fm-step-editor-header:hover { background:#f0f1f3; }
    .fm-step-editor-num { width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:13px; color:#fff; }
    .fm-step-editor-title { font-size:13px; font-weight:600; flex:1; color:#333; }
    .fm-step-editor-body { padding:14px; }
    .fm-step-editor-body.collapsed { display:none; }
    .fm-step-prev { display:flex; align-items:center; gap:10px; padding:8px 12px; border-radius:8px; color:#fff; margin-bottom:10px; }
    .fm-step-prev-icon { font-size:18px; }
    .fm-step-prev-text { flex:1; }
    .fm-step-prev-title { font-weight:700; font-size:14px; }
    .fm-step-prev-sub { font-size:11px; opacity:.8; margin-top:2px; }

    /* â”€â”€ ç¯„æœ¬åº« â”€â”€ */
    .sample-cat-btn { padding:4px 12px; border-radius:16px; border:1px solid #dee2e6; background:#fff; font-size:12px; cursor:pointer; transition:.2s; white-space:nowrap; }
    .sample-cat-btn:hover { border-color:#adb5bd; background:#f8f9fa; }
    .sample-cat-btn.active { background:var(--primary-color,#4e73df); border-color:var(--primary-color,#4e73df); color:#fff; }
    .sample-card { border:2px solid #eee; border-radius:10px; overflow:hidden; cursor:pointer; transition:.2s; height:100%; }
    .sample-card:hover { border-color:var(--primary-color,#4e73df); transform:translateY(-2px); box-shadow:0 4px 12px rgba(0,0,0,.1); }
    .sample-card-img { height:100px; background-size:cover; background-position:center; position:relative; }
    .sample-card-img::after { content:''; position:absolute; bottom:0; left:0; right:0; height:40px; background:linear-gradient(transparent,rgba(0,0,0,.5)); }
    .sample-card-badge { position:absolute; top:6px; right:6px; font-size:10px; padding:1px 8px; border-radius:10px; }
    .sample-card-body { padding:8px 10px; }
    .sample-card-title { font-size:13px; font-weight:600; margin-bottom:2px; }
    .sample-card-desc { font-size:10px; color:#888; line-height:1.3; }
    .sample-card-layout { position:absolute; bottom:6px; left:8px; color:#fff; font-size:10px; font-weight:600; text-shadow:0 1px 3px rgba(0,0,0,.5); }
    .sample-card-apply { text-align:center; padding:6px; border-top:1px solid #f0f0f0; }
    .sample-card-apply .btn { font-size:11px; padding:2px 16px; }

    /* â”€â”€ Tab æ¨£å¼åŠ å¼· â”€â”€ */
    .rm-design-tabs .nav-link { font-size:14px; font-weight:600; color:#666; border:2px solid transparent; border-bottom:none; padding:10px 20px; transition:.2s; }
    .rm-design-tabs .nav-link:hover { color:#333; background:#f8f9fa; }
    .rm-design-tabs .nav-link.active { background:var(--primary-color,#4e73df); color:#fff !important; border-color:var(--primary-color,#4e73df); border-radius:8px 8px 0 0; border-bottom:2px solid #fff; }

    /* â”€â”€ BOUTIQUE é è¦½åŠ å¼· â”€â”€ */
    .rm-preview.t-BOUTIQUE { background:linear-gradient(135deg,#F7ECDF,#F0D8C8); border:2px solid #C89B6E; }
    .rm-preview.t-BOUTIQUE .rm-prev-cell { border-color:rgba(200,155,110,.25); }
    .rm-preview.t-BOUTIQUE .cl { color:#5C4033; font-family:serif; letter-spacing:1px; }
    .rm-preview.t-BOUTIQUE .ci { filter:drop-shadow(0 1px 1px rgba(92,64,51,.3)); }

    /* â”€â”€ åŠŸèƒ½æ¨£å¼ç·¨è¼¯å™¨ â”€â”€ */
    .fm-func-editor { border:1px solid #dee2e6; border-radius:10px; margin-bottom:10px; background:#fff; overflow:hidden; }
    .fm-func-editor-header { display:flex; align-items:center; gap:8px; padding:10px 14px; background:#f8f9fa; border-bottom:1px solid #eee; cursor:pointer; }
    .fm-func-editor-header:hover { background:#f0f1f3; }
    .fm-func-editor-num { width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:13px; color:#fff; }
    .fm-func-editor-title { font-size:13px; font-weight:600; flex:1; color:#333; }
    .fm-func-editor-body { padding:14px; }
    .fm-func-editor-body.collapsed { display:none; }
    .fm-func-prev { display:flex; align-items:center; gap:10px; padding:8px 12px; border-radius:8px; color:#fff; margin-bottom:10px; }
    .fm-func-prev-icon { font-size:18px; }
    .fm-func-prev-text { flex:1; }
    .fm-func-prev-title { font-weight:700; font-size:14px; }
    .fm-func-prev-sub { font-size:11px; opacity:.8; margin-top:2px; }
    </style>

    <script>
    // ================================================================
    // Rich Menu ç‹€æ…‹
    // ================================================================
    let rmTheme = 'BOUTIQUE';
    let rmLayout = '3+4';
    let rmCells = [];
    let fpConfigs = {}; // flex popup per cell
    let fpEditingCell = -1;
    let rmBgFile = null; // èƒŒæ™¯åœ– File
    let rmBgUrl = ''; // èƒŒæ™¯åœ– URLï¼ˆç¯„æœ¬ç”¨ï¼‰
    let cellIconFiles = {}; // { cellIndex: File }
    let rmConfigLoaded = false; // é˜²æ­¢ API è¦†è“‹ä½¿ç”¨è€…å¥—ç”¨çš„ç¯„æœ¬

    // ================================================================
    // ç¯„æœ¬åº« â€” æ¯æ¥­ç¨® 3 å€‹ sample
    // åœ–ç‰‡ä¾†æº: Unsplash (å…è²»æˆæ¬Š)
    // ================================================================
    const SAMPLE_CATEGORIES = [
        { key:'pet',        label:'ğŸ¾ å¯µç‰©',    color:'#FF8A65' },
        { key:'beauty',     label:'ğŸ’… ç¾å®¹ç¾ç”²', color:'#EC407A' },
        { key:'hair',       label:'âœ‚ï¸ é«®å»Š',     color:'#AB47BC' },
        { key:'clinic',     label:'ğŸ¥ é†«ç¾è¨ºæ‰€', color:'#42A5F5' },
        { key:'fitness',    label:'ğŸ’ª å¥èº«æˆ¿',   color:'#66BB6A' },
        { key:'restaurant', label:'ğŸ½ï¸ é¤å»³',    color:'#FFA726' },
        { key:'spa',        label:'ğŸ§– SPA',     color:'#26C6DA' }
    ];

    const SAMPLES = {
        pet: [
            {
                name: 'æ¯›å­©å¤©å ‚', desc: 'ç²¾å“é¢¨æš–è‰²èª¿ï¼Œå¯µç‰©ç¾å®¹/æ—…é¤¨é¦–é¸', theme:'BOUTIQUE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç¾å®¹',a:'start_booking'},{l:'æŸ¥çœ‹é ç´„',a:'view_bookings'},{l:'å¯µç‰©å¥½ç‰©',a:'start_shopping'},
                    {l:'ç¨å®¶å¥½åº·',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æœƒå“¡å°ˆå€',a:'view_member_info'},{l:'èˆ‡æˆ‘å€‘èŠèŠ',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#8D6E63', headerTitle:'ğŸ¾ {shopName}', headerSubtitle:'æ­¡è¿å¸¶æ¯›å¯¶è²ä¾†æ‰¾æˆ‘å€‘ï¼' },
                fmFunctions: {
                    bookingList:{ color:'#8D6E63', icon:'ğŸ¾', title:'æ¯›å­©çš„é ç´„', subtitle:'æŸ¥çœ‹å¯¶è²çš„ç¾å®¹é ç´„' },
                    productMenu:{ color:'#FF8A65', icon:'ğŸ¦´', title:'å¯µç‰©å¥½ç‰©', subtitle:'ç²¾é¸é›¶é£Ÿã€ç©å…·ã€ç”¨å“' },
                    couponList:{ color:'#EF5350', icon:'ğŸ', title:'æ¯›å­©å„ªæƒ ', subtitle:'é™å®šæŠ˜æ‰£ç­‰ä½ æ‹¿' },
                    myCoupons:{ color:'#AB47BC', icon:'ğŸ«', title:'æˆ‘çš„å„ªæƒ åˆ¸', subtitle:'æŸ¥çœ‹å·²é ˜å–çš„å¥½åº·' },
                    memberInfo:{ color:'#6D4C41', icon:'ğŸ ', title:'æ¯›å­©å®¶é•·è³‡è¨Š', subtitle:'æœƒå“¡ç­‰ç´šèˆ‡é»æ•¸' },
                    contactShop:{ color:'#5D4037', icon:'ğŸ“±', title:'è¯çµ¡æ¯›å­©å¤©å ‚', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#8D6E63', icon:'âœ‚ï¸', title:'é¸æ“‡ç¾å®¹é …ç›®', subtitle:'æ´—æ¾¡ã€å‰ªæ¯›ã€SPA...' },
                    date:{ color:'#A1887F', icon:'ğŸ“…', title:'é¸å€‹å¥½æ—¥å­', subtitle:'æŸ¥çœ‹å¯é ç´„æ—¥æœŸ' },
                    staff:{ color:'#8D6E63', icon:'ğŸ§‘â€âš•ï¸', title:'æŒ‡å®šç¾å®¹å¸«', subtitle:'é¸æ“‡æ¯›å­©æœ€å–œæ­¡çš„äºº' },
                    confirm:{ color:'#6D4C41', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æª¢æŸ¥ä¸€ä¸‹å†é€å‡º' }
                }
            },
            {
                name: 'å¿«æ¨‚æ¯›å­©', desc: 'LINE ç¶ æ¸…æ–°é¢¨ï¼Œå¯µç‰©è¨ºæ‰€/ç¸é†«é™¢', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1574158622682-e40e69881006?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„çœ‹è¨º',a:'start_booking'},{l:'çœ‹è¨ºç´€éŒ„',a:'view_bookings'},{l:'ä¿å¥ç”¨å“',a:'start_shopping'},
                    {l:'æ–°å®¢å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æ¯›å­©æª”æ¡ˆ',a:'view_member_info'},{l:'ç·Šæ€¥è¯çµ¡',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#2E7D32', headerTitle:'ğŸ¥ {shopName}', headerSubtitle:'ç”¨æ„›å®ˆè­·æ¯ä¸€å€‹æ¯›å°å­© ğŸ’š' },
                fmFunctions: {
                    bookingList:{ color:'#2E7D32', icon:'ğŸ“‹', title:'çœ‹è¨ºç´€éŒ„', subtitle:'æŸ¥çœ‹é ç´„èˆ‡å°±è¨ºè¨˜éŒ„' },
                    productMenu:{ color:'#43A047', icon:'ğŸ’Š', title:'ä¿å¥ç”¨å“', subtitle:'ç¸é†«æ¨è–¦çš„ç‡Ÿé¤Šå“' },
                    memberInfo:{ color:'#1B5E20', icon:'ğŸ±', title:'æ¯›å­©å¥åº·æª”æ¡ˆ', subtitle:'ç–«è‹—ã€é«”é‡ã€ç—…æ­·' },
                    contactShop:{ color:'#388E3C', icon:'ğŸš¨', title:'ç·Šæ€¥è¯çµ¡', subtitle:'24 å°æ™‚æ€¥è¨ºå°ˆç·š' }
                },
                fmSteps: {
                    service:{ color:'#2E7D32', icon:'ğŸ©º', title:'é¸æ“‡çœ‹è¨ºé …ç›®', subtitle:'å¥æª¢ã€ç–«è‹—ã€çµç´®...' },
                    date:{ color:'#388E3C', icon:'ğŸ“…', title:'é¸æ“‡çœ‹è¨ºæ—¥', subtitle:'æŸ¥çœ‹é–€è¨ºæ™‚æ®µ' },
                    staff:{ color:'#2E7D32', icon:'ğŸ‘¨â€âš•ï¸', title:'æŒ‡å®šç¸é†«å¸«', subtitle:'é¸æ“‡æ¯›å­©ç†Ÿæ‚‰çš„é†«å¸«' },
                    time:{ color:'#43A047', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#388E3C', icon:'ğŸ“', title:'ç—‡ç‹€æè¿°', subtitle:'ç°¡è¿°æ¯›å­©çš„ç‹€æ³' },
                    confirm:{ color:'#1B5E20', icon:'âœ…', title:'ç¢ºèªæ›è™Ÿ', subtitle:'æˆ‘å€‘æœƒæº«æŸ”ç…§é¡§æ¯›å¯¶è²' }
                }
            },
            {
                name: 'å°Šå¯µæ®¿å ‚', desc: 'æš—é»‘å¥¢è¯é¢¨ï¼Œé«˜ç«¯å¯µç‰© SPA æœƒé¤¨', theme:'DARK', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=600&h=300&fit=crop',
                cells: [
                    {l:'VIP é ç´„',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç²¾å“é¸ç‰©',a:'start_shopping'},
                    {l:'å°Šæ¦®ç¦®é‡',a:'view_coupons'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'å°ˆå±¬ç®¡å®¶',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#263238', headerTitle:'ğŸ‘‘ {shopName}', headerSubtitle:'ç‚ºæ‚¨çš„æ¯›å­©æ‰“é€ æœ€å°Šæ¦®çš„é«”é©—' },
                fmFunctions: {
                    bookingList:{ color:'#37474F', icon:'ğŸ“‹', title:'å°Šæ¦®é ç´„', subtitle:'æŸ¥çœ‹ VIP é ç´„è¨˜éŒ„' },
                    productMenu:{ color:'#455A64', icon:'ğŸ’', title:'ç²¾å“é¸ç‰©', subtitle:'é ‚ç´šé€²å£å¯µç‰©ç”¨å“' },
                    memberInfo:{ color:'#263238', icon:'ğŸ‘‘', title:'VIP æœƒå“¡ä¸­å¿ƒ', subtitle:'å°ˆå±¬ç­‰ç´šèˆ‡å°Šæ¦®é»æ•¸' },
                    contactShop:{ color:'#37474F', icon:'ğŸ©', title:'å°ˆå±¬ç®¡å®¶', subtitle:'ä¸€å°ä¸€æœå‹™è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#37474F', icon:'ğŸ‘‘', title:'é¸æ“‡å°Šæ¦®æœå‹™', subtitle:'VIP æ´—æ¾¡ã€ç²¾å“ä¿®æ¯›ã€SPA' },
                    date:{ color:'#455A64', icon:'ğŸ“…', title:'é ç´„æ—¥æœŸ', subtitle:'ç‚ºæ¯›å­©å®‰æ’æœ€ä½³æ™‚é–“' },
                    staff:{ color:'#37474F', icon:'ğŸ©', title:'æŒ‡å®šå°ˆå±¬ç¾å®¹å¸«', subtitle:'' },
                    time:{ color:'#455A64', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#546E7A', icon:'ğŸ“', title:'ç‰¹æ®Šéœ€æ±‚', subtitle:'æ¯›å­©çš„ç‰¹æ®Šç¿’æ…£æˆ–æ³¨æ„äº‹é …' },
                    confirm:{ color:'#263238', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æˆ‘å€‘å°‡ç‚ºæ¯›å­©æº–å‚™æœ€å°Šæ¦®çš„é«”é©—' }
                }
            },
            {
                name: 'ç²‰èŒå¯µç‰©å±‹', desc: 'ç²‰ç´…å¤¢å¹»é¢¨ï¼Œå¯µç‰©å’–å•¡/ç²¾å“åº—', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æœå‹™',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'èŒå¯µç²¾å“',a:'start_shopping'},{l:'ç²‰ç´…å„ªæƒ ',a:'view_coupons'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#F48FB1', headerTitle:'ğŸŒ¸ {shopName}', headerSubtitle:'ç²‰ç´…æ³¡æ³¡è£¡çš„æ¯›å­©å¤©å ‚ ğŸ’•' },
                fmFunctions: {
                    bookingList:{ color:'#F48FB1', icon:'ğŸ¾', title:'å¯¶è²é ç´„', subtitle:'æŸ¥çœ‹æ¯›å­©çš„ç¾å®¹é ç´„' },
                    productMenu:{ color:'#F06292', icon:'ğŸ€', title:'èŒå¯µç²¾å“', subtitle:'ç²‰å«©é…ä»¶ã€å¯æ„›æœé£¾' },
                    couponList:{ color:'#EC407A', icon:'ğŸ’', title:'ç²‰ç´…å„ªæƒ ', subtitle:'ç”œèœœæŠ˜æ‰£ç­‰ä½ é ˜' },
                    memberInfo:{ color:'#E91E63', icon:'ğŸ’–', title:'ç²‰ç´…æœƒå“¡', subtitle:'ç´¯ç©æ„›å¿ƒé»æ•¸' },
                    contactShop:{ color:'#C2185B', icon:'ğŸ’Œ', title:'ç§è¨Šå°ç·¨', subtitle:'æ­¡è¿è©¢å•ä»»ä½•å•é¡Œ' }
                },
                fmSteps: {
                    service:{ color:'#F48FB1', icon:'ğŸ€', title:'é¸æ“‡æœå‹™', subtitle:'ç¾å®¹ã€å¯„å®¿ã€SPA...' },
                    date:{ color:'#F06292', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#F48FB1', icon:'ğŸ’•', title:'æŒ‡å®šç¾å®¹å¸«', subtitle:'' },
                    confirm:{ color:'#E91E63', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æœŸå¾…è¦‹åˆ°å¯æ„›çš„æ¯›å¯¶è²' }
                }
            },
            {
                name: 'éœ“è™¹å¯µæ„›', desc: 'éƒ½æœƒæ½®æµé¢¨ï¼Œå¯µç‰©æ—…é¤¨/å¤œé–“ç…§è­·', theme:'DARK', layout:'2x2',
                img: 'https://images.unsplash.com/photo-1535930749574-1399327ce78f?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„å…¥ä½',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'æ½®å¯µå¥½ç‰©',a:'start_shopping'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#1A1A2E', headerTitle:'ğŸŒƒ {shopName}', headerSubtitle:'å¤œæ™šä¹Ÿæœ‰äººå®ˆè­·ä½ çš„æ¯›å­© ğŸ¾' },
                fmFunctions: {
                    bookingList:{ color:'#16213E', icon:'ğŸ¨', title:'å…¥ä½ç´€éŒ„', subtitle:'æŸ¥çœ‹å¯„å®¿é ç´„' },
                    productMenu:{ color:'#0F3460', icon:'âœ¨', title:'æ½®å¯µå¥½ç‰©', subtitle:'æ™‚å°šé…ä»¶èˆ‡æ½®ç‰Œç”¨å“' },
                    memberInfo:{ color:'#1A1A2E', icon:'ğŸŒ™', title:'å¤œè¡Œæœƒå“¡', subtitle:'VIP å°ˆå±¬å„ªæƒ ' },
                    contactShop:{ color:'#16213E', icon:'ğŸ“', title:'ç·Šæ€¥è¯çµ¡', subtitle:'24 å°æ™‚å®ˆè­·' }
                },
                fmSteps: {
                    service:{ color:'#16213E', icon:'ğŸ¨', title:'é¸æ“‡æœå‹™', subtitle:'å¯„å®¿ã€å¤œé–“ç…§è­·ã€æ¥é€...' },
                    date:{ color:'#0F3460', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    confirm:{ color:'#1A1A2E', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æ¯›å­©å®‰å¿ƒå…¥ä½' }
                }
            },
            {
                name: 'å’Œé¢¨å°å‹•ç‰©', desc: 'æ—¥å¼ç¦ªæ„é¢¨ï¼Œå¯µç‰©æº«æ³‰/å’Œé¢¨æ—…é¤¨', theme:'GREEN', layout:'1+2',
                img: 'https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„é«”é©—',a:'start_booking'},
                    {l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#5D8A66', headerTitle:'ğŸƒ {shopName}', headerSubtitle:'å’Œé¢¨éœè¬ï¼Œæ¯›å­©çš„ç¦ªæ„æ™‚å…‰' },
                fmFunctions: {
                    bookingList:{ color:'#5D8A66', icon:'ğŸƒ', title:'é ç´„ç´€éŒ„', subtitle:'æŸ¥çœ‹æº«æ³‰èˆ‡è­·ç†é ç´„' },
                    memberInfo:{ color:'#4A7C59', icon:'ğŸ‹', title:'å’Œé¢¨æœƒå“¡', subtitle:'é›…ç·»çš„æœƒå“¡æœå‹™' },
                    contactShop:{ color:'#3B6B4A', icon:'ğŸ“', title:'è¯çµ¡æ—…é¤¨', subtitle:'æ­¡è¿ä¾†é›»æ´½è©¢' }
                },
                fmSteps: {
                    service:{ color:'#5D8A66', icon:'â™¨ï¸', title:'é¸æ“‡é …ç›®', subtitle:'æº«æ³‰æµ´ã€å’Œé¢¨ä¿®å‰ª...' },
                    confirm:{ color:'#3B6B4A', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'éœäº«å’Œé¢¨æ™‚å…‰' }
                }
            },
            {
                name: 'å¾©å¤æ¯›å­©é¤¨', desc: 'å¾©å¤æº«é¦¨é¢¨ï¼Œç¤¾å€å¯µç‰©åº—', theme:'ORANGE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æœå‹™',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç¶“å…¸å¥½ç‰©',a:'start_shopping'},
                    {l:'è€å®¢å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æœƒå“¡è³‡æ–™',a:'view_member_info'},{l:'è¯çµ¡åº—å®¶',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#BF6B3F', headerTitle:'ğŸ  {shopName}', headerSubtitle:'è¡—è§’é‚£é–“æœ€æº«æš–çš„å¯µç‰©åº—' },
                fmFunctions: {
                    bookingList:{ color:'#BF6B3F', icon:'ğŸ“‹', title:'é ç´„ç´€éŒ„', subtitle:'æŸ¥çœ‹ç¾å®¹èˆ‡å¯„é¤Šé ç´„' },
                    productMenu:{ color:'#D4845A', icon:'ğŸ¦´', title:'ç¶“å…¸å¥½ç‰©', subtitle:'æ‡·èˆŠé›¶é£Ÿèˆ‡ç¶“å…¸ç©å…·' },
                    couponList:{ color:'#E09B6E', icon:'ğŸ', title:'è€å®¢å„ªæƒ ', subtitle:'å¿ å¯¦é¡§å®¢å°ˆå±¬æŠ˜æ‰£' },
                    myCoupons:{ color:'#C47750', icon:'ğŸ«', title:'æˆ‘çš„å„ªæƒ ', subtitle:'' },
                    memberInfo:{ color:'#A85C38', icon:'ğŸ¡', title:'è€æœ‹å‹æª”æ¡ˆ', subtitle:'é™ªä¼´å¤šå¹´çš„å¥½é„°å±…' },
                    contactShop:{ color:'#8F4E30', icon:'ğŸ“', title:'è¯çµ¡åº—å®¶', subtitle:'æ­¡è¿ä¾†åå' }
                },
                fmSteps: {
                    service:{ color:'#BF6B3F', icon:'âœ‚ï¸', title:'é¸æ“‡æœå‹™', subtitle:'ç¾å®¹ã€æ´—æ¾¡ã€å¯„é¤Š...' },
                    date:{ color:'#D4845A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#BF6B3F', icon:'ğŸ‘©', title:'æŒ‡å®šåº—å“¡', subtitle:'' },
                    time:{ color:'#D4845A', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#E09B6E', icon:'ğŸ“', title:'å‚™è¨»äº‹é …', subtitle:'æ¯›å­©ç‰¹æ®Šéœ€æ±‚' },
                    confirm:{ color:'#A85C38', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æ­¡è¿æ¯›å­©å…‰è‡¨ï¼' }
                }
            },
            {
                name: 'æ™ºæ…§å¯µç‰©ç®¡å®¶', desc: 'ç§‘æŠ€ç°¡ç´„é¢¨ï¼Œæ™ºèƒ½å¯µç‰©ç…§è­·', theme:'BLUE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1537151625747-768eb6cf92b2?w=600&h=300&fit=crop',
                cells: [
                    {l:'æ™ºæ…§é ç´„',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç§‘æŠ€å¥½ç‰©',a:'start_shopping'},
                    {l:'æ–°å®¢é«”é©—',a:'view_coupons'},{l:'å¥åº·æª”æ¡ˆ',a:'view_member_info'},{l:'ç·šä¸Šå®¢æœ',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1976D2', headerTitle:'ğŸ¤– {shopName}', headerSubtitle:'ç§‘æŠ€å®ˆè­·æ¯›å­©å¥åº·' },
                fmFunctions: {
                    bookingList:{ color:'#1976D2', icon:'ğŸ“Š', title:'æ™ºæ…§ç´€éŒ„', subtitle:'AI åˆ†æå¥åº·è¶¨å‹¢' },
                    productMenu:{ color:'#1E88E5', icon:'ğŸ”¬', title:'ç§‘æŠ€å¥½ç‰©', subtitle:'æ™ºèƒ½é¤µé£Ÿå™¨ã€ç›£æ§æ”å½±' },
                    couponList:{ color:'#42A5F5', icon:'ğŸ', title:'æ–°å®¢é«”é©—', subtitle:'é¦–æ¬¡æ™ºæ…§é«”æª¢å…è²»' },
                    memberInfo:{ color:'#1565C0', icon:'ğŸ“±', title:'å¥åº·æª”æ¡ˆ', subtitle:'æ•¸ä½åŒ–æ¯›å­©å¥åº·ç´€éŒ„' },
                    contactShop:{ color:'#0D47A1', icon:'ğŸ’¬', title:'ç·šä¸Šå®¢æœ', subtitle:'å³æ™‚è«®è©¢è§£ç­”' }
                },
                fmSteps: {
                    service:{ color:'#1976D2', icon:'ğŸ”¬', title:'é¸æ“‡æœå‹™', subtitle:'æ™ºæ…§å¥æª¢ã€æ•¸ä½ç¾å®¹...' },
                    date:{ color:'#1E88E5', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#1976D2', icon:'ğŸ§‘â€âš•ï¸', title:'æŒ‡å®šå°ˆå“¡', subtitle:'' },
                    time:{ color:'#42A5F5', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æ™ºæ…§å®ˆè­·é–‹å§‹' }
                }
            },
            {
                name: 'æ­¡æ¨‚æ¯›å­©è¶´', desc: 'ç¹½ç´›æ­¡æ¨‚é¢¨ï¼Œå¯µç‰©éŠæ¨‚åœ’/æ´¾å°', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1591946614720-90a587da4a36?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æ´¾å°',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'æ´¾å°é“å…·',a:'start_shopping'},
                    {l:'æ­¡æ¨‚å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'å¿«æ¨‚æœƒå“¡',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#43A047', headerTitle:'ğŸ‰ {shopName}', headerSubtitle:'è®“æ¯›å­©é–‹å¿ƒç©è€æ¯ä¸€å¤©ï¼ğŸ¶' },
                fmFunctions: {
                    bookingList:{ color:'#43A047', icon:'ğŸŠ', title:'æ´¾å°ç´€éŒ„', subtitle:'æŸ¥çœ‹éŠæ¨‚èˆ‡æ´¾å°é ç´„' },
                    productMenu:{ color:'#66BB6A', icon:'ğŸˆ', title:'æ´¾å°é“å…·', subtitle:'å¸½å­ã€è›‹ç³•ã€ç©å…·' },
                    couponList:{ color:'#81C784', icon:'ğŸ', title:'æ­¡æ¨‚å„ªæƒ ', subtitle:'æªåœ˜æ›´åˆ’ç®—' },
                    myCoupons:{ color:'#A5D6A7', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#2E7D32', icon:'â­', title:'å¿«æ¨‚æœƒå“¡', subtitle:'ç´¯ç©æ­¡æ¨‚é»æ•¸' },
                    contactShop:{ color:'#1B5E20', icon:'ğŸ“', title:'è¯çµ¡æˆ‘å€‘', subtitle:'æ­¡è¿ä¾†é›»é ç´„æ´¾å°' }
                },
                fmSteps: {
                    service:{ color:'#43A047', icon:'ğŸ‰', title:'é¸æ“‡æ´»å‹•', subtitle:'ç”Ÿæ—¥è¶´ã€æ³³æ± è¶´ã€äº¤å‹è¶´...' },
                    date:{ color:'#66BB6A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    time:{ color:'#43A047', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#81C784', icon:'ğŸ“', title:'æ´¾å°å‚™è¨»', subtitle:'æ¯›å­©æ•¸é‡ã€ç‰¹æ®Šéœ€æ±‚' },
                    confirm:{ color:'#2E7D32', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æ´¾å°æº–å‚™ä¸­ï¼ğŸˆ' }
                }
            },
            {
                name: 'æ£®æ—å¯µç‰©èŠåœ’', desc: 'å¤§åœ°è‡ªç„¶é¢¨ï¼Œå¯µç‰©ç‰§å ´/è¾²å ´', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1537151625747-768eb6cf92b2?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„é«”é©—',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'å¤©ç„¶å¥½ç‰©',a:'start_shopping'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'è¯çµ¡èŠåœ’',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6D8B74', headerTitle:'ğŸŒ³ {shopName}', headerSubtitle:'åœ¨å¤§è‡ªç„¶è£¡èˆ‡æ¯›å­©ä¸€èµ·æ·±å‘¼å¸' },
                fmFunctions: {
                    bookingList:{ color:'#6D8B74', icon:'ğŸŒ¿', title:'èŠåœ’é ç´„', subtitle:'æˆ¶å¤–æ´»å‹•èˆ‡é«”é©—ç´€éŒ„' },
                    productMenu:{ color:'#7DA68A', icon:'ğŸŒ¾', title:'å¤©ç„¶å¥½ç‰©', subtitle:'æœ‰æ©Ÿé›¶é£Ÿã€è‰æœ¬è­·ç†' },
                    memberInfo:{ color:'#5B7B65', icon:'ğŸ‚', title:'èŠåœ’æœƒå“¡', subtitle:'ç´¯ç©è‡ªç„¶é»æ•¸' },
                    contactShop:{ color:'#4A6B55', icon:'ğŸ“', title:'è¯çµ¡èŠåœ’', subtitle:'æ­¡è¿ä¾†è¨ª' }
                },
                fmSteps: {
                    service:{ color:'#6D8B74', icon:'ğŸŒ³', title:'é¸æ“‡é«”é©—', subtitle:'ç‰§å ´æ•£æ­¥ã€æ³¥å·´æµ´...' },
                    date:{ color:'#7DA68A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    confirm:{ color:'#4A6B55', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'å¤§è‡ªç„¶åœ¨ç­‰ä½ å€‘' }
                }
            }
        ],
        beauty: [
            {
                name: 'æŒ‡å°–è—è¡“', desc: 'ç²¾å“é¢¨æº«æŸ”è‰²ï¼Œç¾ç”² / ç¾ç«å·¥ä½œå®¤', theme:'BOUTIQUE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1604654894610-df63bc536371?w=600&h=300&fit=crop',
                cells: [
                    {l:'ç«‹å³é ç´„',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç¾ç”²å°ç‰©',a:'start_shopping'},
                    {l:'æœ¬æœˆå„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æœƒå“¡å°ˆå€',a:'view_member_info'},{l:'ç§è¨Šå°ç·¨',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#D81B60', headerTitle:'ğŸ’… {shopName}', headerSubtitle:'è®“æŒ‡å°–ç¶»æ”¾ç¨ä¸€ç„¡äºŒçš„å…‰èŠ’ âœ¨' },
                fmFunctions: {
                    bookingList:{ color:'#C2185B', icon:'ğŸ’…', title:'æˆ‘çš„ç¾ç”²é ç´„', subtitle:'æŸ¥çœ‹é ç´„æ™‚é–“èˆ‡æ¬¾å¼' },
                    productMenu:{ color:'#E91E63', icon:'ğŸ’„', title:'ç¾ç”²å°ç‰©', subtitle:'æŒ‡ç”²æ²¹ã€é£¾å“ã€è­·ç†æ²¹' },
                    couponList:{ color:'#F06292', icon:'ğŸŒ¸', title:'æœ¬æœˆé™å®š', subtitle:'é–¨èœœåŒè¡Œäº«å„ªæƒ ' },
                    myCoupons:{ color:'#CE93D8', icon:'ğŸ«', title:'æˆ‘çš„å„ªæƒ ', subtitle:'' },
                    memberInfo:{ color:'#AD1457', icon:'ğŸ’–', title:'ç¾ç”²æœƒå“¡', subtitle:'ç´¯ç©é»æ•¸æ›å…è²»æ¬¾å¼' },
                    contactShop:{ color:'#880E4F', icon:'ğŸ’¬', title:'ç§è¨Šå°ç·¨', subtitle:'æ¬¾å¼è«®è©¢ã€æª”æœŸç¢ºèª' }
                },
                fmSteps: {
                    service:{ color:'#D81B60', icon:'ğŸ’…', title:'é¸æ“‡æ¬¾å¼', subtitle:'å‡è† ã€å…‰ç™‚ã€æ‰‹è¶³ä¿é¤Š...' },
                    staff:{ color:'#C2185B', icon:'ğŸ‘©â€ğŸ¨', title:'æŒ‡å®šç¾ç”²å¸«', subtitle:'' },
                    confirm:{ color:'#AD1457', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æœŸå¾…ç‚ºæ‚¨æ‰“é€ ç¾éº—æŒ‡å°–' }
                }
            },
            {
                name: 'ç´«å¤¢ç¾å­¸', desc: 'çš‡å®¶ç´«å„ªé›…é¢¨ï¼Œè‡‰éƒ¨ä¿é¤Š / ç¾é«”ä¸­å¿ƒ', theme:'PURPLE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è­·ç†',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ä¿é¤Šç²¾é¸',a:'start_shopping'},
                    {l:'é™æ™‚å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'ç¾éº—æª”æ¡ˆ',a:'view_member_info'},{l:'å°ˆæ¥­è«®è©¢',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#7B1FA2', headerTitle:'âœ¨ {shopName}', headerSubtitle:'å°ˆæ¥­ç¾å®¹ï¼Œå‘µè­·æ¯ä¸€å‹è‚Œè†š' },
                fmFunctions: {
                    bookingList:{ color:'#7B1FA2', icon:'ğŸŒ™', title:'è­·ç†é ç´„', subtitle:'æŸ¥çœ‹è‡‰éƒ¨/èº«é«”ç™‚ç¨‹é ç´„' },
                    productMenu:{ color:'#9C27B0', icon:'ğŸ§´', title:'ä¿é¤Šç²¾é¸', subtitle:'ç²¾è¯æ¶²ã€é¢è†œã€è­·ç†éœœ' },
                    couponList:{ color:'#BA68C8', icon:'ğŸ’œ', title:'ç¾éº—ç‰¹æƒ ', subtitle:'é¦–æ¬¡é«”é©—äº«æŠ˜æ‰£' },
                    memberInfo:{ color:'#6A1B9A', icon:'ğŸ‘¸', title:'æˆ‘çš„ç¾éº—æª”æ¡ˆ', subtitle:'è†šè³ªç´€éŒ„èˆ‡è­·ç†æ­·ç¨‹' },
                    contactShop:{ color:'#4A148C', icon:'ğŸ’â€â™€ï¸', title:'å°ˆæ¥­è«®è©¢', subtitle:'å…è²»è†šè³ªæª¢æ¸¬é ç´„' }
                },
                fmSteps: {
                    service:{ color:'#7B1FA2', icon:'âœ¨', title:'é¸æ“‡è­·ç†é …ç›®', subtitle:'è‡‰éƒ¨ã€èº«é«”ã€ç¾é«”é›•å¡‘...' },
                    date:{ color:'#8E24AA', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'æŸ¥çœ‹ç¾å®¹å¸«ç©ºæª”' },
                    staff:{ color:'#7B1FA2', icon:'ğŸ‘©â€âš•ï¸', title:'æŒ‡å®šç¾å®¹å¸«', subtitle:'é¸æ“‡æ‚¨ä¿¡è³´çš„å°ˆæ¥­ç¾å®¹å¸«' },
                    time:{ color:'#9C27B0', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#8E24AA', icon:'ğŸ“', title:'è†šæ³å‚™è¨»', subtitle:'éæ•ã€æ•æ„Ÿéƒ¨ä½ç­‰æé†’' },
                    confirm:{ color:'#6A1B9A', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æœŸå¾…ç‚ºæ‚¨å¸¶ä¾†ç¾éº—è›»è®Š' }
                }
            },
            {
                name: 'æµ·æ´‹ä¹‹å¿ƒ', desc: 'æµ·æ´‹è—æ¸…çˆ½é¢¨ï¼Œè­·è†šä¸­å¿ƒ / ä¿é¤Šå“ç‰Œ', theme:'BLUE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è­·è†š',a:'start_booking'},{l:'æŸ¥è©¢é ç´„',a:'view_bookings'},{l:'ä¿é¤Šå“',a:'start_shopping'},
                    {l:'é«”é©—å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„å¸³æˆ¶',a:'view_member_info'},{l:'ç·šä¸Šè«®è©¢',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1565C0', headerTitle:'ğŸ’ {shopName}', headerSubtitle:'è®“è‚Œè†šé‡æ‹¾æ°´æ½¤é€äº®å…‰æ¾¤' },
                fmFunctions: {
                    bookingList:{ color:'#1565C0', icon:'ğŸŒŠ', title:'è­·è†šé ç´„', subtitle:'' },
                    productMenu:{ color:'#1976D2', icon:'ğŸ’§', title:'ä¿é¤Šå“ç‰Œ', subtitle:'é†«ç¾ç´šä¿é¤Šå“' },
                    memberInfo:{ color:'#0D47A1', icon:'ğŸ’', title:'æœƒå“¡ä¸­å¿ƒ', subtitle:'æ¶ˆè²»ç©é»å…Œå¥½ç¦®' }
                },
                fmSteps: {
                    service:{ color:'#1565C0', icon:'ğŸ’', title:'é¸æ“‡è­·è†šç™‚ç¨‹', subtitle:'æ·±å±¤è£œæ°´ã€ç¾ç™½ã€æŠ—è€...' },
                    date:{ color:'#1976D2', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#1565C0', icon:'ğŸ‘©â€âš•ï¸', title:'æŒ‡å®šè­·è†šå¸«', subtitle:'' },
                    time:{ color:'#1976D2', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#42A5F5', icon:'ğŸ“', title:'è†šè³ªå‚™è¨»', subtitle:'æ–¹ä¾¿è­·è†šå¸«èª¿é…é©åˆçš„ç”¢å“' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'è®“è‚Œè†šå›æ­¸æ°´æ½¤å…‰æ¾¤' }
                }
            },
            {
                name: 'ç²‰ç´…ç¾å­¸é¤¨', desc: 'ç²‰å«©ç”œç¾é¢¨ï¼Œå°‘å¥³ç¾ç”²/ç¾ç«', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=600&h=300&fit=crop',
                cells: [
                    {l:'ç«‹å³é ç´„',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'ç¾å¦å°ç‰©',a:'start_shopping'},{l:'é–¨èœœå„ªæƒ ',a:'view_coupons'},{l:'ç”œå¿ƒæœƒå“¡',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#F8BBD0', headerTitle:'ğŸŒ· {shopName}', headerSubtitle:'ç²‰ç´…æ³¡æ³¡è£¡çš„ç¾éº—ç§˜å¯† ğŸ’—' },
                fmFunctions: {
                    bookingList:{ color:'#F48FB1', icon:'ğŸ’…', title:'ç¾éº—é ç´„', subtitle:'æŸ¥çœ‹ç¾ç”²ç¾ç«é ç´„' },
                    productMenu:{ color:'#F06292', icon:'ğŸŒ¸', title:'ç¾å¦å°ç‰©', subtitle:'æŒ‡ç”²è²¼ã€å‡ç«æ¯›ã€è­·ç†æ¶²' },
                    couponList:{ color:'#EC407A', icon:'ğŸ’', title:'é–¨èœœå„ªæƒ ', subtitle:'é›™äººåŒè¡Œäº«æŠ˜æ‰£' },
                    memberInfo:{ color:'#E91E63', icon:'ğŸ’–', title:'ç”œå¿ƒæœƒå“¡', subtitle:'ç´¯ç©ç¾éº—é»æ•¸' },
                    contactShop:{ color:'#C2185B', icon:'ğŸ’Œ', title:'ç§è¨Šå°ç·¨', subtitle:'æ¬¾å¼è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#F48FB1', icon:'ğŸ’…', title:'é¸æ“‡é …ç›®', subtitle:'ç¾ç”²ã€ç¾ç«ã€ç´‹ç¹¡...' },
                    staff:{ color:'#F06292', icon:'ğŸ‘©â€ğŸ¨', title:'æŒ‡å®šç¾ç”²å¸«', subtitle:'' },
                    confirm:{ color:'#E91E63', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'è®Šç¾çš„æ—…ç¨‹å³å°‡é–‹å§‹' }
                }
            },
            {
                name: 'éœ“è™¹ç¾ç”²å§', desc: 'éœ“è™¹æ´¾å°é¢¨ï¼Œå¤œåº—é¢¨ç¾ç”²', theme:'DARK', layout:'2x2',
                img: 'https://images.unsplash.com/photo-1519014816548-bf5fe059798b?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç¾ç”²',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'æ½®æµå¥½ç‰©',a:'start_shopping'},{l:'VIP æœƒå“¡',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#1A1A2E', headerTitle:'ğŸ’œ {shopName}', headerSubtitle:'å¤œè‰²ä¸‹é–ƒè€€çš„æŒ‡å°–è—è¡“' },
                fmFunctions: {
                    bookingList:{ color:'#16213E', icon:'ğŸ’…', title:'é ç´„ç´€éŒ„', subtitle:'æŸ¥çœ‹ç¾ç”²é ç´„' },
                    productMenu:{ color:'#0F3460', icon:'âœ¨', title:'æ½®æµå¥½ç‰©', subtitle:'äº®ç²‰ã€è²¼é‘½ã€å…‰ç™‚' },
                    memberInfo:{ color:'#1A1A2E', icon:'ğŸŒ™', title:'å¤œå…‰æœƒå“¡', subtitle:'æ´¾å°å°ˆå±¬æŠ˜æ‰£' },
                    contactShop:{ color:'#16213E', icon:'ğŸ’¬', title:'ç·šä¸Šè«®è©¢', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#16213E', icon:'ğŸ’…', title:'é¸æ“‡æ¬¾å¼', subtitle:'å…‰ç™‚ã€è²¼é‘½ã€æšˆæŸ“...' },
                    staff:{ color:'#0F3460', icon:'ğŸ‘©â€ğŸ¨', title:'æŒ‡å®šç¾ç”²å¸«', subtitle:'' },
                    confirm:{ color:'#1A1A2E', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'é–ƒè€€ä½ çš„å¤œæ™š' }
                }
            },
            {
                name: 'å’Œé¢¨ç¾å®¹å®¤', desc: 'æ—¥å¼éœè¬é¢¨ï¼Œå’Œæ¼¢ç¾å®¹', theme:'GREEN', layout:'1+2',
                img: 'https://images.unsplash.com/photo-1632345031435-8727f6897d53?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è­·ç†',a:'start_booking'},
                    {l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#5D8A66', headerTitle:'ğŸ‹ {shopName}', headerSubtitle:'å’Œæ¼¢ä¹‹ç¾ï¼Œç”±å…§è€Œå¤–çš„ç¶»æ”¾' },
                fmFunctions: {
                    bookingList:{ color:'#5D8A66', icon:'ğŸŒ¸', title:'è­·ç†ç´€éŒ„', subtitle:'æŸ¥çœ‹ç¾å®¹é ç´„' },
                    memberInfo:{ color:'#4A7C59', icon:'ğŸ‹', title:'å’Œé¢¨æœƒå“¡', subtitle:'é›…ç·»çš„æœƒå“¡ç¦®é‡' },
                    contactShop:{ color:'#3B6B4A', icon:'ğŸ“', title:'é ç´„è«®è©¢', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#5D8A66', icon:'ğŸŒ¸', title:'é¸æ“‡é …ç›®', subtitle:'å’Œæ¼¢è­·è†šã€è‰æœ¬æ•·è‡‰...' },
                    confirm:{ color:'#3B6B4A', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'éœäº«å’Œæ¼¢ä¹‹ç¾' }
                }
            },
            {
                name: 'å¾©å¤ç¾äººåŠ', desc: 'å¾©å¤æ‡·èˆŠé¢¨ï¼Œç¶“å…¸ç¾å®¹é™¢', theme:'ORANGE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1560750588-73207b1ef5b8?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç¾å®¹',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç¶“å…¸ä¿é¤Š',a:'start_shopping'},
                    {l:'è€å®¢å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'ç¾äººæª”æ¡ˆ',a:'view_member_info'},{l:'è¯çµ¡ç¾å®¹é™¢',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#BF6B3F', headerTitle:'ğŸ’„ {shopName}', headerSubtitle:'ç¶“å…¸ä¸æ•—çš„ç¾éº—å‚³æ‰¿' },
                fmFunctions: {
                    bookingList:{ color:'#BF6B3F', icon:'ğŸ’„', title:'ç¾å®¹ç´€éŒ„', subtitle:'æŸ¥çœ‹è­·è†šèˆ‡ç¾é«”é ç´„' },
                    productMenu:{ color:'#D4845A', icon:'ğŸ§´', title:'ç¶“å…¸ä¿é¤Š', subtitle:'å¾©å¤é…æ–¹ã€å¤©ç„¶æˆåˆ†' },
                    couponList:{ color:'#E09B6E', icon:'ğŸ', title:'è€å®¢å„ªæƒ ', subtitle:'å¿ å¯¦é¡§å®¢å›é¥‹' },
                    myCoupons:{ color:'#C47750', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#A85C38', icon:'ğŸ‘¸', title:'ç¾äººæª”æ¡ˆ', subtitle:'æ‚¨çš„ç¾éº—æ­·ç¨‹' },
                    contactShop:{ color:'#8F4E30', icon:'ğŸ“', title:'è¯çµ¡æˆ‘å€‘', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#BF6B3F', icon:'ğŸ’„', title:'é¸æ“‡é …ç›®', subtitle:'è‡‰éƒ¨ã€ç¾é«”ã€ä¿®çœ‰...' },
                    date:{ color:'#D4845A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#BF6B3F', icon:'ğŸ‘©â€âš•ï¸', title:'æŒ‡å®šç¾å®¹å¸«', subtitle:'' },
                    time:{ color:'#E09B6E', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#D4845A', icon:'ğŸ“', title:'è†šæ³å‚™è¨»', subtitle:'éæ•ã€è†šè³ªç­‰æé†’' },
                    confirm:{ color:'#A85C38', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ç¶“å…¸ç¾éº—å³å°‡å±•é–‹' }
                }
            },
            {
                name: 'å…‰æ„Ÿç§‘æŠ€ç¾è†š', desc: 'ç§‘æŠ€æœªä¾†é¢¨ï¼Œå„€å™¨ç¾å®¹', theme:'BLUE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1616394584738-fc6e612e71b9?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç™‚ç¨‹',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç§‘æŠ€ä¿é¤Š',a:'start_shopping'},
                    {l:'é«”é©—åƒ¹',a:'view_coupons'},{l:'è†šè³ªæª”æ¡ˆ',a:'view_member_info'},{l:'ç·šä¸Šè«®è©¢',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1976D2', headerTitle:'ğŸ”¬ {shopName}', headerSubtitle:'ç§‘æŠ€è³¦èƒ½ï¼Œç²¾æº–ç¾è†š' },
                fmFunctions: {
                    bookingList:{ color:'#1976D2', icon:'ğŸ“Š', title:'ç™‚ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹å„€å™¨ç¾å®¹é ç´„' },
                    productMenu:{ color:'#1E88E5', icon:'ğŸ§ª', title:'ç§‘æŠ€ä¿é¤Š', subtitle:'ç²¾è¯æ¶²ã€å®‰ç“¶ã€å°å…¥å„€' },
                    couponList:{ color:'#42A5F5', icon:'ğŸ', title:'é¦–æ¬¡é«”é©—', subtitle:'å„€å™¨ç¾è†šåŠåƒ¹é«”é©—' },
                    memberInfo:{ color:'#1565C0', icon:'ğŸ“±', title:'è†šè³ªæª”æ¡ˆ', subtitle:'AI è†šè³ªåˆ†æç´€éŒ„' },
                    contactShop:{ color:'#0D47A1', icon:'ğŸ’¬', title:'ç·šä¸Šè«®è©¢', subtitle:'å°ˆæ¥­è†šè³ªè©•ä¼°' }
                },
                fmSteps: {
                    service:{ color:'#1976D2', icon:'ğŸ”¬', title:'é¸æ“‡ç™‚ç¨‹', subtitle:'å…‰å­å«©è†šã€è¶…è²æ³¢ã€RF...' },
                    date:{ color:'#1E88E5', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#1976D2', icon:'ğŸ‘©â€âš•ï¸', title:'æŒ‡å®šç¾å®¹å¸«', subtitle:'' },
                    time:{ color:'#42A5F5', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ç²¾æº–ç¾è†šå³å°‡é–‹å§‹' }
                }
            },
            {
                name: 'ç¹½ç´›ç¾ç”²æ´¾å°', desc: 'æ´»åŠ›ç¹½ç´›é¢¨ï¼Œé–¨èœœç¾ç”²è¶´', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç¾ç”²',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç¹½ç´›å°ç‰©',a:'start_shopping'},
                    {l:'æªåœ˜å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æ­¡æ¨‚æœƒå“¡',a:'view_member_info'},{l:'æ‰¾æˆ‘å€‘ç©',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#43A047', headerTitle:'ğŸ¨ {shopName}', headerSubtitle:'å’Œé–¨èœœä¸€èµ·äº«å—ç¹½ç´›ç¾ç”²è¶´ï¼' },
                fmFunctions: {
                    bookingList:{ color:'#43A047', icon:'ğŸ’…', title:'ç¾ç”²ç´€éŒ„', subtitle:'æŸ¥çœ‹ç¹½ç´›é ç´„' },
                    productMenu:{ color:'#66BB6A', icon:'ğŸ¨', title:'ç¹½ç´›å°ç‰©', subtitle:'æŒ‡ç”²è²¼ç´™ã€äº®ç²‰ã€é£¾å“' },
                    couponList:{ color:'#81C784', icon:'ğŸŠ', title:'æªåœ˜å„ªæƒ ', subtitle:'ä¸‰äººåŒè¡Œä¸€äººå…è²»' },
                    myCoupons:{ color:'#A5D6A7', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#2E7D32', icon:'â­', title:'æ­¡æ¨‚æœƒå“¡', subtitle:'ç´¯ç©æ´¾å°é»æ•¸' },
                    contactShop:{ color:'#1B5E20', icon:'ğŸ“', title:'æ‰¾æˆ‘å€‘ç©', subtitle:'åŒ…å ´æ´¾å°æ­¡è¿é ç´„' }
                },
                fmSteps: {
                    service:{ color:'#43A047', icon:'ğŸ¨', title:'é¸æ“‡æ¬¾å¼', subtitle:'ç¹½ç´›å‡è† ã€å½©è™¹æšˆæŸ“...' },
                    staff:{ color:'#66BB6A', icon:'ğŸ‘©â€ğŸ¨', title:'æŒ‡å®šç¾ç”²å¸«', subtitle:'' },
                    note:{ color:'#81C784', icon:'ğŸ“', title:'æ¬¾å¼å‚™è¨»', subtitle:'å–œæ­¡çš„é¡è‰²èˆ‡é¢¨æ ¼' },
                    confirm:{ color:'#2E7D32', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ç¹½ç´›æ´¾å°ç­‰ä½ ä¾†ï¼' }
                }
            },
            {
                name: 'è‰æœ¬ç¾å®¹å·¥åŠ', desc: 'å¤©ç„¶æœ‰æ©Ÿé¢¨ï¼Œè‰æœ¬ä¿é¤Š', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1616394584738-fc6e612e71b9?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è­·è†š',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'è‰æœ¬ç”¢å“',a:'start_shopping'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'è¯çµ¡å·¥åŠ',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6D8B74', headerTitle:'ğŸŒ¿ {shopName}', headerSubtitle:'å–è‡ªå¤§åœ°çš„æº«æŸ”è­·è†šåŠ›é‡' },
                fmFunctions: {
                    bookingList:{ color:'#6D8B74', icon:'ğŸŒ¿', title:'è­·è†šç´€éŒ„', subtitle:'æŸ¥çœ‹è‰æœ¬è­·ç†é ç´„' },
                    productMenu:{ color:'#7DA68A', icon:'ğŸŒ±', title:'è‰æœ¬ç”¢å“', subtitle:'å¤©ç„¶ç²¾æ²¹ã€è‰æœ¬é¢è†œ' },
                    memberInfo:{ color:'#5B7B65', icon:'ğŸƒ', title:'ç¶ è‰²æœƒå“¡', subtitle:'ç’°ä¿ç©é»å›é¥‹' },
                    contactShop:{ color:'#4A6B55', icon:'ğŸ“', title:'è¯çµ¡å·¥åŠ', subtitle:'è†šè³ªè«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#6D8B74', icon:'ğŸŒ¿', title:'é¸æ“‡è­·ç†', subtitle:'è‰æœ¬æ•·è‡‰ã€ç²¾æ²¹æŒ‰æ‘©...' },
                    date:{ color:'#7DA68A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#6D8B74', icon:'ğŸ‘©â€âš•ï¸', title:'æŒ‡å®šè­·è†šå¸«', subtitle:'' },
                    confirm:{ color:'#4A6B55', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'è®“å¤§åœ°æ»‹é¤Šä½ çš„è‚Œè†š' }
                }
            }
        ],
        hair: [
            {
                name: 'è³ªæ„Ÿé«®å»Š', desc: 'ç²¾å“é¢¨å¥¶èŒ¶è‰²ï¼Œè¨­è¨ˆå¸«å·¥ä½œå®¤ / æ²™é¾', theme:'BOUTIQUE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?w=600&h=300&fit=crop',
                cells: [
                    {l:'ç·šä¸Šé ç´„',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'é«®å“æ¨è–¦',a:'start_shopping'},
                    {l:'æœ¬æœˆæ´»å‹•',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æœƒå“¡å°ˆé ',a:'view_member_info'},{l:'è¯ç¹«è¨­è¨ˆå¸«',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6D4C41', headerTitle:'âœ‚ï¸ {shopName}', headerSubtitle:'æ‰“é€ å±¬æ–¼ä½ çš„è³ªæ„Ÿé¢¨æ ¼' },
                fmFunctions: {
                    bookingList:{ color:'#6D4C41', icon:'ğŸ’‡', title:'æˆ‘çš„é ç´„', subtitle:'æŸ¥çœ‹å‰ªæŸ“ç‡™é ç´„' },
                    productMenu:{ color:'#8D6E63', icon:'ğŸ§´', title:'è¨­è¨ˆå¸«æ¨è–¦', subtitle:'æ´—è­·ã€é€ å‹ã€é ­çš®é¤Šè­·' },
                    couponList:{ color:'#A1887F', icon:'ğŸ', title:'æœ¬æœˆæ´»å‹•', subtitle:'æŸ“é«®æŠ˜æ‰£ã€è­·é«®åŠ è³¼' },
                    memberInfo:{ color:'#5D4037', icon:'ğŸ’ˆ', title:'æˆ‘çš„é«®å‹ç´€éŒ„', subtitle:'ç´¯ç©æ¶ˆè²»äº«å‡ç­‰' },
                    contactShop:{ color:'#4E342E', icon:'âœ‚ï¸', title:'è¯ç¹«è¨­è¨ˆå¸«', subtitle:'é«®å‹è«®è©¢ã€ä½œå“é›†' }
                },
                fmSteps: {
                    service:{ color:'#6D4C41', icon:'âœ‚ï¸', title:'é¸æ“‡æœå‹™', subtitle:'å‰ªé«®ã€æŸ“é«®ã€ç‡™é«®ã€è­·é«®...' },
                    staff:{ color:'#795548', icon:'ğŸ’‡â€â™€ï¸', title:'æŒ‡å®šè¨­è¨ˆå¸«', subtitle:'æŸ¥çœ‹è¨­è¨ˆå¸«ä½œå“èˆ‡ç©ºæª”' },
                    confirm:{ color:'#5D4037', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æœŸå¾…ç‚ºæ‚¨æ‰“é€ æ–°é€ å‹' }
                }
            },
            {
                name: 'ç´³å£«ç†å®¹', desc: 'æš—é»‘ä¿è½é¢¨ï¼Œç”·å£«ç†é«® / Barber Shop', theme:'DARK', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„å‰ªé«®',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'é€ å‹å“',a:'start_shopping'},
                    {l:'å„ªæƒ åˆ¸',a:'view_coupons'},{l:'æœƒå“¡è³‡æ–™',a:'view_member_info'},{l:'è¯çµ¡åº—å®¶',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1B1B1B', headerTitle:'ğŸ’ˆ {shopName}', headerSubtitle:'Gentlemen\'s Grooming Since Day One' },
                fmFunctions: {
                    bookingList:{ color:'#212121', icon:'ğŸ’ˆ', title:'My Appointments', subtitle:'' },
                    productMenu:{ color:'#37474F', icon:'ğŸª’', title:'Grooming Products', subtitle:'é«®è Ÿã€é¬å¾Œæ°´ã€é¤Šè­·æ²¹' },
                    memberInfo:{ color:'#1B1B1B', icon:'ğŸ©', title:'ç´³å£«æœƒå“¡', subtitle:'é›†é»å…Œæ›ç†å®¹æœå‹™' },
                    contactShop:{ color:'#263238', icon:'ğŸ“', title:'CONTACT US', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#212121', icon:'ğŸ’ˆ', title:'Choose Service', subtitle:'å‰ªé«®ã€ä¿®é¬ã€ç†±æ¯›å·¾...' },
                    date:{ color:'#37474F', icon:'ğŸ“…', title:'Pick a Date', subtitle:'' },
                    staff:{ color:'#212121', icon:'ğŸª’', title:'Choose Your Barber', subtitle:'' },
                    time:{ color:'#37474F', icon:'â°', title:'Pick a Time', subtitle:'' },
                    note:{ color:'#455A64', icon:'ğŸ“', title:'Special Requests', subtitle:'é«®å‹åƒè€ƒã€æ³¨æ„äº‹é …' },
                    confirm:{ color:'#1B1B1B', icon:'âœ…', title:'Confirm Booking', subtitle:'See you at the shop, gentleman.' }
                }
            },
            {
                name: 'æ£®æ—é«®è—', desc: 'LINE ç¶ è‡ªç„¶é¢¨ï¼Œç¤¾å€é«®å»Š / è¦ªå­æ²™é¾', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„å‰ªé«®',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'å¤©ç„¶é«®å“',a:'start_shopping'},
                    {l:'å¥½å‹å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#2E7D32', headerTitle:'ğŸŒ¿ {shopName}', headerSubtitle:'ç”¨å¿ƒç‚ºæ‚¨æ‰“ç†æ¯ä¸€æ ¹é«®çµ²' },
                fmFunctions: {
                    bookingList:{ color:'#2E7D32', icon:'ğŸ“‹', title:'æˆ‘çš„é ç´„', subtitle:'' },
                    productMenu:{ color:'#43A047', icon:'ğŸŒ±', title:'å¤©ç„¶é«®å“', subtitle:'ç„¡çŸ½éˆã€æœ‰æ©Ÿæˆåˆ†' },
                    memberInfo:{ color:'#1B5E20', icon:'ğŸŒ¿', title:'æœƒå“¡ä¸­å¿ƒ', subtitle:'æ¯æœˆå‰ªé«®äº«å›é¥‹' }
                },
                fmSteps: {
                    service:{ color:'#2E7D32', icon:'âœ‚ï¸', title:'é¸æ“‡æœå‹™', subtitle:'å‰ªé«®ã€æ´—é ­ã€è­·é«®...' },
                    date:{ color:'#388E3C', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'æŸ¥çœ‹å¯é ç´„æ™‚æ®µ' },
                    staff:{ color:'#2E7D32', icon:'ğŸŒ¿', title:'æŒ‡å®šè¨­è¨ˆå¸«', subtitle:'' },
                    time:{ color:'#43A047', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#388E3C', icon:'ğŸ“', title:'å‚™è¨»', subtitle:'æƒ³è¦çš„é«®å‹ã€æ³¨æ„äº‹é …' },
                    confirm:{ color:'#1B5E20', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æœŸå¾…ç‚ºæ‚¨æ‰“ç†ä¸€é ­å¥½é«®' }
                }
            },
            {
                name: 'ç²‰å«©é«®å±‹', desc: 'ç”œç¾å°‘å¥³é¢¨ï¼Œå¥³æ€§å°ˆå±¬æ²™é¾', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1562322140-8baeececf3df?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„é€ å‹',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'é«®å“æ¨è–¦',a:'start_shopping'},{l:'ç”œå¿ƒå„ªæƒ ',a:'view_coupons'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#F48FB1', headerTitle:'ğŸŒ¸ {shopName}', headerSubtitle:'æ‰“é€ ç”œç¾å¯æ„›çš„å¤¢å¹»é«®å‹ ğŸ’•' },
                fmFunctions: {
                    bookingList:{ color:'#F48FB1', icon:'ğŸ’‡â€â™€ï¸', title:'é€ å‹é ç´„', subtitle:'æŸ¥çœ‹å‰ªæŸ“è­·é ç´„' },
                    productMenu:{ color:'#F06292', icon:'ğŸ€', title:'ç”œå¿ƒé«®å“', subtitle:'è­·é«®æ²¹ã€é€ å‹å™´éœ§' },
                    couponList:{ color:'#EC407A', icon:'ğŸ’', title:'ç”œå¿ƒå„ªæƒ ', subtitle:'é¦–æ¬¡æŸ“é«®äº«æŠ˜æ‰£' },
                    memberInfo:{ color:'#E91E63', icon:'ğŸ’–', title:'ç”œå¿ƒæœƒå“¡', subtitle:'ç´¯ç©æ¶ˆè²»äº«å‡ç­‰' },
                    contactShop:{ color:'#C2185B', icon:'ğŸ’Œ', title:'ç§è¨Šè¨­è¨ˆå¸«', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#F48FB1', icon:'ğŸ’‡â€â™€ï¸', title:'é¸æ“‡æœå‹™', subtitle:'å‰ªé«®ã€æŸ“é«®ã€è­·é«®...' },
                    staff:{ color:'#F06292', icon:'ğŸ‘©â€ğŸ¨', title:'æŒ‡å®šè¨­è¨ˆå¸«', subtitle:'' },
                    confirm:{ color:'#E91E63', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ç”œç¾é€ å‹ç­‰è‘—ä½ ' }
                }
            },
            {
                name: 'éœ“è™¹é«®è—', desc: 'æ½®æµè¡—é ­é¢¨ï¼ŒæŸ“é«®å°ˆé–€åº—', theme:'DARK', layout:'2x2',
                img: 'https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æŸ“é«®',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'æ½®æµé«®å“',a:'start_shopping'},{l:'VIP æœƒå“¡',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#1A1A2E', headerTitle:'ğŸ”¥ {shopName}', headerSubtitle:'å¤§è†½è‰²å½©ï¼Œå±•ç¾ä½ çš„æ…‹åº¦' },
                fmFunctions: {
                    bookingList:{ color:'#16213E', icon:'ğŸ¨', title:'æŸ“é«®ç´€éŒ„', subtitle:'æŸ¥çœ‹é€ å‹é ç´„' },
                    productMenu:{ color:'#0F3460', icon:'ğŸ”®', title:'æ½®æµé«®å“', subtitle:'è£œè‰²æ´—é«®ã€è­·è‰²ç´ ' },
                    memberInfo:{ color:'#1A1A2E', icon:'ğŸŒ™', title:'å¤œè¡Œæœƒå“¡', subtitle:'æŸ“é«®å°ˆå±¬å›é¥‹' },
                    contactShop:{ color:'#16213E', icon:'ğŸ’¬', title:'ç·šä¸Šè«®è©¢', subtitle:'é…è‰²å»ºè­°' }
                },
                fmSteps: {
                    service:{ color:'#16213E', icon:'ğŸ¨', title:'é¸æ“‡æœå‹™', subtitle:'å…¨æŸ“ã€æŒ‘æŸ“ã€æ¼‚é«®...' },
                    staff:{ color:'#0F3460', icon:'ğŸ’‡', title:'æŒ‡å®šè¨­è¨ˆå¸«', subtitle:'' },
                    note:{ color:'#16213E', icon:'ğŸ“', title:'è‰²å½©å‚™è¨»', subtitle:'æƒ³è¦çš„é¡è‰²èˆ‡åƒè€ƒåœ–' },
                    confirm:{ color:'#1A1A2E', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æº–å‚™å¥½å¤§è®Šèº«äº†å—ï¼Ÿ' }
                }
            },
            {
                name: 'å’Œé¢¨ç†é«®è™•', desc: 'æ—¥å¼è·äººé¢¨ï¼Œè³ªæ¨¸ç†é«®', theme:'GREEN', layout:'1+2',
                img: 'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„å‰ªé«®',a:'start_booking'},
                    {l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#5D8A66', headerTitle:'ğŸ‹ {shopName}', headerSubtitle:'è·äººä¹‹å¿ƒï¼Œä¸€åˆ€ä¸€å‰ªçš„å …æŒ' },
                fmFunctions: {
                    bookingList:{ color:'#5D8A66', icon:'âœ‚ï¸', title:'é ç´„ç´€éŒ„', subtitle:'æŸ¥çœ‹ç†é«®é ç´„' },
                    memberInfo:{ color:'#4A7C59', icon:'ğŸ‹', title:'å’Œé¢¨æœƒå“¡', subtitle:'å¸¸å®¢å°ˆå±¬å›é¥‹' },
                    contactShop:{ color:'#3B6B4A', icon:'ğŸ“', title:'è¯çµ¡åº—å®¶', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#5D8A66', icon:'âœ‚ï¸', title:'é¸æ“‡æœå‹™', subtitle:'å‰ªé«®ã€åˆ®é¬ã€æ´—é ­...' },
                    confirm:{ color:'#3B6B4A', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'è·äººç‚ºæ‚¨æœå‹™' }
                }
            },
            {
                name: 'å¾©å¤ç†å®¹é™¢', desc: 'ç¾å¼å¾©å¤é¢¨ï¼Œç¶“å…¸ç†å®¹', theme:'ORANGE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1622286342621-4bd786c2447c?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç†å®¹',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç¶“å…¸é«®å“',a:'start_shopping'},
                    {l:'è€å®¢å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'ç´³å£«æª”æ¡ˆ',a:'view_member_info'},{l:'è¯çµ¡åº—å®¶',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#BF6B3F', headerTitle:'ğŸ’ˆ {shopName}', headerSubtitle:'Old School Never Dies' },
                fmFunctions: {
                    bookingList:{ color:'#BF6B3F', icon:'ğŸ’ˆ', title:'ç†å®¹ç´€éŒ„', subtitle:'æŸ¥çœ‹å‰ªé«®ä¿®é¬é ç´„' },
                    productMenu:{ color:'#D4845A', icon:'ğŸª’', title:'ç¶“å…¸é«®å“', subtitle:'é«®è Ÿã€é¬å¾Œæ°´ã€æ¢³å­' },
                    couponList:{ color:'#E09B6E', icon:'ğŸ', title:'è€å®¢å„ªæƒ ', subtitle:'ç†Ÿå®¢å°ˆå±¬æŠ˜æ‰£' },
                    myCoupons:{ color:'#C47750', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#A85C38', icon:'ğŸ©', title:'ç´³å£«æª”æ¡ˆ', subtitle:'ç´¯ç©æ¶ˆè²»äº«å‡ç­‰' },
                    contactShop:{ color:'#8F4E30', icon:'ğŸ“', title:'è¯çµ¡åº—å®¶', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#BF6B3F', icon:'ğŸ’ˆ', title:'é¸æ“‡æœå‹™', subtitle:'å‰ªé«®ã€ä¿®é¬ã€ç†±æ¯›å·¾...' },
                    date:{ color:'#D4845A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#BF6B3F', icon:'ğŸª’', title:'æŒ‡å®šç†å®¹å¸«', subtitle:'' },
                    time:{ color:'#E09B6E', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#A85C38', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ç¶“å…¸é¢¨æ ¼æ°¸ä¸é€€æµè¡Œ' }
                }
            },
            {
                name: 'æœªä¾†é€ å‹å¯¦é©—å®¤', desc: 'ç§‘æŠ€æ¦‚å¿µé¢¨ï¼Œæ•¸ä½é€ å‹', theme:'BLUE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1634449571010-02389ed0f9b0?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„é€ å‹',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç§‘æŠ€é«®å“',a:'start_shopping'},
                    {l:'é«”é©—å„ªæƒ ',a:'view_coupons'},{l:'æ•¸ä½æª”æ¡ˆ',a:'view_member_info'},{l:'ç·šä¸Šè«®è©¢',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1976D2', headerTitle:'ğŸš€ {shopName}', headerSubtitle:'AI æ¨¡æ“¬é€ å‹ï¼Œç²¾æº–æ‰“é€ ä½ çš„é¢¨æ ¼' },
                fmFunctions: {
                    bookingList:{ color:'#1976D2', icon:'ğŸ“Š', title:'é€ å‹ç´€éŒ„', subtitle:'æŸ¥çœ‹æ•¸ä½é€ å‹é ç´„' },
                    productMenu:{ color:'#1E88E5', icon:'ğŸ”¬', title:'ç§‘æŠ€é«®å“', subtitle:'å¥ˆç±³è­·é«®ã€æ™ºèƒ½é€ å‹' },
                    couponList:{ color:'#42A5F5', icon:'ğŸ', title:'é«”é©—å„ªæƒ ', subtitle:'é¦–æ¬¡ AI é€ å‹å…è²»' },
                    memberInfo:{ color:'#1565C0', icon:'ğŸ“±', title:'æ•¸ä½æª”æ¡ˆ', subtitle:'3D é ­å‹æƒæç´€éŒ„' },
                    contactShop:{ color:'#0D47A1', icon:'ğŸ’¬', title:'ç·šä¸Šè«®è©¢', subtitle:'é€ å‹æ¨¡æ“¬é è¦½' }
                },
                fmSteps: {
                    service:{ color:'#1976D2', icon:'ğŸš€', title:'é¸æ“‡æœå‹™', subtitle:'AI é€ å‹ã€æ•¸ä½æŸ“è‰²...' },
                    date:{ color:'#1E88E5', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#1976D2', icon:'ğŸ’‡', title:'æŒ‡å®šè¨­è¨ˆå¸«', subtitle:'' },
                    time:{ color:'#42A5F5', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æœªä¾†é€ å‹å³å°‡æ­æ›‰' }
                }
            },
            {
                name: 'å½©è™¹é«®å»Š', desc: 'ç¹½ç´›å‰µæ„é¢¨ï¼Œå½©è‰²æŸ“é«®', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1622286342621-4bd786c2447c?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æŸ“é«®',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'å½©è‰²é«®å“',a:'start_shopping'},
                    {l:'ç¹½ç´›å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'å½©è™¹æœƒå“¡',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#43A047', headerTitle:'ğŸŒˆ {shopName}', headerSubtitle:'äººç”Ÿå°±è©²å¤šé»è‰²å½©ï¼' },
                fmFunctions: {
                    bookingList:{ color:'#43A047', icon:'ğŸŒˆ', title:'æŸ“é«®ç´€éŒ„', subtitle:'æŸ¥çœ‹ç¹½ç´›é€ å‹é ç´„' },
                    productMenu:{ color:'#66BB6A', icon:'ğŸ¨', title:'å½©è‰²é«®å“', subtitle:'è£œè‰²åŠ‘ã€è­·è‰²ç´ ' },
                    couponList:{ color:'#81C784', icon:'ğŸŠ', title:'ç¹½ç´›å„ªæƒ ', subtitle:'é›™è‰²æŸ“äº«æŠ˜æ‰£' },
                    myCoupons:{ color:'#A5D6A7', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#2E7D32', icon:'â­', title:'å½©è™¹æœƒå“¡', subtitle:'ç´¯ç©è‰²å½©é»æ•¸' },
                    contactShop:{ color:'#1B5E20', icon:'ğŸ“', title:'è¯çµ¡æˆ‘å€‘', subtitle:'é…è‰²è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#43A047', icon:'ğŸŒˆ', title:'é¸æ“‡æœå‹™', subtitle:'å½©è™¹æŸ“ã€æ¼¸å±¤æŸ“ã€æŒ‘æŸ“...' },
                    staff:{ color:'#66BB6A', icon:'ğŸ‘©â€ğŸ¨', title:'æŒ‡å®šè¨­è¨ˆå¸«', subtitle:'' },
                    note:{ color:'#81C784', icon:'ğŸ“', title:'é¡è‰²å‚™è¨»', subtitle:'æƒ³è¦çš„è‰²å½©æ­é…' },
                    confirm:{ color:'#2E7D32', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æº–å‚™è¿æ¥æ–°è‰²å½©ï¼' }
                }
            },
            {
                name: 'æ£®æ´»é«®è—', desc: 'è‡ªç„¶æœ‰æ©Ÿé¢¨ï¼Œå¤©ç„¶è­·é«®', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1605497788044-5a32c7078486?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è­·é«®',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'å¤©ç„¶é«®å“',a:'start_shopping'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6D8B74', headerTitle:'ğŸŒ¿ {shopName}', headerSubtitle:'å–è‡ªå¤§åœ°çš„æº«æŸ”è­·é«®åŠ›é‡' },
                fmFunctions: {
                    bookingList:{ color:'#6D8B74', icon:'ğŸŒ¿', title:'è­·é«®ç´€éŒ„', subtitle:'æŸ¥çœ‹å¤©ç„¶è­·ç†é ç´„' },
                    productMenu:{ color:'#7DA68A', icon:'ğŸŒ±', title:'å¤©ç„¶é«®å“', subtitle:'æœ‰æ©Ÿæ´—é«®ã€è‰æœ¬è­·é«®' },
                    memberInfo:{ color:'#5B7B65', icon:'ğŸƒ', title:'ç¶ è‰²æœƒå“¡', subtitle:'ç’°ä¿ç©é»å›é¥‹' },
                    contactShop:{ color:'#4A6B55', icon:'ğŸ“', title:'è¯çµ¡æˆ‘å€‘', subtitle:'é«®è³ªè«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#6D8B74', icon:'ğŸŒ¿', title:'é¸æ“‡æœå‹™', subtitle:'è‰æœ¬è­·é«®ã€é ­çš®é¤Šè­·...' },
                    date:{ color:'#7DA68A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#6D8B74', icon:'ğŸ’‡â€â™€ï¸', title:'æŒ‡å®šè¨­è¨ˆå¸«', subtitle:'' },
                    confirm:{ color:'#4A6B55', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'è®“å¤§åœ°æ»‹é¤Šä½ çš„ç§€é«®' }
                }
            }
        ],
        clinic: [
            {
                name: 'å®‰å¿ƒé†«ç¾', desc: 'æµ·æ´‹è—å°ˆæ¥­æ„Ÿï¼Œé†«ç¾ / çš®è†šç§‘è¨ºæ‰€', theme:'BLUE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1629909613654-28e377c37b09?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è«®è©¢',a:'start_booking'},{l:'ç™‚ç¨‹ç´€éŒ„',a:'view_bookings'},{l:'é†«ç¾ä¿é¤Š',a:'start_shopping'},
                    {l:'æ–°å®¢é«”é©—',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'ç¾éº—æª”æ¡ˆ',a:'view_member_info'},{l:'è¯çµ¡è¨ºæ‰€',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1565C0', headerTitle:'ğŸ¥ {shopName}', headerSubtitle:'å°ˆæ¥­é†«å¸«åœ˜éšŠï¼Œè®“ç¾éº—æ›´å®‰å¿ƒ' },
                fmFunctions: {
                    bookingList:{ color:'#1565C0', icon:'ğŸ“‹', title:'ç™‚ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹è«®è©¢èˆ‡ç™‚ç¨‹é ç´„' },
                    productMenu:{ color:'#1976D2', icon:'ğŸ’‰', title:'é†«ç¾ä¿é¤Š', subtitle:'è¡“å¾Œä¿®è­·ã€å±…å®¶ä¿é¤Š' },
                    couponList:{ color:'#42A5F5', icon:'ğŸ', title:'æ–°å®¢é«”é©—', subtitle:'é¦–æ¬¡è«®è©¢äº«å„ªæƒ ' },
                    memberInfo:{ color:'#0D47A1', icon:'ğŸ“Š', title:'ç¾éº—æª”æ¡ˆ', subtitle:'è†šè³ªè¿½è¹¤ã€ç™‚ç¨‹è¨˜éŒ„' },
                    contactShop:{ color:'#0D47A1', icon:'ğŸ©º', title:'è«®è©¢å°ˆç·š', subtitle:'å°ˆæ¥­è­·ç†å¸«ç‚ºæ‚¨è§£ç­”' }
                },
                fmSteps: {
                    service:{ color:'#1565C0', icon:'ğŸ’‰', title:'é¸æ“‡ç™‚ç¨‹', subtitle:'é›·å°„ã€æ³¨å°„ã€ä¿é¤Š...' },
                    staff:{ color:'#1976D2', icon:'ğŸ‘¨â€âš•ï¸', title:'æŒ‡å®šé†«å¸«', subtitle:'æŸ¥çœ‹é†«å¸«å°ˆé•·èˆ‡è³‡æ­·' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æˆ‘å€‘æœƒåœ¨è«®è©¢å‰å†æ¬¡ç¢ºèª' }
                }
            },
            {
                name: 'å¾®ç¬‘ç‰™é†«', desc: 'LINE ç¶ è¦ªåˆ‡æ„Ÿï¼Œç‰™ç§‘ / å®¶åº­è¨ºæ‰€', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æ›è™Ÿ',a:'start_booking'},{l:'çœ‹è¨ºç´€éŒ„',a:'view_bookings'},{l:'å£è…”ç”¨å“',a:'start_shopping'},
                    {l:'æ´—ç‰™å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'ç‰™é½’æª”æ¡ˆ',a:'view_member_info'},{l:'è¯çµ¡è¨ºæ‰€',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#00897B', headerTitle:'ğŸ¦· {shopName}', headerSubtitle:'æº«æŸ”å®ˆè­·å…¨å®¶äººçš„å¾®ç¬‘ ğŸ˜Š' },
                fmFunctions: {
                    bookingList:{ color:'#00897B', icon:'ğŸ¦·', title:'çœ‹è¨ºç´€éŒ„', subtitle:'æ›è™Ÿèˆ‡å°±è¨ºè¨˜éŒ„' },
                    productMenu:{ color:'#26A69A', icon:'ğŸª¥', title:'å£è…”ä¿å¥', subtitle:'ç‰™è†ã€ç‰™ç·šã€æ¼±å£æ°´' },
                    memberInfo:{ color:'#00695C', icon:'ğŸ˜', title:'ç‰™é½’å¥åº·æª”æ¡ˆ', subtitle:'å®šæœŸæª¢æŸ¥æé†’' },
                    contactShop:{ color:'#004D40', icon:'ğŸ“', title:'è¯çµ¡è¨ºæ‰€', subtitle:'æ›è™Ÿã€æ€¥è¨ºã€å•è¨º' }
                },
                fmSteps: {
                    service:{ color:'#00897B', icon:'ğŸ¦·', title:'é¸æ“‡çœ‹è¨ºé …ç›®', subtitle:'æ´—ç‰™ã€è£œç‰™ã€çŸ¯æ­£ã€ç¾ç™½...' },
                    date:{ color:'#00796B', icon:'ğŸ“…', title:'é¸æ“‡çœ‹è¨ºæ—¥', subtitle:'æŸ¥çœ‹é–€è¨ºæ™‚æ®µ' },
                    staff:{ color:'#00897B', icon:'ğŸ‘¨â€âš•ï¸', title:'æŒ‡å®šé†«å¸«', subtitle:'é¸æ“‡æ‚¨ä¿¡è³´çš„ç‰™é†«å¸«' },
                    time:{ color:'#26A69A', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#00796B', icon:'ğŸ“', title:'ç—‡ç‹€æè¿°', subtitle:'æè¿°ç‰™é½’ä¸é©çš„ä½ç½®èˆ‡ç‹€æ³' },
                    confirm:{ color:'#00695C', icon:'âœ…', title:'ç¢ºèªæ›è™Ÿ', subtitle:'å®ˆè­·æ‚¨çš„ç‡¦çˆ›å¾®ç¬‘ ğŸ˜Š' }
                }
            },
            {
                name: 'ç’€ç’¨é†«ç¾', desc: 'çš‡å®¶ç´«å¥¢è¯æ„Ÿï¼Œé ‚ç´šé†«ç¾ä¸­å¿ƒ', theme:'PURPLE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=600&h=300&fit=crop',
                cells: [
                    {l:'VIP è«®è©¢',a:'start_booking'},{l:'æˆ‘çš„ç™‚ç¨‹',a:'view_bookings'},{l:'é ‚ç´šä¿é¤Š',a:'start_shopping'},
                    {l:'å°Šæ¦®ç¦®é‡',a:'view_coupons'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'å°ˆå±¬é¡§å•',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6A1B9A', headerTitle:'ğŸ‘‘ {shopName}', headerSubtitle:'é ‚ç´šé†«ç¾ï¼Œå°Šæ¦®è›»è®Šä¹‹æ—…' },
                fmFunctions: {
                    bookingList:{ color:'#6A1B9A', icon:'ğŸ“‹', title:'å°Šæ¦®é ç´„', subtitle:'' },
                    productMenu:{ color:'#8E24AA', icon:'âœ¨', title:'é ‚ç´šä¿é¤Šå“', subtitle:'é†«å¸«ç¨å®¶èª¿é…' },
                    memberInfo:{ color:'#4A148C', icon:'ğŸ‘‘', title:'VIP æœƒå“¡ä¸­å¿ƒ', subtitle:'å°ˆå±¬æŠ˜æ‰£èˆ‡ç¦®é‡' },
                    contactShop:{ color:'#4A148C', icon:'ğŸ’', title:'å°ˆå±¬ç¾å®¹é¡§å•', subtitle:'ä¸€å°ä¸€å®¢è£½åŒ–è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#6A1B9A', icon:'ğŸ’', title:'é¸æ“‡å°Šæ¦®ç™‚ç¨‹', subtitle:'é›·å°„ã€é›»æ³¢ã€æ³¨å°„ã€ç…¥è†š...' },
                    date:{ color:'#7B1FA2', icon:'ğŸ“…', title:'é ç´„æ—¥æœŸ', subtitle:'VIP å„ªå…ˆå®‰æ’' },
                    staff:{ color:'#6A1B9A', icon:'ğŸ‘¨â€âš•ï¸', title:'æŒ‡å®šé†«å¸«', subtitle:'é ‚ç´šé†«ç¾åœ˜éšŠç‚ºæ‚¨æœå‹™' },
                    time:{ color:'#8E24AA', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#7B1FA2', icon:'ğŸ“', title:'ç¾éº—å‚™å¿˜éŒ„', subtitle:'ç™‚ç¨‹æœŸæœ›ã€éæ•å²' },
                    confirm:{ color:'#4A148C', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'é–‹å•Ÿæ‚¨çš„å°Šæ¦®è›»è®Šä¹‹æ—…' }
                }
            },
            {
                name: 'ç²‰å«©ç¾è‚Œè¨ºæ‰€', desc: 'æŸ”å’Œç²‰å«©é¢¨ï¼Œè¼•é†«ç¾', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è«®è©¢',a:'start_booking'},{l:'æˆ‘çš„ç™‚ç¨‹',a:'view_bookings'},
                    {l:'è¡“å¾Œä¿é¤Š',a:'start_shopping'},{l:'æ–°å®¢å„ªæƒ ',a:'view_coupons'},{l:'ç¾è‚Œæª”æ¡ˆ',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#F48FB1', headerTitle:'ğŸŒ¸ {shopName}', headerSubtitle:'è¼•é¬†è®Šç¾ï¼Œè‡ªç„¶ç„¡ç—• ğŸ’•' },
                fmFunctions: {
                    bookingList:{ color:'#F48FB1', icon:'ğŸ’‰', title:'ç™‚ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹è¼•é†«ç¾é ç´„' },
                    productMenu:{ color:'#F06292', icon:'ğŸ§´', title:'è¡“å¾Œä¿é¤Š', subtitle:'ä¿®è­·ç²¾è¯ã€ä¿æ¿•é¢è†œ' },
                    couponList:{ color:'#EC407A', icon:'ğŸ’', title:'æ–°å®¢å„ªæƒ ', subtitle:'é¦–æ¬¡é«”é©—äº«æŠ˜æ‰£' },
                    memberInfo:{ color:'#E91E63', icon:'ğŸ’–', title:'ç¾è‚Œæª”æ¡ˆ', subtitle:'è†šè³ªåˆ†æèˆ‡è¿½è¹¤' },
                    contactShop:{ color:'#C2185B', icon:'ğŸ’Œ', title:'ç¾è‚Œè«®è©¢', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#F48FB1', icon:'ğŸ’‰', title:'é¸æ“‡ç™‚ç¨‹', subtitle:'æ°´å…‰é‡ã€ç»å°¿é…¸...' },
                    staff:{ color:'#F06292', icon:'ğŸ‘©â€âš•ï¸', title:'æŒ‡å®šé†«å¸«', subtitle:'' },
                    confirm:{ color:'#E91E63', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'è¼•é¬†è®Šç¾ç¬¬ä¸€æ­¥' }
                }
            },
            {
                name: 'éœ“è™¹é†«ç¾ä¸­å¿ƒ', desc: 'éƒ½æœƒæ™‚å°šé¢¨ï¼Œå¤œé–“é†«ç¾', theme:'DARK', layout:'2x2',
                img: 'https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç™‚ç¨‹',a:'start_booking'},{l:'æˆ‘çš„ç™‚ç¨‹',a:'view_bookings'},
                    {l:'é†«ç¾ç”¢å“',a:'start_shopping'},{l:'VIP æœƒå“¡',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#1A1A2E', headerTitle:'âœ¨ {shopName}', headerSubtitle:'ä¸‹ç­å¾Œçš„ç¾éº—ç§˜å¯†åŸºåœ°' },
                fmFunctions: {
                    bookingList:{ color:'#16213E', icon:'ğŸ’‰', title:'ç™‚ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹é†«ç¾é ç´„' },
                    productMenu:{ color:'#0F3460', icon:'ğŸ§ª', title:'é†«ç¾ç”¢å“', subtitle:'é«˜æ•ˆç²¾è¯ã€ä¿®è­·é¢è†œ' },
                    memberInfo:{ color:'#1A1A2E', icon:'ğŸŒ™', title:'å¤œå…‰VIP', subtitle:'å¤œé–“ç™‚ç¨‹å°ˆå±¬æŠ˜æ‰£' },
                    contactShop:{ color:'#16213E', icon:'ğŸ’¬', title:'ç·šä¸Šè«®è©¢', subtitle:'éš±ç§è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#16213E', icon:'ğŸ’‰', title:'é¸æ“‡ç™‚ç¨‹', subtitle:'é›·å°„ã€é›»æ³¢ã€æ³¨å°„...' },
                    staff:{ color:'#0F3460', icon:'ğŸ‘¨â€âš•ï¸', title:'æŒ‡å®šé†«å¸«', subtitle:'' },
                    confirm:{ color:'#1A1A2E', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'å¤œé–“è®Šç¾è¨ˆç•«å•Ÿå‹•' }
                }
            },
            {
                name: 'å’Œé¢¨è¨ºç™‚æ‰€', desc: 'æ—¥å¼ç°¡ç´„é¢¨ï¼Œä¸­é†«è¨ºæ‰€', theme:'GREEN', layout:'1+2',
                img: 'https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„çœ‹è¨º',a:'start_booking'},
                    {l:'å¥åº·æª”æ¡ˆ',a:'view_member_info'},{l:'è¯çµ¡è¨ºæ‰€',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#5D8A66', headerTitle:'ğŸƒ {shopName}', headerSubtitle:'æ¼¢æ–¹èª¿ç†ï¼Œæº«å’Œå®ˆè­·æ‚¨çš„å¥åº·' },
                fmFunctions: {
                    bookingList:{ color:'#5D8A66', icon:'ğŸ©º', title:'çœ‹è¨ºç´€éŒ„', subtitle:'æŸ¥çœ‹ä¸­é†«é ç´„' },
                    memberInfo:{ color:'#4A7C59', icon:'ğŸ‹', title:'å¥åº·æª”æ¡ˆ', subtitle:'é«”è³ªåˆ†æèˆ‡èª¿ç†ç´€éŒ„' },
                    contactShop:{ color:'#3B6B4A', icon:'ğŸ“', title:'è¯çµ¡è¨ºæ‰€', subtitle:'ç—‡ç‹€è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#5D8A66', icon:'ğŸ©º', title:'é¸æ“‡é …ç›®', subtitle:'é‡ç¸ã€æ¨æ‹¿ã€ä¸­è—¥èª¿ç†...' },
                    confirm:{ color:'#3B6B4A', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æ¼¢æ–¹é¤Šç”Ÿä¹‹é“' }
                }
            },
            {
                name: 'å¾©å¤å®¶åº­è¨ºæ‰€', desc: 'æº«é¦¨å¾©å¤é¢¨ï¼Œå®¶åº­è¨ºæ‰€', theme:'ORANGE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æ›è™Ÿ',a:'start_booking'},{l:'çœ‹è¨ºç´€éŒ„',a:'view_bookings'},{l:'ä¿å¥ç”¨å“',a:'start_shopping'},
                    {l:'å®¶åº­å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'å¥åº·æª”æ¡ˆ',a:'view_member_info'},{l:'è¯çµ¡è¨ºæ‰€',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#BF6B3F', headerTitle:'ğŸ  {shopName}', headerSubtitle:'å®ˆè­·å…¨å®¶äººå¥åº·çš„å¥½é„°å±…' },
                fmFunctions: {
                    bookingList:{ color:'#BF6B3F', icon:'ğŸ“‹', title:'çœ‹è¨ºç´€éŒ„', subtitle:'å…¨å®¶äººçš„å°±é†«ç´€éŒ„' },
                    productMenu:{ color:'#D4845A', icon:'ğŸ’Š', title:'ä¿å¥ç”¨å“', subtitle:'ç¶­ä»–å‘½ã€æ„Ÿå†’è—¥ã€OKç¹ƒ' },
                    couponList:{ color:'#E09B6E', icon:'ğŸ', title:'å®¶åº­å„ªæƒ ', subtitle:'å…¨å®¶å¥æª¢äº«æŠ˜æ‰£' },
                    myCoupons:{ color:'#C47750', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#A85C38', icon:'â¤ï¸', title:'å¥åº·æª”æ¡ˆ', subtitle:'å®¶æ—ç—…å²èˆ‡ç”¨è—¥ç´€éŒ„' },
                    contactShop:{ color:'#8F4E30', icon:'ğŸ“', title:'è¯çµ¡è¨ºæ‰€', subtitle:'æ€¥ç—‡è«‹æ’¥å°ˆç·š' }
                },
                fmSteps: {
                    service:{ color:'#BF6B3F', icon:'ğŸ©º', title:'é¸æ“‡ç§‘åˆ¥', subtitle:'ä¸€èˆ¬å…§ç§‘ã€å…’ç§‘ã€çš®è†š...' },
                    date:{ color:'#D4845A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#BF6B3F', icon:'ğŸ‘¨â€âš•ï¸', title:'æŒ‡å®šé†«å¸«', subtitle:'' },
                    time:{ color:'#E09B6E', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#D4845A', icon:'ğŸ“', title:'ç—‡ç‹€æè¿°', subtitle:'ç°¡è¿°èº«é«”ä¸é©ç‹€æ³' },
                    confirm:{ color:'#A85C38', icon:'âœ…', title:'ç¢ºèªæ›è™Ÿ', subtitle:'å¥åº·æœ‰æˆ‘å€‘å®ˆè­·' }
                }
            },
            {
                name: 'æœªä¾†ç¾å­¸è¨ºæ‰€', desc: 'ç§‘æŠ€å‰æ²¿é¢¨ï¼Œé«˜ç§‘æŠ€é†«ç¾', theme:'BLUE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1579684385127-1ef15d508118?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç™‚ç¨‹',a:'start_booking'},{l:'æˆ‘çš„ç™‚ç¨‹',a:'view_bookings'},{l:'ç§‘æŠ€ä¿é¤Š',a:'start_shopping'},
                    {l:'é«”é©—å„ªæƒ ',a:'view_coupons'},{l:'ç¾å­¸æª”æ¡ˆ',a:'view_member_info'},{l:'å°ˆæ¥­è«®è©¢',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1976D2', headerTitle:'ğŸ”¬ {shopName}', headerSubtitle:'å°–ç«¯ç§‘æŠ€ï¼Œç²¾æº–ç¾å­¸' },
                fmFunctions: {
                    bookingList:{ color:'#1976D2', icon:'ğŸ“Š', title:'ç™‚ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹ç§‘æŠ€é†«ç¾é ç´„' },
                    productMenu:{ color:'#1E88E5', icon:'ğŸ§ª', title:'ç§‘æŠ€ä¿é¤Š', subtitle:'å¥ˆç±³ç²¾è¯ã€ç”Ÿé•·å› å­' },
                    couponList:{ color:'#42A5F5', icon:'ğŸ', title:'é«”é©—å„ªæƒ ', subtitle:'é¦–æ¬¡ AI è†šè³ªæª¢æ¸¬å…è²»' },
                    memberInfo:{ color:'#1565C0', icon:'ğŸ“±', title:'ç¾å­¸æª”æ¡ˆ', subtitle:'3D é¢éƒ¨æƒæç´€éŒ„' },
                    contactShop:{ color:'#0D47A1', icon:'ğŸ’¬', title:'å°ˆæ¥­è«®è©¢', subtitle:'é†«å¸«ç·šä¸Šè©•ä¼°' }
                },
                fmSteps: {
                    service:{ color:'#1976D2', icon:'ğŸ”¬', title:'é¸æ“‡ç™‚ç¨‹', subtitle:'çš®ç§’ã€é³³å‡°é›»æ³¢...' },
                    date:{ color:'#1E88E5', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#1976D2', icon:'ğŸ‘¨â€âš•ï¸', title:'æŒ‡å®šé†«å¸«', subtitle:'' },
                    time:{ color:'#42A5F5', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ç²¾æº–ç¾å­¸å³å°‡å±•é–‹' }
                }
            },
            {
                name: 'ç¹½ç´›å…’ç«¥ç‰™ç§‘', desc: 'æ­¡æ¨‚ç«¥è¶£é¢¨ï¼Œå…’ç«¥é½’ç§‘', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1666214280557-f1b5022eb634?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„çœ‹ç‰™',a:'start_booking'},{l:'çœ‹è¨ºç´€éŒ„',a:'view_bookings'},{l:'å£è…”ç”¨å“',a:'start_shopping'},
                    {l:'å°å‹‡å£«ç',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'ç‰™é½’æ—¥è¨˜',a:'view_member_info'},{l:'è¯çµ¡è¨ºæ‰€',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#43A047', headerTitle:'ğŸ¦· {shopName}', headerSubtitle:'è®“çœ‹ç‰™è®Šæˆä¸€å ´å¿«æ¨‚å†’éšªï¼ğŸˆ' },
                fmFunctions: {
                    bookingList:{ color:'#43A047', icon:'ğŸ¦·', title:'çœ‹è¨ºç´€éŒ„', subtitle:'å°æœ‹å‹çš„çœ‹ç‰™ç´€éŒ„' },
                    productMenu:{ color:'#66BB6A', icon:'ğŸª¥', title:'å£è…”ç”¨å“', subtitle:'å…’ç«¥ç‰™è†ã€å¯æ„›ç‰™åˆ·' },
                    couponList:{ color:'#81C784', icon:'ğŸ†', title:'å°å‹‡å£«ç', subtitle:'å‹‡æ•¢çœ‹ç‰™é›†é»æ›ç¦®' },
                    myCoupons:{ color:'#A5D6A7', icon:'ğŸ«', title:'æˆ‘çš„çåˆ¸', subtitle:'' },
                    memberInfo:{ color:'#2E7D32', icon:'â­', title:'ç‰™é½’æ—¥è¨˜', subtitle:'è¨˜éŒ„æ¯é¡†ç‰™çš„æˆé•·' },
                    contactShop:{ color:'#1B5E20', icon:'ğŸ“', title:'è¯çµ¡è¨ºæ‰€', subtitle:'å…’ç«¥ç‰™ç§‘è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#43A047', icon:'ğŸ¦·', title:'é¸æ“‡é …ç›®', subtitle:'å¡—æ°Ÿã€æª¢æŸ¥ã€çŸ¯æ­£...' },
                    date:{ color:'#66BB6A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#43A047', icon:'ğŸ‘¨â€âš•ï¸', title:'æŒ‡å®šé†«å¸«', subtitle:'' },
                    time:{ color:'#81C784', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#2E7D32', icon:'âœ…', title:'ç¢ºèªæ›è™Ÿ', subtitle:'å°å‹‡å£«æº–å‚™å‡ºç™¼ï¼' }
                }
            },
            {
                name: 'è‰æœ¬ä¸­é†«é¤¨', desc: 'æ¼¢æ–¹è‰æœ¬é¢¨ï¼Œä¸­é†«é¤Šç”Ÿ', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„çœ‹è¨º',a:'start_booking'},{l:'çœ‹è¨ºç´€éŒ„',a:'view_bookings'},
                    {l:'æ¼¢æ–¹é¤Šç”Ÿ',a:'start_shopping'},{l:'é¤Šç”Ÿæœƒå“¡',a:'view_member_info'},{l:'è¯çµ¡ä¸­é†«',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6D8B74', headerTitle:'ğŸŒ¿ {shopName}', headerSubtitle:'å‚³æ‰¿åƒå¹´çš„è‰æœ¬æ™ºæ…§' },
                fmFunctions: {
                    bookingList:{ color:'#6D8B74', icon:'ğŸ©º', title:'çœ‹è¨ºç´€éŒ„', subtitle:'ä¸­é†«èª¿ç†èˆ‡é‡ç¸ç´€éŒ„' },
                    productMenu:{ color:'#7DA68A', icon:'ğŸµ', title:'æ¼¢æ–¹é¤Šç”Ÿ', subtitle:'ä¸­è—¥æã€é¤Šç”ŸèŒ¶é£²' },
                    memberInfo:{ color:'#5B7B65', icon:'ğŸƒ', title:'é¤Šç”Ÿæœƒå“¡', subtitle:'é«”è³ªæª”æ¡ˆèˆ‡èª¿ç†é€²åº¦' },
                    contactShop:{ color:'#4A6B55', icon:'ğŸ“', title:'è¯çµ¡ä¸­é†«', subtitle:'é«”è³ªè«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#6D8B74', icon:'ğŸŒ¿', title:'é¸æ“‡é …ç›®', subtitle:'é‡ç¸ã€æ¨æ‹¿ã€ä¸­è—¥...' },
                    date:{ color:'#7DA68A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#6D8B74', icon:'ğŸ‘¨â€âš•ï¸', title:'æŒ‡å®šä¸­é†«å¸«', subtitle:'' },
                    confirm:{ color:'#4A6B55', icon:'âœ…', title:'ç¢ºèªæ›è™Ÿ', subtitle:'è‰æœ¬é¤Šç”Ÿä¹‹è·¯' }
                }
            }
        ],
        fitness: [
            {
                name: 'çˆ†æ±—å·¥å» ', desc: 'LINE ç¶ æ´»åŠ›é¢¨ï¼Œå¥èº«æˆ¿ / é‹å‹•ä¸­å¿ƒ', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„èª²ç¨‹',a:'start_booking'},{l:'æˆ‘çš„èª²è¡¨',a:'view_bookings'},{l:'ç‡Ÿé¤Šè£œçµ¦',a:'start_shopping'},
                    {l:'é«”é©—åˆ¸',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'è¨“ç·´ç´€éŒ„',a:'view_member_info'},{l:'è¯çµ¡æ•™ç·´',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#2E7D32', headerTitle:'ğŸ’ª {shopName}', headerSubtitle:'çªç ´æ¥µé™ï¼Œæˆå°±æ›´å¼·çš„è‡ªå·±ï¼' },
                fmFunctions: {
                    bookingList:{ color:'#2E7D32', icon:'ğŸ‹ï¸', title:'æˆ‘çš„èª²è¡¨', subtitle:'åœ˜èª²ã€ç§æ•™é ç´„è¨˜éŒ„' },
                    productMenu:{ color:'#43A047', icon:'ğŸ¥¤', title:'ç‡Ÿé¤Šè£œçµ¦ç«™', subtitle:'é«˜è›‹ç™½ã€BCAAã€èƒ½é‡æ£’' },
                    couponList:{ color:'#66BB6A', icon:'ğŸŸï¸', title:'é«”é©—åˆ¸', subtitle:'å…è²»é«”é©—èª²ç¨‹' },
                    memberInfo:{ color:'#1B5E20', icon:'ğŸ“Š', title:'æˆ‘çš„è¨“ç·´ç´€éŒ„', subtitle:'å‡ºå¸­ç‡ã€é«”æ…‹è®ŠåŒ–' },
                    contactShop:{ color:'#1B5E20', icon:'ğŸ’¬', title:'è¯çµ¡æ•™ç·´', subtitle:'èª²ç¨‹è«®è©¢ã€é«”æ…‹è©•ä¼°' }
                },
                fmSteps: {
                    service:{ color:'#2E7D32', icon:'ğŸ‹ï¸', title:'é¸æ“‡èª²ç¨‹', subtitle:'æœ‰æ°§ã€é‡è¨“ã€ç‘œçˆã€æ‹³æ“Š...' },
                    staff:{ color:'#388E3C', icon:'ğŸ’ª', title:'é¸æ“‡æ•™ç·´', subtitle:'æŸ¥çœ‹æ•™ç·´å°ˆé•·èˆ‡æ™‚æ®µ' }
                }
            },
            {
                name: 'éµäººæ®¿å ‚', desc: 'æš—é»‘ç¡¬æ´¾é¢¨ï¼Œé‡è¨“å·¥ä½œå®¤ / CrossFit', theme:'DARK', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1517963879433-6ad2b056d712?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨“ç·´',a:'start_booking'},{l:'è¨“ç·´æ—¥èªŒ',a:'view_bookings'},{l:'è£œçµ¦å“',a:'start_shopping'},
                    {l:'æŒ‘æˆ°åˆ¸',a:'view_coupons'},{l:'éµäººæª”æ¡ˆ',a:'view_member_info'},{l:'æ‰¾æ•™ç·´',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1B1B1B', headerTitle:'ğŸ”¥ {shopName}', headerSubtitle:'NO EXCUSES. JUST RESULTS.' },
                fmFunctions: {
                    bookingList:{ color:'#212121', icon:'ğŸ““', title:'Training Log', subtitle:'' },
                    productMenu:{ color:'#424242', icon:'ğŸ’Š', title:'Supplements', subtitle:'è›‹ç™½ç²‰ã€è‚Œé…¸ã€BCAA' },
                    memberInfo:{ color:'#1B1B1B', icon:'ğŸ”¥', title:'éµäººæª”æ¡ˆ', subtitle:'PR ç´€éŒ„ã€è¨“ç·´æ•¸æ“š' },
                    contactShop:{ color:'#263238', icon:'ğŸ¤', title:'æ‰¾æ•™ç·´', subtitle:'å…è²»é«”èƒ½è©•ä¼°' }
                },
                fmSteps: {
                    service:{ color:'#212121', icon:'ğŸ”¥', title:'é¸æ“‡è¨“ç·´é …ç›®', subtitle:'é‡è¨“ã€CrossFitã€æ‹³æ“Š...' },
                    date:{ color:'#37474F', icon:'ğŸ“…', title:'Pick a Date', subtitle:'' },
                    staff:{ color:'#212121', icon:'ğŸ’ª', title:'æŒ‡å®šæ•™ç·´', subtitle:'æŸ¥çœ‹æ•™ç·´å°ˆé …èˆ‡æˆ°ç¸¾' },
                    time:{ color:'#37474F', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#455A64', icon:'ğŸ“', title:'è¨“ç·´ç›®æ¨™', subtitle:'å¢è‚Œã€æ¸›è„‚ã€é«”èƒ½çªç ´...' },
                    confirm:{ color:'#1B1B1B', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'LET\'S GO. NO EXCUSES.' }
                }
            },
            {
                name: 'æ—¥å…‰ç‘œçˆ', desc: 'æ—¥è½æ©˜æº«æš–é¢¨ï¼Œç‘œçˆæ•™å®¤ / èº«å¿ƒéˆ', theme:'ORANGE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„èª²ç¨‹',a:'start_booking'},{l:'æˆ‘çš„èª²è¡¨',a:'view_bookings'},{l:'ç‘œçˆç”¨å“',a:'start_shopping'},
                    {l:'æ–°ç”Ÿé«”é©—',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'ç·´ç¿’ç´€éŒ„',a:'view_member_info'},{l:'è¯çµ¡æ•™å®¤',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#E65100', headerTitle:'ğŸ§˜ {shopName}', headerSubtitle:'èº«å¿ƒåˆä¸€ï¼Œæ„Ÿå—æ¯ä¸€æ¬¡å‘¼å¸çš„åŠ›é‡' },
                fmFunctions: {
                    bookingList:{ color:'#E65100', icon:'ğŸ§˜', title:'æˆ‘çš„ç·´ç¿’', subtitle:'ç‘œçˆèª²ç¨‹é ç´„ç´€éŒ„' },
                    productMenu:{ color:'#F57C00', icon:'ğŸ§˜â€â™€ï¸', title:'ç·´ç¿’å¥½ç‰©', subtitle:'ç‘œçˆå¢Šã€ç‘œçˆç£šã€ç²¾æ²¹' },
                    couponList:{ color:'#FF9800', icon:'ğŸŒ…', title:'æ–°ç”Ÿé«”é©—', subtitle:'ç¬¬ä¸€å ‚èª²å…è²»' },
                    memberInfo:{ color:'#BF360C', icon:'â˜€ï¸', title:'ç·´ç¿’ç´€éŒ„', subtitle:'ç´¯ç©æ™‚æ•¸ã€ç­‰ç´šé€²åº¦' },
                    contactShop:{ color:'#BF360C', icon:'ğŸ™', title:'è¯çµ¡æ•™å®¤', subtitle:'Namaste' }
                },
                fmSteps: {
                    service:{ color:'#E65100', icon:'ğŸ§˜', title:'é¸æ“‡èª²ç¨‹', subtitle:'å“ˆé”ã€æµå‹•ã€é™°ç‘œçˆ...' },
                    staff:{ color:'#F57C00', icon:'ğŸ™', title:'é¸æ“‡è€å¸«', subtitle:'' }
                }
            },
            {
                name: 'ç²‰ç´…ç‘œçˆæ•™å®¤', desc: 'æŸ”ç¾å¤¢å¹»é¢¨ï¼Œå¥³æ€§ç‘œçˆ', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„èª²ç¨‹',a:'start_booking'},{l:'æˆ‘çš„èª²è¡¨',a:'view_bookings'},
                    {l:'ç‘œçˆç”¨å“',a:'start_shopping'},{l:'é«”é©—å„ªæƒ ',a:'view_coupons'},{l:'ç·´ç¿’ç´€éŒ„',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#F48FB1', headerTitle:'ğŸ§˜â€â™€ï¸ {shopName}', headerSubtitle:'åœ¨ç²‰ç´…æ³¡æ³¡ä¸­æ‰¾åˆ°å…§å¿ƒå¹³éœ ğŸ’•' },
                fmFunctions: {
                    bookingList:{ color:'#F48FB1', icon:'ğŸ§˜â€â™€ï¸', title:'èª²ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹ç‘œçˆé ç´„' },
                    productMenu:{ color:'#F06292', icon:'ğŸ€', title:'ç‘œçˆå¥½ç‰©', subtitle:'ç‘œçˆæœã€ç‘œçˆå¢Šã€ç²¾æ²¹' },
                    couponList:{ color:'#EC407A', icon:'ğŸ’', title:'é«”é©—å„ªæƒ ', subtitle:'é¦–å ‚èª²å…è²»é«”é©—' },
                    memberInfo:{ color:'#E91E63', icon:'ğŸ’–', title:'ç·´ç¿’ç´€éŒ„', subtitle:'ç´¯ç©æ™‚æ•¸èˆ‡é€²åº¦' },
                    contactShop:{ color:'#C2185B', icon:'ğŸ’Œ', title:'ç§è¨Šè€å¸«', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#F48FB1', icon:'ğŸ§˜â€â™€ï¸', title:'é¸æ“‡èª²ç¨‹', subtitle:'æµå‹•ç‘œçˆã€ç©ºä¸­ç‘œçˆ...' },
                    staff:{ color:'#F06292', icon:'ğŸ™', title:'é¸æ“‡è€å¸«', subtitle:'' },
                    confirm:{ color:'#E91E63', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'äº«å—æŸ”ç¾çš„ç·´ç¿’æ™‚å…‰' }
                }
            },
            {
                name: 'éœ“è™¹æ ¼é¬¥é¤¨', desc: 'éœ“è™¹ç‹‚ç†±é¢¨ï¼Œææ“Šæ‹³é¤¨', theme:'DARK', layout:'2x2',
                img: 'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨“ç·´',a:'start_booking'},{l:'è¨“ç·´æ—¥èªŒ',a:'view_bookings'},
                    {l:'æ ¼é¬¥è£å‚™',a:'start_shopping'},{l:'æˆ°å£«æª”æ¡ˆ',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#1A1A2E', headerTitle:'ğŸ¥Š {shopName}', headerSubtitle:'åœ¨éœ“è™¹ç‡ˆä¸‹é‡‹æ”¾ä½ çš„åŠ›é‡' },
                fmFunctions: {
                    bookingList:{ color:'#16213E', icon:'ğŸ¥Š', title:'è¨“ç·´ç´€éŒ„', subtitle:'æŸ¥çœ‹æ ¼é¬¥èª²ç¨‹é ç´„' },
                    productMenu:{ color:'#0F3460', icon:'ğŸ¥‹', title:'æ ¼é¬¥è£å‚™', subtitle:'æ‹³å¥—ã€è­·å…·ã€ç¹ƒå¸¶' },
                    memberInfo:{ color:'#1A1A2E', icon:'ğŸ”¥', title:'æˆ°å£«æª”æ¡ˆ', subtitle:'è¨“ç·´æ•¸æ“šèˆ‡æˆå°±' },
                    contactShop:{ color:'#16213E', icon:'ğŸ’¬', title:'æ‰¾æ•™ç·´', subtitle:'å…è²»é«”èƒ½è©•ä¼°' }
                },
                fmSteps: {
                    service:{ color:'#16213E', icon:'ğŸ¥Š', title:'é¸æ“‡èª²ç¨‹', subtitle:'æ‹³æ“Šã€æ³°æ‹³ã€MMA...' },
                    staff:{ color:'#0F3460', icon:'ğŸ’ª', title:'æŒ‡å®šæ•™ç·´', subtitle:'' },
                    confirm:{ color:'#1A1A2E', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æº–å‚™å¥½æˆ°é¬¥äº†å—ï¼Ÿ' }
                }
            },
            {
                name: 'ç¦ªä¿®é“å ´', desc: 'ç¦ªæ„ä¿®è¡Œé¢¨ï¼Œèº«å¿ƒéˆèª²ç¨‹', theme:'GREEN', layout:'1+2',
                img: 'https://images.unsplash.com/photo-1518611012118-696072aa579a?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„èª²ç¨‹',a:'start_booking'},
                    {l:'ä¿®è¡Œç´€éŒ„',a:'view_member_info'},{l:'è¯çµ¡é“å ´',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#5D8A66', headerTitle:'â˜¯ï¸ {shopName}', headerSubtitle:'éœå¿ƒè§€ç…§ï¼Œå›æ­¸æœ¬æˆ‘' },
                fmFunctions: {
                    bookingList:{ color:'#5D8A66', icon:'ğŸ§˜', title:'èª²ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹ç¦ªä¿®é ç´„' },
                    memberInfo:{ color:'#4A7C59', icon:'â˜¯ï¸', title:'ä¿®è¡Œç´€éŒ„', subtitle:'å†¥æƒ³æ™‚æ•¸èˆ‡å¿ƒå¾—' },
                    contactShop:{ color:'#3B6B4A', icon:'ğŸ“', title:'è¯çµ¡é“å ´', subtitle:'ç¦ªä¿®è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#5D8A66', icon:'â˜¯ï¸', title:'é¸æ“‡èª²ç¨‹', subtitle:'éœåã€è¡Œç¦ªã€èŒ¶ç¦ª...' },
                    confirm:{ color:'#3B6B4A', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'éœå¿ƒä¿®è¡Œä¹‹æ—…' }
                }
            },
            {
                name: 'å¾©å¤æ‹³æ“Šä¿±æ¨‚éƒ¨', desc: 'ç¾å¼å¾©å¤é¢¨ï¼Œç¶“å…¸æ‹³é¤¨', theme:'ORANGE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1549060279-7e168fcee0c2?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨“ç·´',a:'start_booking'},{l:'è¨“ç·´æ—¥èªŒ',a:'view_bookings'},{l:'æ‹³æ“Šè£å‚™',a:'start_shopping'},
                    {l:'æŒ‘æˆ°è³½',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æ‹³æ‰‹æª”æ¡ˆ',a:'view_member_info'},{l:'æ‰¾æ•™ç·´',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#BF6B3F', headerTitle:'ğŸ¥Š {shopName}', headerSubtitle:'Old School Boxing, Real Fighter Spirit' },
                fmFunctions: {
                    bookingList:{ color:'#BF6B3F', icon:'ğŸ¥Š', title:'è¨“ç·´ç´€éŒ„', subtitle:'æ‹³æ“Šèª²ç¨‹èˆ‡å°ç·´é ç´„' },
                    productMenu:{ color:'#D4845A', icon:'ğŸ¥‹', title:'æ‹³æ“Šè£å‚™', subtitle:'å¾©å¤æ‹³å¥—ã€æ²™è¢‹ã€è·³ç¹©' },
                    couponList:{ color:'#E09B6E', icon:'ğŸ†', title:'æŒ‘æˆ°è³½', subtitle:'æœˆåº¦æ“‚å°å…è²»åƒåŠ ' },
                    myCoupons:{ color:'#C47750', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#A85C38', icon:'ğŸ¥Š', title:'æ‹³æ‰‹æª”æ¡ˆ', subtitle:'æˆ°ç¸¾èˆ‡è¨“ç·´æ•¸æ“š' },
                    contactShop:{ color:'#8F4E30', icon:'ğŸ’ª', title:'æ‰¾æ•™ç·´', subtitle:'ä¸€å°ä¸€æŒ‡å°' }
                },
                fmSteps: {
                    service:{ color:'#BF6B3F', icon:'ğŸ¥Š', title:'é¸æ“‡è¨“ç·´', subtitle:'åŸºç¤æ‹³æ³•ã€å°ç·´ã€é«”èƒ½...' },
                    date:{ color:'#D4845A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#BF6B3F', icon:'ğŸ’ª', title:'æŒ‡å®šæ•™ç·´', subtitle:'' },
                    time:{ color:'#E09B6E', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#A85C38', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'Real fighters never quit!' }
                }
            },
            {
                name: 'æ™ºèƒ½å¥èº«è‰™', desc: 'æœªä¾†ç§‘æŠ€é¢¨ï¼ŒAI å¥èº«', theme:'BLUE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1574680096145-d05b474e2155?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨“ç·´',a:'start_booking'},{l:'è¨“ç·´æ—¥èªŒ',a:'view_bookings'},{l:'æ™ºèƒ½è£å‚™',a:'start_shopping'},
                    {l:'é«”é©—åˆ¸',a:'view_coupons'},{l:'æ•¸æ“šä¸­å¿ƒ',a:'view_member_info'},{l:'AI æ•™ç·´',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1976D2', headerTitle:'ğŸ¤– {shopName}', headerSubtitle:'AI é©…å‹•ï¼Œç§‘å­¸è¨“ç·´' },
                fmFunctions: {
                    bookingList:{ color:'#1976D2', icon:'ğŸ“Š', title:'è¨“ç·´æ•¸æ“š', subtitle:'AI åˆ†æé‹å‹•è¡¨ç¾' },
                    productMenu:{ color:'#1E88E5', icon:'âŒš', title:'æ™ºèƒ½è£å‚™', subtitle:'å¿ƒç‡å¸¶ã€æ™ºæ…§æ‰‹ç’°' },
                    couponList:{ color:'#42A5F5', icon:'ğŸ', title:'é«”é©—åˆ¸', subtitle:'å…è²» AI é«”èƒ½è©•ä¼°' },
                    memberInfo:{ color:'#1565C0', icon:'ğŸ“±', title:'æ•¸æ“šä¸­å¿ƒ', subtitle:'èº«é«”çµ„æˆèˆ‡é€²æ­¥æ›²ç·š' },
                    contactShop:{ color:'#0D47A1', icon:'ğŸ¤–', title:'AI æ•™ç·´', subtitle:'æ™ºèƒ½è¨“ç·´è¦åŠƒ' }
                },
                fmSteps: {
                    service:{ color:'#1976D2', icon:'ğŸ¤–', title:'é¸æ“‡èª²ç¨‹', subtitle:'AI é‡è¨“ã€æ™ºèƒ½æœ‰æ°§...' },
                    date:{ color:'#1E88E5', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#1976D2', icon:'ğŸ’ª', title:'æŒ‡å®šæ•™ç·´', subtitle:'' },
                    time:{ color:'#42A5F5', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æ™ºèƒ½è¨“ç·´å•Ÿå‹•' }
                }
            },
            {
                name: 'æ­¡æ¨‚èˆè¹ˆæ•™å®¤', desc: 'ç¹½ç´›å¾‹å‹•é¢¨ï¼Œèˆè¹ˆæ•™å®¤', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1599058917212-d750089bc07e?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„èª²ç¨‹',a:'start_booking'},{l:'æˆ‘çš„èª²è¡¨',a:'view_bookings'},{l:'èˆè¹ˆç”¨å“',a:'start_shopping'},
                    {l:'æ–°ç”Ÿå„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'èˆè¹ˆç´€éŒ„',a:'view_member_info'},{l:'è¯çµ¡æ•™å®¤',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#43A047', headerTitle:'ğŸ’ƒ {shopName}', headerSubtitle:'è·Ÿè‘—ç¯€å¥ï¼Œé‡‹æ”¾ä½ çš„éˆé­‚ï¼ğŸµ' },
                fmFunctions: {
                    bookingList:{ color:'#43A047', icon:'ğŸ’ƒ', title:'èª²ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹èˆè¹ˆèª²ç¨‹é ç´„' },
                    productMenu:{ color:'#66BB6A', icon:'ğŸ‘Ÿ', title:'èˆè¹ˆç”¨å“', subtitle:'èˆé‹ã€ç·´åŠŸæœ' },
                    couponList:{ color:'#81C784', icon:'ğŸŠ', title:'æ–°ç”Ÿå„ªæƒ ', subtitle:'é¦–å ‚èª²å…è²»' },
                    myCoupons:{ color:'#A5D6A7', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#2E7D32', icon:'â­', title:'èˆè¹ˆç´€éŒ„', subtitle:'ç·´ç¿’æ™‚æ•¸èˆ‡é€²åº¦' },
                    contactShop:{ color:'#1B5E20', icon:'ğŸ“', title:'è¯çµ¡æ•™å®¤', subtitle:'èª²ç¨‹è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#43A047', icon:'ğŸ’ƒ', title:'é¸æ“‡èª²ç¨‹', subtitle:'è¡—èˆã€çˆµå£«ã€èŠ­è•¾...' },
                    staff:{ color:'#66BB6A', icon:'ğŸµ', title:'é¸æ“‡è€å¸«', subtitle:'' },
                    note:{ color:'#81C784', icon:'ğŸ“', title:'å‚™è¨»', subtitle:'ç¨‹åº¦ã€ç‰¹æ®Šéœ€æ±‚' },
                    confirm:{ color:'#2E7D32', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æº–å‚™å¥½è·³èˆäº†å—ï¼Ÿ' }
                }
            },
            {
                name: 'å±±æ—è¶Šé‡åŸºåœ°', desc: 'æˆ¶å¤–å†’éšªé¢¨ï¼Œè¶Šé‡è¨“ç·´', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1594737625785-a6cbdabd333c?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨“ç·´',a:'start_booking'},{l:'è¨“ç·´ç´€éŒ„',a:'view_bookings'},
                    {l:'è¶Šé‡è£å‚™',a:'start_shopping'},{l:'æ¢éšªæœƒå“¡',a:'view_member_info'},{l:'è¯çµ¡åŸºåœ°',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6D8B74', headerTitle:'â›°ï¸ {shopName}', headerSubtitle:'èµ°é€²å±±æ—ï¼ŒæŒ‘æˆ°è‡ªæˆ‘æ¥µé™' },
                fmFunctions: {
                    bookingList:{ color:'#6D8B74', icon:'ğŸƒ', title:'è¨“ç·´ç´€éŒ„', subtitle:'è¶Šé‡èˆ‡æˆ¶å¤–èª²ç¨‹é ç´„' },
                    productMenu:{ color:'#7DA68A', icon:'ğŸ’', title:'è¶Šé‡è£å‚™', subtitle:'è¶Šé‡é‹ã€æ°´å£ºã€ç™»å±±æ–' },
                    memberInfo:{ color:'#5B7B65', icon:'â›°ï¸', title:'æ¢éšªæœƒå“¡', subtitle:'é‡Œç¨‹æ•¸èˆ‡æŒ‘æˆ°ç´€éŒ„' },
                    contactShop:{ color:'#4A6B55', icon:'ğŸ“', title:'è¯çµ¡åŸºåœ°', subtitle:'è·¯ç·šè«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#6D8B74', icon:'â›°ï¸', title:'é¸æ“‡èª²ç¨‹', subtitle:'è¶Šé‡è·‘ã€æ”€å²©ã€ç™»å±±...' },
                    date:{ color:'#7DA68A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#6D8B74', icon:'ğŸƒ', title:'æŒ‡å®šæ•™ç·´', subtitle:'' },
                    confirm:{ color:'#4A6B55', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'å¤§è‡ªç„¶åœ¨å¬å–šä½ ' }
                }
            }
        ],
        restaurant: [
            {
                name: 'å“å‘³é£Ÿå…‰', desc: 'ç²¾å“é¢¨å¥¶èŒ¶è‰²ï¼Œè³ªæ„Ÿé¤å»³ / ç§å»š', theme:'BOUTIQUE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=600&h=300&fit=crop',
                cells: [
                    {l:'ç·šä¸Šè¨‚ä½',a:'start_booking'},{l:'æˆ‘çš„è¨‚ä½',a:'view_bookings'},{l:'å¤–å¸¶èœå–®',a:'start_shopping'},
                    {l:'æœ¬æœˆå„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'ç¾é£Ÿè­·ç…§',a:'view_member_info'},{l:'è¯çµ¡é¤å»³',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#795548', headerTitle:'ğŸ½ï¸ {shopName}', headerSubtitle:'ç”¨å¿ƒçƒ¹èª¿ï¼Œç‚ºæ¯ä¸€é¤æ³¨å…¥æº«åº¦' },
                fmFunctions: {
                    bookingList:{ color:'#795548', icon:'ğŸ½ï¸', title:'è¨‚ä½ç´€éŒ„', subtitle:'æŸ¥çœ‹ç”¨é¤é ç´„' },
                    productMenu:{ color:'#8D6E63', icon:'ğŸ“œ', title:'å¤–å¸¶èœå–®', subtitle:'ä¸»å»šæ¨è–¦ã€å­£ç¯€é™å®š' },
                    couponList:{ color:'#A1887F', icon:'ğŸ', title:'ç¾å‘³å„ªæƒ ', subtitle:'å£½æ˜Ÿç¦®ã€æªåœ˜æŠ˜æ‰£' },
                    memberInfo:{ color:'#5D4037', icon:'ğŸ…', title:'ç¾é£Ÿè­·ç…§', subtitle:'é›†é»æ›æ‹›å¾…èœ' },
                    contactShop:{ color:'#4E342E', icon:'ğŸ“', title:'é¤å»³è³‡è¨Š', subtitle:'åœ°å€ã€ç‡Ÿæ¥­æ™‚é–“ã€åœè»Š' }
                },
                fmSteps: {
                    service:{ color:'#795548', icon:'ğŸ½ï¸', title:'é¸æ“‡ç”¨é¤æ–¹å¼', subtitle:'å…§ç”¨ã€åŒ…å»‚ã€æˆ¶å¤–å€' },
                    date:{ color:'#6D4C41', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'æŸ¥çœ‹å¯è¨‚ä½æ™‚æ®µ' }
                }
            },
            {
                name: 'éˆé­‚å’–å•¡', desc: 'æµ·æ´‹è—æ–‡é’é¢¨ï¼Œå’–å•¡å»³ / è¼•é£Ÿåº—', theme:'BLUE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„åº§ä½',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç·šä¸Šèœå–®',a:'start_shopping'},
                    {l:'å’–å•¡åˆ¸',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'é›†é»å¡',a:'view_member_info'},{l:'æ‰¾åˆ°æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1565C0', headerTitle:'â˜• {shopName}', headerSubtitle:'åœ¨é€™è£¡ï¼Œæ¯ä¸€æ¯éƒ½æ˜¯ä¸€æ®µæ•…äº‹' },
                fmFunctions: {
                    bookingList:{ color:'#1565C0', icon:'â˜•', title:'åº§ä½é ç´„', subtitle:'' },
                    productMenu:{ color:'#42A5F5', icon:'ğŸ“‹', title:'ä»Šæ—¥èœå–®', subtitle:'æ‰‹æ²–ã€æ‹¿éµã€ç”œé»' },
                    couponList:{ color:'#1E88E5', icon:'ğŸ«', title:'å’–å•¡åˆ¸', subtitle:'è²·10é€1ã€å¯„æ¯å„ªæƒ ' },
                    memberInfo:{ color:'#0D47A1', icon:'â˜•', title:'å’–å•¡é›†é»å¡', subtitle:'æ¯æ¯é›†1é»ï¼Œ10é»æ›é£²å“' },
                    contactShop:{ color:'#0D47A1', icon:'ğŸ“', title:'æ‰¾åˆ°æˆ‘å€‘', subtitle:'åœ°åœ–ã€Wi-Fi å¯†ç¢¼' }
                },
                fmSteps: {
                    service:{ color:'#1565C0', icon:'â˜•', title:'é¸æ“‡åº§ä½é¡å‹', subtitle:'å§å°ã€çª—é‚Šã€æ²™ç™¼ã€åŒ…å»‚...' },
                    date:{ color:'#1976D2', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    time:{ color:'#1565C0', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#42A5F5', icon:'ğŸ“', title:'ç‰¹æ®Šéœ€æ±‚', subtitle:'æ’åº§ã€å®‰éœè§’è½ã€å¯µç‰©å‹å–„' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ä¸€æ¯å¥½å’–å•¡ï¼Œç­‰ä½ ä¾†å“å‘³' }
                }
            },
            {
                name: 'ç†±é¬§å±…é…’å±‹', desc: 'æ—¥è½æ©˜æº«æš–é¢¨ï¼Œå±…é…’å±‹ / ç‡’çƒ¤åº—', theme:'ORANGE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1553621042-f6e147245754?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨‚ä½',a:'start_booking'},{l:'æˆ‘çš„è¨‚ä½',a:'view_bookings'},{l:'å¤–å¸¶èœå–®',a:'start_shopping'},
                    {l:'ä¹¾æ¯å„ªæƒ ',a:'view_coupons'},{l:'å¸¸å®¢é›†é»',a:'view_member_info'},{l:'è¯çµ¡åº—å®¶',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#E65100', headerTitle:'ğŸ® {shopName}', headerSubtitle:'ä¹¾æ¯ï¼ä»Šæ™šå°±ä¾†é€™è£¡æ”¾é¬†ä¸€ä¸‹å§ ğŸ»' },
                fmFunctions: {
                    bookingList:{ color:'#E65100', icon:'ğŸº', title:'è¨‚ä½ç´€éŒ„', subtitle:'' },
                    productMenu:{ color:'#F57C00', icon:'ğŸ®', title:'å±…é…’å±‹èœå–®', subtitle:'ä¸²ç‡’ã€åˆºèº«ã€ç‚¸ç‰©' },
                    couponList:{ color:'#FF9800', icon:'ğŸ»', title:'ä¹¾æ¯å„ªæƒ ', subtitle:'å•¤é…’è²·ä¸‰é€ä¸€' },
                    memberInfo:{ color:'#BF360C', icon:'ğŸ®', title:'å¸¸å®¢é›†é»', subtitle:'ç´¯ç©æ¶ˆè²»äº«VIPæŠ˜æ‰£' }
                },
                fmSteps: {
                    service:{ color:'#E65100', icon:'ğŸ®', title:'é¸æ“‡ç”¨é¤æ–¹å¼', subtitle:'å§å°ã€åº§ä½ã€åŒ…å»‚' },
                    date:{ color:'#F57C00', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'é€±æœ«å»ºè­°æå‰è¨‚ä½' },
                    time:{ color:'#E65100', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#FF9800', icon:'ğŸ“', title:'å‚™è¨»', subtitle:'äººæ•¸ã€æ…¶ç”Ÿã€éæ•é£Ÿæ' },
                    confirm:{ color:'#BF360C', icon:'âœ…', title:'ç¢ºèªè¨‚ä½', subtitle:'ä¹¾æ¯ï¼ä»Šæ™šä¸é†‰ä¸æ­¸ ğŸ»' }
                }
            },
            {
                name: 'ç²‰ç´…ä¸‹åˆèŒ¶', desc: 'å¤¢å¹»ç”œé»é¢¨ï¼Œä¸‹åˆèŒ¶/ç”œå“åº—', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„åº§ä½',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'ç”œé»èœå–®',a:'start_shopping'},{l:'é–¨èœœå„ªæƒ ',a:'view_coupons'},{l:'ç”œå¿ƒæœƒå“¡',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#F48FB1', headerTitle:'ğŸ§ {shopName}', headerSubtitle:'ç²‰ç´…è‰²çš„ç”œèœœåˆå¾Œæ™‚å…‰ ğŸ’•' },
                fmFunctions: {
                    bookingList:{ color:'#F48FB1', icon:'ğŸ°', title:'è¨‚ä½ç´€éŒ„', subtitle:'æŸ¥çœ‹ä¸‹åˆèŒ¶é ç´„' },
                    productMenu:{ color:'#F06292', icon:'ğŸ§', title:'ç”œé»èœå–®', subtitle:'é¦¬å¡é¾ã€åƒå±¤è›‹ç³•' },
                    couponList:{ color:'#EC407A', icon:'ğŸ’', title:'é–¨èœœå„ªæƒ ', subtitle:'é›™äººä¸‹åˆèŒ¶å¥—é¤' },
                    memberInfo:{ color:'#E91E63', icon:'ğŸ’–', title:'ç”œå¿ƒæœƒå“¡', subtitle:'é›†é»æ›ç”œé»' },
                    contactShop:{ color:'#C2185B', icon:'ğŸ’Œ', title:'ç§è¨Šé ç´„', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#F48FB1', icon:'ğŸ§', title:'é¸æ“‡æ–¹æ¡ˆ', subtitle:'é›™äººå¥—é¤ã€å–®äººç²¾é¸...' },
                    date:{ color:'#F06292', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    confirm:{ color:'#E91E63', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ç”œèœœåˆå¾Œç­‰ä½ ä¾†' }
                }
            },
            {
                name: 'éœ“è™¹é…’å§', desc: 'å¤œåº—éœ“è™¹é¢¨ï¼Œèª¿é…’å§/Lounge', theme:'DARK', layout:'2x2',
                img: 'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨‚ä½',a:'start_booking'},{l:'æˆ‘çš„è¨‚ä½',a:'view_bookings'},
                    {l:'é…’å–®',a:'start_shopping'},{l:'VIP æœƒå“¡',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#1A1A2E', headerTitle:'ğŸ¸ {shopName}', headerSubtitle:'éœ“è™¹ä¸‹çš„å¾®é†ºå¤œæ™š' },
                fmFunctions: {
                    bookingList:{ color:'#16213E', icon:'ğŸ¸', title:'è¨‚ä½ç´€éŒ„', subtitle:'æŸ¥çœ‹åŒ…å»‚èˆ‡åº§ä½é ç´„' },
                    productMenu:{ color:'#0F3460', icon:'ğŸ¹', title:'é…’å–®èœå–®', subtitle:'ç¶“å…¸èª¿é…’ã€é™å®šç‰¹èª¿' },
                    memberInfo:{ color:'#1A1A2E', icon:'ğŸŒ™', title:'å¤œè¡ŒVIP', subtitle:'å°ˆå±¬æŠ˜æ‰£èˆ‡å„ªå…ˆè¨‚ä½' },
                    contactShop:{ color:'#16213E', icon:'ğŸ’¬', title:'åŒ…å»‚é ç´„', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#16213E', icon:'ğŸ¸', title:'é¸æ“‡åº§ä½', subtitle:'å§å°ã€å¡åº§ã€åŒ…å»‚...' },
                    date:{ color:'#0F3460', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    time:{ color:'#16213E', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#1A1A2E', icon:'âœ…', title:'ç¢ºèªè¨‚ä½', subtitle:'ä»Šæ™šä¸é†‰ä¸æ­¸' }
                }
            },
            {
                name: 'å’Œé£Ÿæ–™äº­', desc: 'æ—¥å¼æ‡·çŸ³é¢¨ï¼Œæ—¥æœ¬æ–™ç†', theme:'GREEN', layout:'1+2',
                img: 'https://images.unsplash.com/photo-1559329007-40df8a9345d8?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨‚ä½',a:'start_booking'},
                    {l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'è¯çµ¡æ–™äº­',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#5D8A66', headerTitle:'ğŸ£ {shopName}', headerSubtitle:'ä¸€æœŸä¸€æœƒçš„å‘³è¦ºé¥—å®´' },
                fmFunctions: {
                    bookingList:{ color:'#5D8A66', icon:'ğŸ£', title:'è¨‚ä½ç´€éŒ„', subtitle:'æŸ¥çœ‹ç”¨é¤é ç´„' },
                    memberInfo:{ color:'#4A7C59', icon:'ğŸ‹', title:'å’Œé¢¨æœƒå“¡', subtitle:'é›…ç·»çš„æœƒå“¡ç¦®é‡' },
                    contactShop:{ color:'#3B6B4A', icon:'ğŸ“', title:'è¯çµ¡æ–™äº­', subtitle:'é ç´„ç„¡èœå–®æ–™ç†' }
                },
                fmSteps: {
                    service:{ color:'#5D8A66', icon:'ğŸ£', title:'é¸æ“‡æ–¹æ¡ˆ', subtitle:'æ‡·çŸ³ã€å£½å¸ã€ç„¡èœå–®...' },
                    confirm:{ color:'#3B6B4A', icon:'âœ…', title:'ç¢ºèªè¨‚ä½', subtitle:'éœå€™æ‚¨çš„è’è‡¨' }
                }
            },
            {
                name: 'å¾©å¤è€å®…é£Ÿå ‚', desc: 'æ‡·èˆŠå¤æ—©é¢¨ï¼Œå¤æ—©å‘³é¤å»³', theme:'ORANGE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1552566626-52f8b828add9?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨‚ä½',a:'start_booking'},{l:'æˆ‘çš„è¨‚ä½',a:'view_bookings'},{l:'å¤æ—©å¤–å¸¶',a:'start_shopping'},
                    {l:'è€å®¢å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'å¸¸å®¢é›†é»',a:'view_member_info'},{l:'è¯çµ¡é£Ÿå ‚',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#BF6B3F', headerTitle:'ğŸ® {shopName}', headerSubtitle:'é˜¿å¬¤çš„å‘³é“ï¼Œè¨˜æ†¶ä¸­çš„ç¾å¥½' },
                fmFunctions: {
                    bookingList:{ color:'#BF6B3F', icon:'ğŸš', title:'è¨‚ä½ç´€éŒ„', subtitle:'æŸ¥çœ‹ç”¨é¤é ç´„' },
                    productMenu:{ color:'#D4845A', icon:'ğŸ®', title:'å¤æ—©èœå–®', subtitle:'æ»·è‚‰é£¯ã€æ’éª¨æ¹¯ã€è±†èŠ±' },
                    couponList:{ color:'#E09B6E', icon:'ğŸ', title:'è€å®¢å„ªæƒ ', subtitle:'ç´¯ç©æ¶ˆè²»é€æ‹›ç‰Œèœ' },
                    myCoupons:{ color:'#C47750', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#A85C38', icon:'ğŸ¡', title:'å¸¸å®¢é›†é»', subtitle:'10 é»æ›ä¸€ç¢—æ‹›ç‰Œ' },
                    contactShop:{ color:'#8F4E30', icon:'ğŸ“', title:'è¯çµ¡é£Ÿå ‚', subtitle:'å¤–å¸¶å¤§é‡è«‹å…ˆé›»è©±' }
                },
                fmSteps: {
                    service:{ color:'#BF6B3F', icon:'ğŸš', title:'é¸æ“‡åº§ä½', subtitle:'å…§ç”¨ã€åŒ…å»‚ã€åº­é™¢' },
                    date:{ color:'#D4845A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    time:{ color:'#BF6B3F', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#E09B6E', icon:'ğŸ“', title:'å‚™è¨»', subtitle:'äººæ•¸ã€ç‰¹æ®Šéœ€æ±‚' },
                    confirm:{ color:'#A85C38', icon:'âœ…', title:'ç¢ºèªè¨‚ä½', subtitle:'å¤æ—©å‘³ç­‰ä½ ä¾†å“åš' }
                }
            },
            {
                name: 'æœªä¾†æ™ºæ…§é¤å»³', desc: 'ç§‘æŠ€ç”¨é¤é¢¨ï¼Œç„¡äººé¤å»³', theme:'BLUE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1592861956120-e524fc739696?w=600&h=300&fit=crop',
                cells: [
                    {l:'ç·šä¸Šè¨‚ä½',a:'start_booking'},{l:'æˆ‘çš„è¨‚ä½',a:'view_bookings'},{l:'æ™ºæ…§èœå–®',a:'start_shopping'},
                    {l:'é¦–æ¬¡å„ªæƒ ',a:'view_coupons'},{l:'ç¾é£Ÿæª”æ¡ˆ',a:'view_member_info'},{l:'ç·šä¸Šå®¢æœ',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1976D2', headerTitle:'ğŸ¤– {shopName}', headerSubtitle:'ç§‘æŠ€é»é¤ï¼Œæ™ºæ…§ç”¨é¤æ–°é«”é©—' },
                fmFunctions: {
                    bookingList:{ color:'#1976D2', icon:'ğŸ“Š', title:'è¨‚ä½ç´€éŒ„', subtitle:'æŸ¥çœ‹æ™ºæ…§è¨‚ä½' },
                    productMenu:{ color:'#1E88E5', icon:'ğŸ“±', title:'æ™ºæ…§èœå–®', subtitle:'AI æ¨è–¦ä»Šæ—¥æœ€ä½³' },
                    couponList:{ color:'#42A5F5', icon:'ğŸ', title:'é¦–æ¬¡å„ªæƒ ', subtitle:'é¦–æ¬¡ç”¨é¤äº«æŠ˜æ‰£' },
                    memberInfo:{ color:'#1565C0', icon:'ğŸ“±', title:'ç¾é£Ÿæª”æ¡ˆ', subtitle:'å£å‘³åå¥½ AI åˆ†æ' },
                    contactShop:{ color:'#0D47A1', icon:'ğŸ’¬', title:'ç·šä¸Šå®¢æœ', subtitle:'å³æ™‚è§£ç­”' }
                },
                fmSteps: {
                    service:{ color:'#1976D2', icon:'ğŸ¤–', title:'é¸æ“‡æ–¹æ¡ˆ', subtitle:'å€‹äººå¥—é¤ã€å¤šäººåˆ†äº«...' },
                    date:{ color:'#1E88E5', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    time:{ color:'#1976D2', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªè¨‚ä½', subtitle:'æ™ºæ…§ç”¨é¤å³å°‡é–‹å§‹' }
                }
            },
            {
                name: 'ç¹½ç´›æ—©åˆé¤', desc: 'æ´»åŠ›ç¹½ç´›é¢¨ï¼Œæ—©åˆé¤/Brunch', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„åº§ä½',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'å¤–å¸¶èœå–®',a:'start_shopping'},
                    {l:'æ—©é³¥å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'ç¾é£Ÿé›†é»',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#43A047', headerTitle:'ğŸŒ {shopName}', headerSubtitle:'ç”¨ä¸€é “ç¹½ç´›æ—©åˆé¤é–‹å•Ÿç¾å¥½ä¸€å¤©ï¼' },
                fmFunctions: {
                    bookingList:{ color:'#43A047', icon:'ğŸ³', title:'è¨‚ä½ç´€éŒ„', subtitle:'æŸ¥çœ‹æ—©åˆé¤é ç´„' },
                    productMenu:{ color:'#66BB6A', icon:'ğŸ¥‘', title:'æ—©åˆé¤èœå–®', subtitle:'ç­å°¼è¿ªå…‹è›‹ã€é…ªæ¢¨åå¸' },
                    couponList:{ color:'#81C784', icon:'ğŸŒ…', title:'æ—©é³¥å„ªæƒ ', subtitle:'9 é»å‰äº« 8 æŠ˜' },
                    myCoupons:{ color:'#A5D6A7', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#2E7D32', icon:'â­', title:'ç¾é£Ÿé›†é»', subtitle:'10 é»æ›ä¸€ä»½æ—©é¤' },
                    contactShop:{ color:'#1B5E20', icon:'ğŸ“', title:'è¯çµ¡æˆ‘å€‘', subtitle:'å¤–é€èˆ‡å¤–å¸¶' }
                },
                fmSteps: {
                    service:{ color:'#43A047', icon:'ğŸ³', title:'é¸æ“‡æ–¹æ¡ˆ', subtitle:'å–®äººã€é›™äººã€å®¶åº­å¥—é¤...' },
                    date:{ color:'#66BB6A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    time:{ color:'#43A047', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#2E7D32', icon:'âœ…', title:'ç¢ºèªè¨‚ä½', subtitle:'ç¾å¥½çš„ä¸€å¤©å¾é€™è£¡é–‹å§‹' }
                }
            },
            {
                name: 'æœ‰æ©Ÿè¾²å ´é¤æ¡Œ', desc: 'ç”¢åœ°ç›´é€é¢¨ï¼Œè¾²å ´é¤å»³', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„è¨‚ä½',a:'start_booking'},{l:'æˆ‘çš„è¨‚ä½',a:'view_bookings'},
                    {l:'è¾²å ´ç›´é€',a:'start_shopping'},{l:'ç¶ è‰²æœƒå“¡',a:'view_member_info'},{l:'è¯çµ¡è¾²å ´',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6D8B74', headerTitle:'ğŸŒ¾ {shopName}', headerSubtitle:'å¾è¾²å ´åˆ°é¤æ¡Œçš„çœŸå¯¦ç¾å‘³' },
                fmFunctions: {
                    bookingList:{ color:'#6D8B74', icon:'ğŸ½ï¸', title:'è¨‚ä½ç´€éŒ„', subtitle:'æŸ¥çœ‹è¾²å ´é¤æ¡Œé ç´„' },
                    productMenu:{ color:'#7DA68A', icon:'ğŸŒ¿', title:'è¾²å ´ç›´é€', subtitle:'æœ‰æ©Ÿè”¬èœã€æ”¾ç‰§è›‹' },
                    memberInfo:{ color:'#5B7B65', icon:'ğŸŒ±', title:'ç¶ è‰²æœƒå“¡', subtitle:'ç’°ä¿ç©é»å›é¥‹' },
                    contactShop:{ color:'#4A6B55', icon:'ğŸ“', title:'è¯çµ¡è¾²å ´', subtitle:'åœ˜é«”ç”¨é¤é ç´„' }
                },
                fmSteps: {
                    service:{ color:'#6D8B74', icon:'ğŸŒ¾', title:'é¸æ“‡æ–¹æ¡ˆ', subtitle:'è¾²å ´é«”é©—ã€ä¸»å»šå¥—é¤...' },
                    date:{ color:'#7DA68A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    confirm:{ color:'#4A6B55', icon:'âœ…', title:'ç¢ºèªè¨‚ä½', subtitle:'å“åšå¤§åœ°çš„æ©è³œ' }
                }
            }
        ],
        spa: [
            {
                name: 'é¦¥è˜­æœµ SPA', desc: 'ç²¾å“é¢¨å¥¢è¯æš–è‰²ï¼Œé ‚ç´š SPA æœƒé¤¨', theme:'BOUTIQUE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç™‚ç¨‹',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'é ‚ç´šä¿é¤Š',a:'start_shopping'},
                    {l:'å¯µæ„›å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'å°Šæ¦®æœƒå“¡',a:'view_member_info'},{l:'å°ˆå±¬ç®¡å®¶',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6D4C41', headerTitle:'ğŸŒ¿ {shopName}', headerSubtitle:'æ²‰æµ¸åœ¨æ¥µè‡´æ”¾é¬†çš„æ„Ÿå®˜ä¹‹æ—…' },
                fmFunctions: {
                    bookingList:{ color:'#6D4C41', icon:'ğŸŒ¸', title:'ç™‚ç¨‹é ç´„', subtitle:'æŸ¥çœ‹èŠ³ç™‚èˆ‡æŒ‰æ‘©é ç´„' },
                    productMenu:{ color:'#8D6E63', icon:'ğŸ§´', title:'é ‚ç´šä¿é¤Šå“', subtitle:'ç²¾æ²¹ã€èº«é«”ä¹³ã€é¦™æ°›' },
                    couponList:{ color:'#A1887F', icon:'ğŸŒº', title:'å¯µæ„›å„ªæƒ ', subtitle:'é–¨èœœåŒè¡Œã€ç”Ÿæ—¥ç¦®é‡' },
                    myCoupons:{ color:'#BCAAA4', icon:'ğŸ«', title:'æˆ‘çš„ç¦®åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#5D4037', icon:'ğŸ‘‘', title:'å°Šæ¦®æœƒå“¡', subtitle:'å°ˆå±¬ç­‰ç´šèˆ‡å›é¥‹' },
                    contactShop:{ color:'#4E342E', icon:'ğŸ›ï¸', title:'å°ˆå±¬ç®¡å®¶', subtitle:'ç™‚ç¨‹è¦åŠƒã€é€ç¦®è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#6D4C41', icon:'ğŸŒ¿', title:'é¸æ“‡ç™‚ç¨‹', subtitle:'ç²¾æ²¹æŒ‰æ‘©ã€ç†±çŸ³ã€è‡‰éƒ¨è­·ç†...' },
                    staff:{ color:'#795548', icon:'ğŸ’†', title:'æŒ‡å®šèŠ³ç™‚å¸«', subtitle:'æŸ¥çœ‹èŠ³ç™‚å¸«æ“…é•·é …ç›®' },
                    confirm:{ color:'#5D4037', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æœŸå¾…ç‚ºæ‚¨å¸¶ä¾†æ”¾é¬†æ™‚å…‰' }
                }
            },
            {
                name: 'ç¦ªå¢ƒæŒ‰æ‘©', desc: 'æš—é»‘ç¦ªæ„é¢¨ï¼ŒæŒ‰æ‘©å·¥ä½œå®¤ / è¶³é«”é¤Šç”Ÿ', theme:'DARK', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1519823551278-64ac92734fb1?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æŒ‰æ‘©',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'é¤Šç”Ÿç”¨å“',a:'start_shopping'},
                    {l:'é¦–æ¬¡å„ªæƒ ',a:'view_coupons'},{l:'æœƒå“¡ä¸­å¿ƒ',a:'view_member_info'},{l:'ç·šä¸Šè«®è©¢',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#263238', headerTitle:'ğŸ§˜ {shopName}', headerSubtitle:'éœå¿ƒ Â· é¤Šèº« Â· é‡æ‹¾å¹³è¡¡' },
                fmFunctions: {
                    bookingList:{ color:'#37474F', icon:'ğŸ™Œ', title:'æŒ‰æ‘©ç´€éŒ„', subtitle:'' },
                    productMenu:{ color:'#455A64', icon:'ğŸµ', title:'é¤Šç”Ÿé¸ç‰©', subtitle:'æ¼¢æ–¹ç²¾æ²¹ã€è‰¾è‰åŒ…' },
                    memberInfo:{ color:'#263238', icon:'â˜¯ï¸', title:'é¤Šç”Ÿæª”æ¡ˆ', subtitle:'èº«é«”ç‹€æ…‹è¿½è¹¤' },
                    contactShop:{ color:'#37474F', icon:'ğŸ§˜', title:'é ç´„è«®è©¢', subtitle:'å®¢è£½åŒ–ç™‚ç¨‹å»ºè­°' }
                },
                fmSteps: {
                    service:{ color:'#37474F', icon:'ğŸ™Œ', title:'é¸æ“‡æŒ‰æ‘©é …ç›®', subtitle:'å…¨èº«ã€è¶³åº•ã€è‚©é ¸ã€åˆ®ç—§...' },
                    date:{ color:'#455A64', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#37474F', icon:'â˜¯ï¸', title:'æŒ‡å®šæŒ‰æ‘©å¸«', subtitle:'é¸æ“‡æ“…é•·çš„æ‰‹æ³•' },
                    time:{ color:'#455A64', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#546E7A', icon:'ğŸ“', title:'èº«é«”ç‹€æ³', subtitle:'ç— ç—›éƒ¨ä½ã€åŠ›é“åå¥½' },
                    confirm:{ color:'#263238', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'è®“èº«å¿ƒå›æ­¸å¹³è¡¡' }
                }
            },
            {
                name: 'ç¢§æ³¢æ°´ç™‚', desc: 'æµ·æ´‹è—æ¸…é€é¢¨ï¼Œæ°´ç™‚ä¸­å¿ƒ / æº«æ³‰æœƒé¤¨', theme:'BLUE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1531299204812-e6d44d9a185c?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æ°´ç™‚',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'SPA å¥½ç‰©',a:'start_shopping'},
                    {l:'é«”é©—åƒ¹',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æ‚ æ´»æœƒå“¡',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#0277BD', headerTitle:'ğŸ’§ {shopName}', headerSubtitle:'è®“èº«å¿ƒéš¨æ°´æ³¢è¼•è¼•æµå‹•ï¼Œé‡‹æ”¾ä¸€åˆ‡å£“åŠ›' },
                fmFunctions: {
                    bookingList:{ color:'#0277BD', icon:'ğŸŒŠ', title:'æ°´ç™‚ç´€éŒ„', subtitle:'æŸ¥çœ‹ç™‚ç¨‹é ç´„' },
                    productMenu:{ color:'#0288D1', icon:'ğŸ’§', title:'SPA å¥½ç‰©', subtitle:'æµ´é¹½ã€ç²¾æ²¹ã€é¢è†œ' },
                    couponList:{ color:'#039BE5', icon:'ğŸ', title:'é¦–æ¬¡é«”é©—åƒ¹', subtitle:'åŠåƒ¹é«”é©—æ°´ç™‚èª²ç¨‹' },
                    memberInfo:{ color:'#01579B', icon:'ğŸ³', title:'æ‚ æ´»æœƒå“¡', subtitle:'å„²å€¼äº«æ›´å¤šå„ªæƒ ' },
                    contactShop:{ color:'#01579B', icon:'ğŸ“', title:'äº¤é€šè³‡è¨Š', subtitle:'åœ°å€ã€åœè»Šã€æ¥é§' }
                },
                fmSteps: {
                    service:{ color:'#0277BD', icon:'ğŸ’§', title:'é¸æ“‡æ°´ç™‚é …ç›®', subtitle:'æ°´æŸ±æŒ‰æ‘©ã€è’¸æ°£æµ´ã€æ³¡æ¹¯...' },
                    date:{ color:'#0288D1', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#0277BD', icon:'ğŸ’†', title:'æŒ‡å®šæ°´ç™‚å¸«', subtitle:'' },
                    time:{ color:'#039BE5', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#0288D1', icon:'ğŸ“', title:'å‚™è¨»', subtitle:'èº«é«”ç‹€æ³ã€åå¥½æ°´æº«' },
                    confirm:{ color:'#01579B', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'è®“èº«å¿ƒéš¨æ°´æ³¢è¼•è¼•æµå‹•' }
                }
            },
            {
                name: 'ç²‰ç´…é–¨èœœSPA', desc: 'ç”œèœœé–¨èœœé¢¨ï¼Œå¥³æ€§å°ˆå±¬SPA', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç™‚ç¨‹',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'SPA å¥½ç‰©',a:'start_shopping'},{l:'é–¨èœœå„ªæƒ ',a:'view_coupons'},{l:'ç”œå¿ƒæœƒå“¡',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#F48FB1', headerTitle:'ğŸŒ¸ {shopName}', headerSubtitle:'å’Œé–¨èœœä¸€èµ·äº«å—ç²‰ç´…æ”¾é¬†æ™‚å…‰ ğŸ’•' },
                fmFunctions: {
                    bookingList:{ color:'#F48FB1', icon:'ğŸ’†â€â™€ï¸', title:'ç™‚ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹SPAé ç´„' },
                    productMenu:{ color:'#F06292', icon:'ğŸŒ¹', title:'SPA å¥½ç‰©', subtitle:'ç«ç‘°ç²¾æ²¹ã€èº«é«”ä¹³' },
                    couponList:{ color:'#EC407A', icon:'ğŸ’', title:'é–¨èœœå„ªæƒ ', subtitle:'é›™äººåŒè¡Œäº«æŠ˜æ‰£' },
                    memberInfo:{ color:'#E91E63', icon:'ğŸ’–', title:'ç”œå¿ƒæœƒå“¡', subtitle:'ç´¯ç©ç¾éº—é»æ•¸' },
                    contactShop:{ color:'#C2185B', icon:'ğŸ’Œ', title:'ç§è¨Šé ç´„', subtitle:'' }
                },
                fmSteps: {
                    service:{ color:'#F48FB1', icon:'ğŸ’†â€â™€ï¸', title:'é¸æ“‡ç™‚ç¨‹', subtitle:'ç²¾æ²¹æŒ‰æ‘©ã€è‡‰éƒ¨è­·ç†...' },
                    staff:{ color:'#F06292', icon:'ğŸ‘©', title:'æŒ‡å®šèŠ³ç™‚å¸«', subtitle:'' },
                    confirm:{ color:'#E91E63', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ç²‰ç´…æ”¾é¬†æ™‚å…‰å³å°‡é–‹å§‹' }
                }
            },
            {
                name: 'éœ“è™¹å¤œSPA', desc: 'éƒ½æœƒæ·±å¤œé¢¨ï¼Œå¤œé–“SPA/æŒ‰æ‘©', theme:'DARK', layout:'2x2',
                img: 'https://images.unsplash.com/photo-1600334089648-b0d9d3028eb2?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æŒ‰æ‘©',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'èˆ’å£“å¥½ç‰©',a:'start_shopping'},{l:'å¤œè¡Œæœƒå“¡',a:'view_member_info'}
                ],
                fmConfig: { headerColor:'#1A1A2E', headerTitle:'ğŸŒ™ {shopName}', headerSubtitle:'æ·±å¤œçš„å°ˆå±¬æ”¾é¬†ç¶ æ´²' },
                fmFunctions: {
                    bookingList:{ color:'#16213E', icon:'ğŸ’†', title:'æŒ‰æ‘©ç´€éŒ„', subtitle:'æŸ¥çœ‹å¤œé–“SPAé ç´„' },
                    productMenu:{ color:'#0F3460', icon:'ğŸ•¯ï¸', title:'èˆ’å£“å¥½ç‰©', subtitle:'åŠ©çœ ç²¾æ²¹ã€é¦™æ°›è Ÿç‡­' },
                    memberInfo:{ color:'#1A1A2E', icon:'ğŸŒ™', title:'å¤œè¡Œæœƒå“¡', subtitle:'æ·±å¤œå°ˆå±¬æŠ˜æ‰£' },
                    contactShop:{ color:'#16213E', icon:'ğŸ’¬', title:'ç·šä¸Šé ç´„', subtitle:'æ·±å¤œä¹Ÿèƒ½é ç´„' }
                },
                fmSteps: {
                    service:{ color:'#16213E', icon:'ğŸ’†', title:'é¸æ“‡é …ç›®', subtitle:'å…¨èº«æŒ‰æ‘©ã€è¶³åº•ã€è‚©é ¸...' },
                    staff:{ color:'#0F3460', icon:'ğŸŒ™', title:'æŒ‡å®šæŒ‰æ‘©å¸«', subtitle:'' },
                    confirm:{ color:'#1A1A2E', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æ·±å¤œæ”¾é¬†ä¹‹æ—…' }
                }
            },
            {
                name: 'å’Œé¢¨æ¹¯å±‹', desc: 'æ—¥å¼æº«æ³‰é¢¨ï¼Œæ¹¯å±‹/å²©ç›¤æµ´', theme:'GREEN', layout:'1+2',
                img: 'https://images.unsplash.com/photo-1545205597-3d9d02c29597?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æ³¡æ¹¯',a:'start_booking'},
                    {l:'æ¹¯å®¢æœƒå“¡',a:'view_member_info'},{l:'è¯çµ¡æ¹¯å±‹',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#5D8A66', headerTitle:'â™¨ï¸ {shopName}', headerSubtitle:'ä¸€æœŸä¸€æœƒçš„æº«æ³‰æ™‚å…‰' },
                fmFunctions: {
                    bookingList:{ color:'#5D8A66', icon:'â™¨ï¸', title:'æ³¡æ¹¯ç´€éŒ„', subtitle:'æŸ¥çœ‹æº«æ³‰é ç´„' },
                    memberInfo:{ color:'#4A7C59', icon:'ğŸ‹', title:'æ¹¯å®¢æœƒå“¡', subtitle:'å¸¸å®¢å°ˆå±¬å›é¥‹' },
                    contactShop:{ color:'#3B6B4A', icon:'ğŸ“', title:'è¯çµ¡æ¹¯å±‹', subtitle:'æ¹¯å±‹è³‡è¨Š' }
                },
                fmSteps: {
                    service:{ color:'#5D8A66', icon:'â™¨ï¸', title:'é¸æ“‡æ–¹æ¡ˆ', subtitle:'å€‹äººæ¹¯å±‹ã€é›™äººæ¹¯...' },
                    confirm:{ color:'#3B6B4A', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æº«æ³‰ç™‚ç™’èº«å¿ƒ' }
                }
            },
            {
                name: 'å¾©å¤æ¾¡å ‚', desc: 'æ‡·èˆŠæ¾¡å ‚é¢¨ï¼Œå…¬å…±æµ´å ´', theme:'ORANGE', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1507652313519-d4e9174996dd?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æ³¡æ¾¡',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'æ¾¡å ‚ç”¨å“',a:'start_shopping'},
                    {l:'è€å®¢å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'å¸¸å®¢é›†é»',a:'view_member_info'},{l:'è¯çµ¡æ¾¡å ‚',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#BF6B3F', headerTitle:'ğŸ› {shopName}', headerSubtitle:'é‡æº«å…’æ™‚çš„æ¾¡å ‚è¨˜æ†¶' },
                fmFunctions: {
                    bookingList:{ color:'#BF6B3F', icon:'ğŸ›', title:'æ³¡æ¾¡ç´€éŒ„', subtitle:'æŸ¥çœ‹æ¾¡å ‚é ç´„' },
                    productMenu:{ color:'#D4845A', icon:'ğŸ§¼', title:'æ¾¡å ‚ç”¨å“', subtitle:'æ‰‹å·¥çš‚ã€æµ´å·¾ã€æœ¨æ¡¶' },
                    couponList:{ color:'#E09B6E', icon:'ğŸ', title:'è€å®¢å„ªæƒ ', subtitle:'10 æ¬¡åˆ¸äº«æŠ˜æ‰£' },
                    myCoupons:{ color:'#C47750', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#A85C38', icon:'ğŸ®', title:'å¸¸å®¢é›†é»', subtitle:'ç´¯ç©æ³¡æ¹¯æ¬¡æ•¸' },
                    contactShop:{ color:'#8F4E30', icon:'ğŸ“', title:'è¯çµ¡æ¾¡å ‚', subtitle:'ç‡Ÿæ¥­æ™‚é–“èˆ‡åƒ¹æ ¼' }
                },
                fmSteps: {
                    service:{ color:'#BF6B3F', icon:'ğŸ›', title:'é¸æ“‡æ–¹æ¡ˆ', subtitle:'å€‹äººã€å®¶åº­ã€æ“æ¾¡...' },
                    date:{ color:'#D4845A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    time:{ color:'#BF6B3F', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#E09B6E', icon:'ğŸ“', title:'å‚™è¨»', subtitle:'äººæ•¸ã€ç‰¹æ®Šéœ€æ±‚' },
                    confirm:{ color:'#A85C38', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æ´—å»ä¸€èº«ç–²æ†Š' }
                }
            },
            {
                name: 'ç§‘æŠ€ç¾é«”ä¸­å¿ƒ', desc: 'å„€å™¨ç¾é«”é¢¨ï¼Œé«˜ç§‘æŠ€çº–é«”', theme:'BLUE', layout:'2x3',
                img: 'https://images.unsplash.com/photo-1545205597-3d9d02c29597?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç™‚ç¨‹',a:'start_booking'},{l:'æˆ‘çš„ç™‚ç¨‹',a:'view_bookings'},{l:'çº–é«”ç”¢å“',a:'start_shopping'},
                    {l:'é«”é©—å„ªæƒ ',a:'view_coupons'},{l:'èº«é«”æ•¸æ“š',a:'view_member_info'},{l:'å°ˆæ¥­è«®è©¢',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#1976D2', headerTitle:'ğŸ”¬ {shopName}', headerSubtitle:'ç§‘æŠ€å¡‘èº«ï¼Œç²¾æº–é›•å¡‘' },
                fmFunctions: {
                    bookingList:{ color:'#1976D2', icon:'ğŸ“Š', title:'ç™‚ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹ç¾é«”é ç´„' },
                    productMenu:{ color:'#1E88E5', icon:'ğŸ§ª', title:'çº–é«”ç”¢å“', subtitle:'å¡‘èº«éœœã€ä»£é¤ã€é…µç´ ' },
                    couponList:{ color:'#42A5F5', icon:'ğŸ', title:'é«”é©—å„ªæƒ ', subtitle:'é¦–æ¬¡é«”è„‚åˆ†æå…è²»' },
                    memberInfo:{ color:'#1565C0', icon:'ğŸ“±', title:'èº«é«”æ•¸æ“š', subtitle:'é«”è„‚ã€åœåº¦è¿½è¹¤' },
                    contactShop:{ color:'#0D47A1', icon:'ğŸ’¬', title:'å°ˆæ¥­è«®è©¢', subtitle:'å®¢è£½åŒ–çº–é«”è¨ˆç•«' }
                },
                fmSteps: {
                    service:{ color:'#1976D2', icon:'ğŸ”¬', title:'é¸æ“‡ç™‚ç¨‹', subtitle:'å†·å‡æº¶è„‚ã€é›»æ³¢ç·Šè†š...' },
                    date:{ color:'#1E88E5', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#1976D2', icon:'ğŸ‘©â€âš•ï¸', title:'æŒ‡å®šç¾é«”å¸«', subtitle:'' },
                    time:{ color:'#42A5F5', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    confirm:{ color:'#0D47A1', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'ç²¾æº–å¡‘èº«å³å°‡é–‹å§‹' }
                }
            },
            {
                name: 'ç¹½ç´›è¦ªå­æ°´ç™‚', desc: 'æ­¡æ¨‚è¦ªå­é¢¨ï¼Œè¦ªå­æ³³æ± /æ°´ç™‚', theme:'GREEN', layout:'3+4',
                img: 'https://images.unsplash.com/photo-1559599101-f09722fb4948?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„æ°´ç™‚',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'è¦ªå­ç”¨å“',a:'start_shopping'},
                    {l:'å®¶åº­å„ªæƒ ',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æ­¡æ¨‚æœƒå“¡',a:'view_member_info'},{l:'è¯çµ¡æˆ‘å€‘',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#43A047', headerTitle:'ğŸ¬ {shopName}', headerSubtitle:'å’Œå¯¶è²ä¸€èµ·äº«å—æ­¡æ¨‚æ°´ç™‚æ™‚å…‰ï¼' },
                fmFunctions: {
                    bookingList:{ color:'#43A047', icon:'ğŸ¬', title:'æ°´ç™‚ç´€éŒ„', subtitle:'æŸ¥çœ‹è¦ªå­æ°´ç™‚é ç´„' },
                    productMenu:{ color:'#66BB6A', icon:'ğŸŠ', title:'è¦ªå­ç”¨å“', subtitle:'æ³³è¡£ã€æµ®æ¿ã€é˜²æ›¬' },
                    couponList:{ color:'#81C784', icon:'ğŸŠ', title:'å®¶åº­å„ªæƒ ', subtitle:'å…¨å®¶åŒæ¨‚äº«æŠ˜æ‰£' },
                    myCoupons:{ color:'#A5D6A7', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸', subtitle:'' },
                    memberInfo:{ color:'#2E7D32', icon:'â­', title:'æ­¡æ¨‚æœƒå“¡', subtitle:'ç´¯ç©è¦ªå­é»æ•¸' },
                    contactShop:{ color:'#1B5E20', icon:'ğŸ“', title:'è¯çµ¡æˆ‘å€‘', subtitle:'èª²ç¨‹èˆ‡å ´åœ°è«®è©¢' }
                },
                fmSteps: {
                    service:{ color:'#43A047', icon:'ğŸ¬', title:'é¸æ“‡æ–¹æ¡ˆ', subtitle:'è¦ªå­æ³³æ± ã€å¯¶å¯¶æ°´ç™‚...' },
                    date:{ color:'#66BB6A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    time:{ color:'#43A047', icon:'â°', title:'é¸æ“‡æ™‚æ®µ', subtitle:'' },
                    note:{ color:'#81C784', icon:'ğŸ“', title:'å‚™è¨»', subtitle:'å¯¶å¯¶å¹´é½¡ã€ç‰¹æ®Šéœ€æ±‚' },
                    confirm:{ color:'#2E7D32', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'æ­¡æ¨‚æ°´ç™‚ç­‰ä½ å€‘ä¾†ï¼' }
                }
            },
            {
                name: 'å±±æ—ç§˜å¢ƒSPA', desc: 'æ£®æ—ç§˜å¢ƒé¢¨ï¼Œåº¦å‡SPA', theme:'BOUTIQUE', layout:'2+3',
                img: 'https://images.unsplash.com/photo-1596178065887-1198b6148b2b?w=600&h=300&fit=crop',
                cells: [
                    {l:'é ç´„ç™‚ç¨‹',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
                    {l:'å¤©ç„¶ç²¾æ²¹',a:'start_shopping'},{l:'æ£®æ—æœƒå“¡',a:'view_member_info'},{l:'è¯çµ¡ç§˜å¢ƒ',a:'contact_shop'}
                ],
                fmConfig: { headerColor:'#6D8B74', headerTitle:'ğŸŒ² {shopName}', headerSubtitle:'éš±èº«å±±æ—çš„ç™‚ç™’ç§˜å¢ƒ' },
                fmFunctions: {
                    bookingList:{ color:'#6D8B74', icon:'ğŸŒ²', title:'ç™‚ç¨‹ç´€éŒ„', subtitle:'æŸ¥çœ‹ç§˜å¢ƒSPAé ç´„' },
                    productMenu:{ color:'#7DA68A', icon:'ğŸŒ¿', title:'å¤©ç„¶ç²¾æ²¹', subtitle:'æ£®æ—ç²¾æ²¹ã€è‰æœ¬é¦™æ°›' },
                    memberInfo:{ color:'#5B7B65', icon:'ğŸ‚', title:'æ£®æ—æœƒå“¡', subtitle:'å¤§åœ°ç©é»å›é¥‹' },
                    contactShop:{ color:'#4A6B55', icon:'ğŸ“', title:'è¯çµ¡ç§˜å¢ƒ', subtitle:'äº¤é€šèˆ‡ä½å®¿è³‡è¨Š' }
                },
                fmSteps: {
                    service:{ color:'#6D8B74', icon:'ğŸŒ²', title:'é¸æ“‡ç™‚ç¨‹', subtitle:'æ£®æ—æµ´ã€çŸ³æ¿æµ´ã€èŠ³ç™‚...' },
                    date:{ color:'#7DA68A', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ', subtitle:'' },
                    staff:{ color:'#6D8B74', icon:'ğŸ’†', title:'æŒ‡å®šèŠ³ç™‚å¸«', subtitle:'' },
                    confirm:{ color:'#4A6B55', icon:'âœ…', title:'ç¢ºèªé ç´„', subtitle:'å±±æ—ç§˜å¢ƒç­‰å¾…ä½ çš„åˆ°ä¾†' }
                }
            }
        ]
    };

    // æ¯æ¥­ç¨®çš„ Flex ä¸»é¸å–®å¡ç‰‡åœ–ç‰‡ï¼ˆ7 å¼µï¼Œå°æ‡‰ 7 å€‹åŠŸèƒ½ï¼‰
    const FM_CARD_IMAGES = {
        pet: [
            'https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1516734212186-a967f81ad0d7?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1535930749574-1399327ce78f?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1574158622682-e40e69881006?w=600&h=400&fit=crop'
        ],
        beauty: [
            'https://images.unsplash.com/photo-1604654894610-df63bc536371?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1632345031435-8727f6897d53?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1519014816548-bf5fe059798b?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1560750588-73207b1ef5b8?w=600&h=400&fit=crop'
        ],
        hair: [
            'https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1562322140-8baeececf3df?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1522337094846-8a818192de1f?w=600&h=400&fit=crop'
        ],
        clinic: [
            'https://images.unsplash.com/photo-1629909613654-28e377c37b09?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=600&h=400&fit=crop'
        ],
        fitness: [
            'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1518611012118-696072aa579a?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1549060279-7e168fcee0c2?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1517963879433-6ad2b056d712?w=600&h=400&fit=crop'
        ],
        restaurant: [
            'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1551024506-0bccd828d307?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=600&h=400&fit=crop'
        ],
        spa: [
            'https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1600334089648-b0d9d3028eb2?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1515377905703-c4788e51af15?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1507652313519-d4e9174996dd?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1519823551278-64ac92734fb1?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1531299204812-e6d44d9a185c?w=600&h=400&fit=crop',
            'https://images.unsplash.com/photo-1596178060671-7a80dc8059ea?w=600&h=400&fit=crop'
        ]
    };

    // æ¯æ¥­ç¨®çš„ Rich Menu æ ¼å­åœ–ç‰‡ï¼ˆä¾å‹•ä½œåˆ†é¡ï¼Œè‡ªå‹•å¥—ç”¨åˆ° sample çš„æ¯ä¸€æ ¼ï¼‰
    const RM_CELL_IMAGES = {
        pet: {
            start_booking:   'https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=500&h=400&fit=crop',
            view_bookings:   'https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=500&h=400&fit=crop',
            start_shopping:  'https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=500&h=400&fit=crop',
            view_coupons:    'https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=500&h=400&fit=crop',
            view_my_coupons: 'https://images.unsplash.com/photo-1574158622682-e40e69881006?w=500&h=400&fit=crop',
            view_member_info:'https://images.unsplash.com/photo-1516734212186-a967f81ad0d7?w=500&h=400&fit=crop',
            contact_shop:    'https://images.unsplash.com/photo-1535930749574-1399327ce78f?w=500&h=400&fit=crop'
        },
        beauty: {
            start_booking:   'https://images.unsplash.com/photo-1604654894610-df63bc536371?w=500&h=400&fit=crop',
            view_bookings:   'https://images.unsplash.com/photo-1632345031435-8727f6897d53?w=500&h=400&fit=crop',
            start_shopping:  'https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=500&h=400&fit=crop',
            view_coupons:    'https://images.unsplash.com/photo-1519014816548-bf5fe059798b?w=500&h=400&fit=crop',
            view_my_coupons: 'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=500&h=400&fit=crop',
            view_member_info:'https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=500&h=400&fit=crop',
            contact_shop:    'https://images.unsplash.com/photo-1560750588-73207b1ef5b8?w=500&h=400&fit=crop'
        },
        hair: {
            start_booking:   'https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?w=500&h=400&fit=crop',
            view_bookings:   'https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=500&h=400&fit=crop',
            start_shopping:  'https://images.unsplash.com/photo-1562322140-8baeececf3df?w=500&h=400&fit=crop',
            view_coupons:    'https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?w=500&h=400&fit=crop',
            view_my_coupons: 'https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=500&h=400&fit=crop',
            view_member_info:'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=500&h=400&fit=crop',
            contact_shop:    'https://images.unsplash.com/photo-1522337094846-8a818192de1f?w=500&h=400&fit=crop'
        },
        clinic: {
            start_booking:   'https://images.unsplash.com/photo-1629909613654-28e377c37b09?w=500&h=400&fit=crop',
            view_bookings:   'https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=500&h=400&fit=crop',
            start_shopping:  'https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=500&h=400&fit=crop',
            view_coupons:    'https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=500&h=400&fit=crop',
            view_my_coupons: 'https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?w=500&h=400&fit=crop',
            view_member_info:'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=500&h=400&fit=crop',
            contact_shop:    'https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=500&h=400&fit=crop'
        },
        fitness: {
            start_booking:   'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=500&h=400&fit=crop',
            view_bookings:   'https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=500&h=400&fit=crop',
            start_shopping:  'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=500&h=400&fit=crop',
            view_coupons:    'https://images.unsplash.com/photo-1518611012118-696072aa579a?w=500&h=400&fit=crop',
            view_my_coupons: 'https://images.unsplash.com/photo-1549060279-7e168fcee0c2?w=500&h=400&fit=crop',
            view_member_info:'https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=500&h=400&fit=crop',
            contact_shop:    'https://images.unsplash.com/photo-1517963879433-6ad2b056d712?w=500&h=400&fit=crop'
        },
        restaurant: {
            start_booking:   'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=500&h=400&fit=crop',
            view_bookings:   'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=500&h=400&fit=crop',
            start_shopping:  'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=500&h=400&fit=crop',
            view_coupons:    'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=500&h=400&fit=crop',
            view_my_coupons: 'https://images.unsplash.com/photo-1551024506-0bccd828d307?w=500&h=400&fit=crop',
            view_member_info:'https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=500&h=400&fit=crop',
            contact_shop:    'https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=500&h=400&fit=crop'
        },
        spa: {
            start_booking:   'https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=500&h=400&fit=crop',
            view_bookings:   'https://images.unsplash.com/photo-1600334089648-b0d9d3028eb2?w=500&h=400&fit=crop',
            start_shopping:  'https://images.unsplash.com/photo-1515377905703-c4788e51af15?w=500&h=400&fit=crop',
            view_coupons:    'https://images.unsplash.com/photo-1507652313519-d4e9174996dd?w=500&h=400&fit=crop',
            view_my_coupons: 'https://images.unsplash.com/photo-1519823551278-64ac92734fb1?w=500&h=400&fit=crop',
            view_member_info:'https://images.unsplash.com/photo-1531299204812-e6d44d9a185c?w=500&h=400&fit=crop',
            contact_shop:    'https://images.unsplash.com/photo-1596178060671-7a80dc8059ea?w=500&h=400&fit=crop'
        }
    };

    // æ¯æ¥­ç¨®çš„é ç´„æ­¥é©Ÿ Hero åœ–ç‰‡ï¼ˆ6 å¼µï¼Œå°æ‡‰ service/date/staff/time/note/confirmï¼‰
    const FM_STEP_IMAGES = {
        pet: {
            service: 'https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=600&h=200&fit=crop',
            date:    'https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=600&h=200&fit=crop',
            staff:   'https://images.unsplash.com/photo-1581888227599-779811939961?w=600&h=200&fit=crop',
            time:    'https://images.unsplash.com/photo-1574158622682-e40e69881006?w=600&h=200&fit=crop',
            note:    'https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=600&h=200&fit=crop',
            confirm: 'https://images.unsplash.com/photo-1516734212186-a967f81ad0d7?w=600&h=200&fit=crop'
        },
        beauty: {
            service: 'https://images.unsplash.com/photo-1604654894610-df63bc536371?w=600&h=200&fit=crop',
            date:    'https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=600&h=200&fit=crop',
            staff:   'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=600&h=200&fit=crop',
            time:    'https://images.unsplash.com/photo-1519014816548-bf5fe059798b?w=600&h=200&fit=crop',
            note:    'https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=600&h=200&fit=crop',
            confirm: 'https://images.unsplash.com/photo-1560750588-73207b1ef5b8?w=600&h=200&fit=crop'
        },
        hair: {
            service: 'https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?w=600&h=200&fit=crop',
            date:    'https://images.unsplash.com/photo-1562322140-8baeececf3df?w=600&h=200&fit=crop',
            staff:   'https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=600&h=200&fit=crop',
            time:    'https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=600&h=200&fit=crop',
            note:    'https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?w=600&h=200&fit=crop',
            confirm: 'https://images.unsplash.com/photo-1522337094846-8a818192de1f?w=600&h=200&fit=crop'
        },
        clinic: {
            service: 'https://images.unsplash.com/photo-1629909613654-28e377c37b09?w=600&h=200&fit=crop',
            date:    'https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=600&h=200&fit=crop',
            staff:   'https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=600&h=200&fit=crop',
            time:    'https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=600&h=200&fit=crop',
            note:    'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=600&h=200&fit=crop',
            confirm: 'https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=600&h=200&fit=crop'
        },
        fitness: {
            service: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=600&h=200&fit=crop',
            date:    'https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=600&h=200&fit=crop',
            staff:   'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=600&h=200&fit=crop',
            time:    'https://images.unsplash.com/photo-1518611012118-696072aa579a?w=600&h=200&fit=crop',
            note:    'https://images.unsplash.com/photo-1549060279-7e168fcee0c2?w=600&h=200&fit=crop',
            confirm: 'https://images.unsplash.com/photo-1517963879433-6ad2b056d712?w=600&h=200&fit=crop'
        },
        restaurant: {
            service: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=600&h=200&fit=crop',
            date:    'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&h=200&fit=crop',
            staff:   'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=600&h=200&fit=crop',
            time:    'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=600&h=200&fit=crop',
            note:    'https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=600&h=200&fit=crop',
            confirm: 'https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=600&h=200&fit=crop'
        },
        spa: {
            service: 'https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=600&h=200&fit=crop',
            date:    'https://images.unsplash.com/photo-1600334089648-b0d9d3028eb2?w=600&h=200&fit=crop',
            staff:   'https://images.unsplash.com/photo-1515377905703-c4788e51af15?w=600&h=200&fit=crop',
            time:    'https://images.unsplash.com/photo-1507652313519-d4e9174996dd?w=600&h=200&fit=crop',
            note:    'https://images.unsplash.com/photo-1519823551278-64ac92734fb1?w=600&h=200&fit=crop',
            confirm: 'https://images.unsplash.com/photo-1531299204812-e6d44d9a185c?w=600&h=200&fit=crop'
        }
    };

    const ACTIONS = [
        { v:'start_booking',    l:'é–‹å§‹é ç´„',   ic:'ğŸ“…' },
        { v:'view_bookings',    l:'æŸ¥è©¢é ç´„',   ic:'ğŸ“‹' },
        { v:'start_shopping',   l:'ç€è¦½å•†å“',   ic:'ğŸ›ï¸' },
        { v:'view_coupons',     l:'é ˜å–ç¥¨åˆ¸',   ic:'ğŸ' },
        { v:'view_my_coupons',  l:'æˆ‘çš„ç¥¨åˆ¸',   ic:'ğŸ«' },
        { v:'view_member_info', l:'æœƒå“¡è³‡è¨Š',   ic:'ğŸ‘¤' },
        { v:'contact_shop',     l:'è¯çµ¡åº—å®¶',   ic:'ğŸ“' }
    ];
    const LAYOUT_ROWS = { '3+4':[3,4], '2x3':[3,3], '2x2':[2,2], '3+4+4':[3,4,4], '4+4':[4,4] };
    const LAYOUT_DEFAULTS = {
        '3+4+4': [
            {l:'é–‹å§‹é ç´„',a:'start_booking'},{l:'æŸ¥è©¢é ç´„',a:'view_bookings'},{l:'ç€è¦½å•†å“',a:'start_shopping'},
            {l:'é ˜å–ç¥¨åˆ¸',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æœƒå“¡è³‡è¨Š',a:'view_member_info'},{l:'è¯çµ¡åº—å®¶',a:'contact_shop'},
            {l:'é–‹å§‹é ç´„',a:'start_booking'},{l:'æŸ¥è©¢é ç´„',a:'view_bookings'},{l:'ç€è¦½å•†å“',a:'start_shopping'},{l:'é ˜å–ç¥¨åˆ¸',a:'view_coupons'}
        ],
        '3+4': [
            {l:'é–‹å§‹é ç´„',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç€è¦½å•†å“',a:'start_shopping'},
            {l:'é ˜å–ç¥¨åˆ¸',a:'view_coupons'},{l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æœƒå“¡è³‡è¨Š',a:'view_member_info'},{l:'è¯çµ¡åº—å®¶',a:'contact_shop'}
        ],
        '2x3': [
            {l:'é–‹å§‹é ç´„',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},{l:'ç€è¦½å•†å“',a:'start_shopping'},
            {l:'é ˜å–ç¥¨åˆ¸',a:'view_coupons'},{l:'æœƒå“¡è³‡è¨Š',a:'view_member_info'},{l:'è¯çµ¡åº—å®¶',a:'contact_shop'}
        ],
        '2x2': [
            {l:'é–‹å§‹é ç´„',a:'start_booking'},{l:'æˆ‘çš„é ç´„',a:'view_bookings'},
            {l:'æœƒå“¡è³‡è¨Š',a:'view_member_info'},{l:'è¯çµ¡åº—å®¶',a:'contact_shop'}
        ],
        '4+4': [
            {l:'é–‹å§‹é ç´„',a:'start_booking'},{l:'æŸ¥è©¢é ç´„',a:'view_bookings'},{l:'ç€è¦½å•†å“',a:'start_shopping'},{l:'é ˜å–ç¥¨åˆ¸',a:'view_coupons'},
            {l:'æˆ‘çš„ç¥¨åˆ¸',a:'view_my_coupons'},{l:'æœƒå“¡è³‡è¨Š',a:'view_member_info'},{l:'è¯çµ¡åº—å®¶',a:'contact_shop'},{l:'é–‹å§‹é ç´„',a:'start_booking'}
        ]
    };

    // ================================================================
    // Flex ä¸»é¸å–®ç‹€æ…‹ï¼ˆè¼ªæ’­å¡ç‰‡æ¨¡å¼ï¼‰
    // ================================================================
    const FM_ACTIONS = [
        ...ACTIONS.filter(a=>a.v!=='flex_popup'),
        { v:'open_url', l:'æ‰“é–‹ç¶²å€ï¼ˆå»£å‘Šï¼‰', ic:'ğŸ”—' }
    ];
    const FM_CARD_DEFAULTS = [
        { action:'start_booking',   color:'#1DB446', icon:'ğŸ“…', title:'é–‹å§‹é ç´„',  subtitle:'å¿«é€Ÿé ç´„æœå‹™',     buttonLabel:'ç«‹å³é ç´„', imageUrl:'https://images.unsplash.com/photo-1560264280-88b68371db39?w=600&h=400&fit=crop', imageHeight:50 },
        { action:'view_bookings',   color:'#0066CC', icon:'ğŸ“‹', title:'æˆ‘çš„é ç´„',  subtitle:'æŸ¥çœ‹æˆ–å–æ¶ˆé ç´„',    buttonLabel:'æŸ¥çœ‹é ç´„', imageUrl:'https://images.unsplash.com/photo-1506784983877-45594efa4cbe?w=600&h=400&fit=crop', imageHeight:50 },
        { action:'start_shopping',  color:'#FF9800', icon:'ğŸ›ï¸', title:'ç€è¦½å•†å“',  subtitle:'è³¼è²·å„ªæƒ å•†å“',     buttonLabel:'å»é€›é€›',   imageUrl:'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=600&h=400&fit=crop', imageHeight:50 },
        { action:'view_coupons',    color:'#E91E63', icon:'ğŸ', title:'é ˜å–ç¥¨åˆ¸',  subtitle:'è¶…å€¼å„ªæƒ ç­‰ä½ æ‹¿',    buttonLabel:'é ˜å–',     imageUrl:'https://images.unsplash.com/photo-1607082349566-187342175e2f?w=600&h=400&fit=crop', imageHeight:50 },
        { action:'view_my_coupons', color:'#9C27B0', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸',  subtitle:'æŸ¥çœ‹å·²é ˜å–çš„ç¥¨åˆ¸',   buttonLabel:'æŸ¥çœ‹',     imageUrl:'https://images.unsplash.com/photo-1556742205-e10c9486e506?w=600&h=400&fit=crop', imageHeight:40 },
        { action:'view_member_info',color:'#673AB7', icon:'ğŸ‘¤', title:'æœƒå“¡è³‡è¨Š',  subtitle:'æŸ¥çœ‹é»æ•¸èˆ‡ç­‰ç´š',    buttonLabel:'æœƒå“¡ä¸­å¿ƒ', imageUrl:'https://images.unsplash.com/photo-1556745753-b2904692b3cd?w=600&h=400&fit=crop', imageHeight:40 },
        { action:'contact_shop',    color:'#5C6BC0', icon:'ğŸ“', title:'è¯çµ¡åº—å®¶',  subtitle:'åœ°å€ã€é›»è©±ã€ç‡Ÿæ¥­æ™‚é–“',buttonLabel:'è¯çµ¡æˆ‘å€‘', imageUrl:'https://images.unsplash.com/photo-1423666639041-f56000c27a9a?w=600&h=400&fit=crop', imageHeight:40 }
    ];
    const FM_STEPS = [
        { key:'service', label:'é¸æ“‡æœå‹™', color:'#4A90D9', icon:'âœ‚ï¸', title:'é¸æ“‡æœå‹™',       subtitle:'ç€è¦½æ‰€æœ‰æœå‹™é …ç›®', imageUrl:'' },
        { key:'date',    label:'é¸æ“‡æ—¥æœŸ', color:'#1DB446', icon:'ğŸ“…', title:'é¸æ“‡æ—¥æœŸ',       subtitle:'é¸æ“‡æ‚¨æ–¹ä¾¿çš„æ—¥æœŸ', imageUrl:'' },
        { key:'staff',   label:'é¸æ“‡å“¡å·¥', color:'#4A90D9', icon:'ğŸ‘¤', title:'é¸æ“‡æœå‹™äººå“¡',   subtitle:'æŒ‡å®šæ‚¨å–œæ­¡çš„äººå“¡', imageUrl:'' },
        { key:'time',    label:'é¸æ“‡æ™‚æ®µ', color:'#4A90D9', icon:'â°', title:'é¸æ“‡æ™‚æ®µ',       subtitle:'æŸ¥çœ‹å¯é ç´„çš„æ™‚æ®µ', imageUrl:'' },
        { key:'note',    label:'å‚™è¨»',     color:'#5C6BC0', icon:'ğŸ“', title:'æ˜¯å¦éœ€è¦å‚™è¨»ï¼Ÿ', subtitle:'è¼¸å…¥å‚™è¨»æˆ–è·³é',   imageUrl:'' },
        { key:'confirm', label:'ç¢ºèªé ç´„', color:'#1DB446', icon:'âœ…', title:'è«‹ç¢ºèªé ç´„è³‡è¨Š', subtitle:'ç¢ºèªå¾Œå³å®Œæˆé ç´„', imageUrl:'' }
    ];
    let fmCards = JSON.parse(JSON.stringify(FM_CARD_DEFAULTS));
    let fmSteps = {};

    // åŠŸèƒ½é é¢æ¨£å¼é è¨­å€¼
    const FM_FUNCTIONS = [
        { key:'bookingList',  label:'æˆ‘çš„é ç´„',  color:'#0066CC', icon:'ğŸ“‹', title:'æˆ‘çš„é ç´„',  subtitle:'' },
        { key:'productMenu',  label:'ç€è¦½å•†å“',  color:'#FF9800', icon:'ğŸ›ï¸', title:'ç€è¦½å•†å“',  subtitle:'' },
        { key:'couponList',   label:'é ˜å–ç¥¨åˆ¸',  color:'#E91E63', icon:'ğŸ', title:'é ˜å–ç¥¨åˆ¸',  subtitle:'' },
        { key:'myCoupons',    label:'æˆ‘çš„ç¥¨åˆ¸',  color:'#9C27B0', icon:'ğŸ«', title:'æˆ‘çš„ç¥¨åˆ¸',  subtitle:'' },
        { key:'memberInfo',   label:'æœƒå“¡è³‡è¨Š',  color:'#673AB7', icon:'ğŸ‘¤', title:'æœƒå“¡è³‡è¨Š',  subtitle:'' },
        { key:'contactShop',  label:'è¯çµ¡åº—å®¶',  color:'#5C6BC0', icon:'ğŸ“', title:'è¯çµ¡åº—å®¶',  subtitle:'' },
        { key:'bookingFlow',  label:'é ç´„æµç¨‹',  color:'#1DB446', icon:'ğŸ“…', title:'é ç´„æµç¨‹',  subtitle:'' }
    ];
    let fmFunctions = {};

    // ================================================================
    // åˆå§‹åŒ–
    // ================================================================
    document.addEventListener('DOMContentLoaded', () => {
        initSamples();
        initRM();
        initFM();
    });

    // ================================================================
    // Rich Menu
    // ================================================================
    // ================================================================
    // ç¯„æœ¬åº«
    // ================================================================
    function initSamples() {
        const tabs = document.getElementById('sampleCatTabs');
        SAMPLE_CATEGORIES.forEach((cat, i) => {
            const btn = document.createElement('button');
            btn.className = 'sample-cat-btn' + (i===0?' active':'');
            btn.textContent = cat.label;
            btn.dataset.cat = cat.key;
            btn.addEventListener('click', () => {
                tabs.querySelectorAll('.sample-cat-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                renderSampleCards(cat.key);
            });
            tabs.appendChild(btn);
        });
        renderSampleCards(SAMPLE_CATEGORIES[0].key);
    }

    function renderSampleCards(catKey) {
        const list = document.getElementById('sampleCardList');
        list.innerHTML = '';
        const samples = SAMPLES[catKey] || [];
        samples.forEach((s, i) => {
            const themeLabel = { BOUTIQUE:'ç²¾å“é¢¨', GREEN:'LINEç¶ ', BLUE:'æµ·æ´‹è—', PURPLE:'çš‡å®¶ç´«', ORANGE:'æ—¥è½æ©˜', DARK:'æš—é»‘' }[s.theme] || s.theme;
            const layoutRows = LAYOUT_ROWS[s.layout] || [3,4];
            const cellCount = layoutRows.reduce((a,b)=>a+b, 0);
            const col = document.createElement('div');
            col.className = 'col-md-4';
            col.innerHTML = `
                <div class="sample-card" data-cat="${catKey}" data-idx="${i}">
                    <div class="sample-card-img" style="background-image:url('${s.img}')">
                        <span class="sample-card-badge badge bg-dark bg-opacity-75">${themeLabel}</span>
                        <span class="sample-card-layout">${s.layout}ï¼ˆ${cellCount}æ ¼ï¼‰</span>
                    </div>
                    <div class="sample-card-body">
                        <div class="sample-card-title">${esc(s.name)}</div>
                        <div class="sample-card-desc">${esc(s.desc)}</div>
                    </div>
                    <div class="sample-card-apply">
                        <button class="btn btn-sm btn-outline-primary" onclick="applySample('${catKey}',${i})">
                            <i class="bi bi-check2-circle me-1"></i>å¥—ç”¨æ­¤ç¯„æœ¬
                        </button>
                    </div>
                </div>
            `;
            list.appendChild(col);
        });
    }

    function applySample(catKey, idx) {
        const s = SAMPLES[catKey]?.[idx];
        if (!s) return;
        rmConfigLoaded = true; // é˜²æ­¢ API è¦†è“‹
        // å¥—ç”¨ä¸»é¡Œ
        rmTheme = s.theme;
        selectEl('#themeSelector .rm-theme', rmTheme);
        // å¥—ç”¨ä½ˆå±€
        rmLayout = s.layout;
        selectEl('#layoutSelector .rm-layout', rmLayout);
        // å¥—ç”¨æ ¼å­ï¼ˆè‡ªå‹•å¸¶å…¥æ¥­ç¨®ä¸»é¡Œåœ–ç‰‡ + å•Ÿç”¨å»èƒŒï¼‰
        const cellImages = RM_CELL_IMAGES[catKey] || {};
        rmCells = s.cells.map((c, i) => ({
            index:i, label:c.l, action:c.a, icon:getIcon(c.a),
            imageUrl: c.img || cellImages[c.a] || '',
            removeBackground: true,
            iconCircle: false,
            iconShape: 'circle',
            iconScale: 'medium'
        }));
        // å¥—ç”¨ Flex å½ˆçª—
        fpConfigs = {};
        if (s.flexPopups) Object.entries(s.flexPopups).forEach(([k,v]) => { fpConfigs[parseInt(k)] = JSON.parse(JSON.stringify(v)); });
        // è¨­å®šèƒŒæ™¯åœ– URLï¼ˆå¾ç¯„æœ¬ç¸®åœ– URL æ¨ç®—é«˜è§£æç‰ˆæœ¬ï¼‰
        cellIconFiles = {};
        rmBgFile = null;
        document.getElementById('rmBgImage').value = '';
        if (s.img && s.img.includes('unsplash.com')) {
            const isFullSize = (LAYOUT_ROWS[s.layout] || [3,4]).length >= 3;
            const h = isFullSize ? 1686 : 843;
            rmBgUrl = s.img.replace(/\?.*/, `?w=2500&h=${h}&fit=crop&q=85`);
            // åœ¨èƒŒæ™¯é è¦½é¡¯ç¤º
            document.getElementById('rmBgPreviewImg').src = s.img;
            document.getElementById('rmBgPreviewWrap').classList.remove('d-none');
        } else {
            rmBgUrl = '';
            document.getElementById('rmBgPreviewWrap').classList.add('d-none');
        }
        // åˆ·æ–° UI
        renderCellTable();
        updateRmPreview();
        // å¥—ç”¨ Flex Menu å¡ç‰‡ï¼ˆé…è‰² + ä¸»é¡Œåœ–ç‰‡ï¼‰
        if (s.fmConfig) {
            const baseColor = s.fmConfig.headerColor || '#1DB446';
            const catImages = FM_CARD_IMAGES[catKey];
            fmCards.forEach((c, i) => {
                c.color = baseColor;
                if (catImages && catImages[i]) c.imageUrl = catImages[i];
            });
            renderFmCardEditors();
            updateFmCarouselPreview();
        }
        // å¥—ç”¨åŠŸèƒ½é é¢æ¨£å¼ï¼ˆè‡ªå‹•å¸¶å…¥æ¥­ç¨®åœ–ç‰‡ï¼‰
        if (s.fmFunctions) { fmFunctions = JSON.parse(JSON.stringify(s.fmFunctions)); }
        else { fmFunctions = {}; }
        const funcImgMap = { bookingList:'view_bookings', productMenu:'start_shopping', couponList:'view_coupons', myCoupons:'view_my_coupons', memberInfo:'view_member_info', contactShop:'contact_shop', bookingFlow:'start_booking' };
        const cellImgs = RM_CELL_IMAGES[catKey] || {};
        Object.entries(funcImgMap).forEach(([funcKey, actionKey]) => {
            if (cellImgs[actionKey]) {
                if (!fmFunctions[funcKey]) fmFunctions[funcKey] = {};
                if (!fmFunctions[funcKey].imageUrl) fmFunctions[funcKey].imageUrl = cellImgs[actionKey];
            }
        });
        renderFmFunctions();
        // å¥—ç”¨é ç´„æ­¥é©Ÿæ¨£å¼ï¼ˆè‡ªå‹•å¸¶å…¥æ¥­ç¨®åœ–ç‰‡ï¼‰
        if (s.fmSteps) { fmSteps = JSON.parse(JSON.stringify(s.fmSteps)); }
        else { fmSteps = {}; }
        const stepImages = FM_STEP_IMAGES[catKey] || {};
        Object.keys(stepImages).forEach(stepKey => {
            if (!fmSteps[stepKey]) fmSteps[stepKey] = {};
            if (!fmSteps[stepKey].imageUrl) fmSteps[stepKey].imageUrl = stepImages[stepKey];
        });
        renderFmSteps();
        // è‡ªå‹•å„²å­˜ Flex ä¸»é¸å–®ï¼ˆè®“ LINE Bot ç«‹å³ç”Ÿæ•ˆï¼‰
        saveFlexMenu(true).then(() => {
            showSuccess(`å·²å¥—ç”¨ä¸¦å„²å­˜ã€Œ${s.name}ã€ç¯„æœ¬ï¼LINE Bot ä¸»é¸å–®èˆ‡é ç´„æ­¥é©Ÿçš†å·²æ›´æ–°`);
        });
        // æ»¾å‹•åˆ°é è¦½å€
        document.getElementById('rmPreview').scrollIntoView({ behavior:'smooth', block:'center' });
    }

    function initRM() {
        // ä¸»é¡Œé»æ“Š
        document.querySelectorAll('#themeSelector .rm-theme').forEach(el => {
            el.addEventListener('click', () => {
                rmTheme = el.dataset.theme;
                document.querySelectorAll('#themeSelector .rm-theme').forEach(e => e.classList.remove('selected'));
                el.classList.add('selected');
                updateRmPreview();
            });
        });
        // ä½ˆå±€é»æ“Š
        document.querySelectorAll('#layoutSelector .rm-layout').forEach(el => {
            el.addEventListener('click', () => {
                rmLayout = el.dataset.layout;
                document.querySelectorAll('#layoutSelector .rm-layout').forEach(e => e.classList.remove('selected'));
                el.classList.add('selected');
                applyLayout(rmLayout);
            });
        });
        loadRmConfig();
    }

    async function loadRmConfig() {
        try {
            const r = await api.get('/api/settings/line/rich-menu');
            if (r.success && r.data) {
                if (r.data.theme) { rmTheme = r.data.theme; selectEl('#themeSelector .rm-theme', rmTheme); }
                document.getElementById('rmCurrentInfo').textContent = r.data.richMenuId ? `ç·šä¸Šç‰ˆæœ¬ï¼š${r.data.theme||'é è¨­'}` : 'å°šæœªå»ºç«‹';
            }
            const c = await api.get('/api/settings/line/rich-menu/advanced-config');
            if (c.success && c.data?.config) {
                const cfg = typeof c.data.config === 'string' ? JSON.parse(c.data.config) : c.data.config;
                if (cfg.layout) { rmLayout = cfg.layout; selectEl('#layoutSelector .rm-layout', rmLayout); }
                if (cfg.cells) cfg.cells.forEach(cell => {
                    if (cell.flexPopup) fpConfigs[cell.index] = cell.flexPopup;
                    if (cell.iconShape && rmCells[cell.index]) rmCells[cell.index].iconShape = cell.iconShape;
                    if (cell.iconScale && rmCells[cell.index]) rmCells[cell.index].iconScale = cell.iconScale;
                    if (rmCells[cell.index]) rmCells[cell.index].iconCircle = !!cell.iconCircle;
                });
            }
        } catch(e) { console.debug('è¼‰å…¥ RM é…ç½®å¤±æ•—', e); }
        if (!rmConfigLoaded) { applyLayout(rmLayout); }
        rmConfigLoaded = true;
    }

    function selectEl(selector, val) {
        document.querySelectorAll(selector).forEach(e => e.classList.remove('selected'));
        const el = document.querySelector(`${selector}[data-${selector.includes('theme')?'theme':'layout'}="${val}"]`);
        if (el) el.classList.add('selected');
    }

    function applyLayout(layout) {
        const defs = LAYOUT_DEFAULTS[layout] || LAYOUT_DEFAULTS['3+4'];
        rmCells = defs.map((d, i) => ({
            index: i,
            label: rmCells[i]?.label || d.l,
            action: rmCells[i]?.action || d.a,
            icon: getIcon(rmCells[i]?.action || d.a),
            iconShape: rmCells[i]?.iconShape,
            iconScale: rmCells[i]?.iconScale,
            iconCircle: rmCells[i]?.iconCircle || false
        }));
        rmCells.length = defs.length;
        renderCellTable();
        updateRmPreview();
    }

    function getIcon(action) { return (ACTIONS.find(a => a.v === action) || {}).ic || 'ğŸ“Œ'; }

    function renderCellTable() {
        const tbody = document.getElementById('cellTableBody');
        tbody.innerHTML = '';
        rmCells.forEach((cell, i) => {
            const tr = document.createElement('tr');
            tr.dataset.i = i;
            const hasIcon = !!cellIconFiles[i];
            const hasImg = !!cell.imageUrl;
            const curShape = cell.iconShape || 'circle';
            const curScale = cell.iconScale || 'small';
            tr.innerHTML = `
                <td><span class="cell-badge">${i}</span></td>
                <td><input type="text" class="form-control" value="${esc(cell.label)}" data-f="label"></td>
                <td><select class="form-select" data-f="action">
                    ${ACTIONS.map(a => `<option value="${a.v}" ${a.v===cell.action?'selected':''}>${a.ic} ${a.l}</option>`).join('')}
                </select></td>
                <td style="min-width:180px">
                    ${hasImg?`<img src="${cell.imageUrl}" style="width:32px;height:24px;object-fit:cover;border-radius:3px;vertical-align:middle" title="ç¯„æœ¬åœ–ç‰‡"><button class="btn btn-sm btn-outline-danger py-0 px-1 ms-1" data-f="clearImg" title="ç§»é™¤ç¯„æœ¬åœ–ç‰‡"><i class="bi bi-x"></i></button>`:''}
                    <label class="btn btn-sm ${hasIcon?'btn-success':(hasImg?'btn-info':'btn-outline-secondary')} py-0 px-1" title="${hasIcon?'å·²ä¸Šå‚³åœ–ç¤ºï¼ˆé»å³æ–¹ âœ• å¯ç§»é™¤ï¼‰\næ”¯æ´é€æ˜ PNGï¼':'ä¸Šå‚³æ ¼å­åœ–ç¤ºï¼ˆæ”¯æ´é€æ˜ PNGï¼‰'}">
                        <i class="bi ${hasIcon?'bi-check-lg':'bi-upload'}"></i>
                        <input type="file" class="d-none" accept="image/png,image/jpeg" data-f="icon" data-ci="${i}">
                    </label>
                    ${hasIcon?`<button class="btn btn-sm btn-outline-danger py-0 px-1 ms-1" data-f="clearIcon" title="ç§»é™¤å·²ä¸Šå‚³åœ–ç¤º"><i class="bi bi-x"></i></button>`:''}
                    ${hasIcon?`<select class="form-select form-select-sm d-inline-block mt-1" style="width:auto;font-size:.75rem" data-f="iconShape">
                        <option value="circle" ${curShape==='circle'?'selected':''}>â­• åœ“å½¢</option>
                        <option value="original" ${curShape==='original'?'selected':''}>ğŸ–¼ï¸ åŸå§‹</option>
                    </select>
                    <select class="form-select form-select-sm d-inline-block mt-1" style="width:auto;font-size:.75rem" data-f="iconScale">
                        <option value="small" ${curScale==='small'?'selected':''}>å°</option>
                        <option value="medium" ${curScale==='medium'?'selected':''}>ä¸­</option>
                        <option value="large" ${curScale==='large'?'selected':''}>å¤§</option>
                    </select>
                    <label class="form-check form-switch d-inline-flex align-items-center gap-1 mt-1 mb-0 ms-1" style="font-size:.75rem">
                        <input type="checkbox" class="form-check-input" data-f="removeBg" ${cell.removeBackground?'checked':''}>å»èƒŒ
                    </label>`:''}
                    ${(hasImg||hasIcon)?`<label class="form-check form-switch d-inline-flex align-items-center gap-1 mt-1 mb-0 ms-1" style="font-size:.75rem">
                        <input type="checkbox" class="form-check-input" data-f="iconCircle" ${cell.iconCircle?'checked':''}>ç™½åœ“åº•
                    </label>`:''}
                </td>
                <td>${cell.action==='flex_popup'?`<button class="btn btn-sm btn-outline-primary py-0 px-1" onclick="openFpEditor(${i})" title="ç·¨è¼¯å½ˆçª—"><i class="bi bi-pencil-square"></i></button>`:''}</td>
            `;
            tr.querySelector('[data-f="label"]').addEventListener('input', e => { rmCells[i].label = e.target.value; updateRmPreview(); });
            tr.querySelector('[data-f="action"]').addEventListener('change', e => {
                rmCells[i].action = e.target.value;
                rmCells[i].icon = getIcon(e.target.value);
                renderCellTable(); updateRmPreview();
            });
            tr.querySelector('[data-f="icon"]').addEventListener('change', e => {
                if (e.target.files[0]) {
                    cellIconFiles[i] = e.target.files[0];
                    renderCellTable(); updateRmPreview();
                }
            });
            // ç§»é™¤ç¯„æœ¬åœ–ç‰‡
            const clearImgBtn = tr.querySelector('[data-f="clearImg"]');
            if (clearImgBtn) clearImgBtn.addEventListener('click', () => { rmCells[i].imageUrl = ''; renderCellTable(); updateRmPreview(); });
            // ç§»é™¤å·²ä¸Šå‚³åœ–ç¤º
            const clearIconBtn = tr.querySelector('[data-f="clearIcon"]');
            if (clearIconBtn) clearIconBtn.addEventListener('click', () => { delete cellIconFiles[i]; renderCellTable(); updateRmPreview(); });
            // åœ–ç¤ºå½¢ç‹€èˆ‡å¤§å°
            const shapeSelect = tr.querySelector('[data-f="iconShape"]');
            if (shapeSelect) shapeSelect.addEventListener('change', e => { rmCells[i].iconShape = e.target.value; updateRmPreview(); });
            const scaleSelect = tr.querySelector('[data-f="iconScale"]');
            if (scaleSelect) scaleSelect.addEventListener('change', e => { rmCells[i].iconScale = e.target.value; updateRmPreview(); });
            const removeBgCheck = tr.querySelector('[data-f="removeBg"]');
            if (removeBgCheck) removeBgCheck.addEventListener('change', e => { rmCells[i].removeBackground = e.target.checked; });
            const iconCircleCheck = tr.querySelector('[data-f="iconCircle"]');
            if (iconCircleCheck) iconCircleCheck.addEventListener('change', e => { rmCells[i].iconCircle = e.target.checked; updateRmPreview(); });
            tbody.appendChild(tr);
        });
    }

    function updateRmPreview() {
        const c = document.getElementById('rmPreview');
        c.innerHTML = '';
        c.className = `rm-preview t-${rmTheme}`;
        // èƒŒæ™¯åœ–
        if (rmBgUrl) {
            c.style.backgroundImage = `url('${rmBgUrl.replace(/w=\d+/, 'w=600').replace(/h=\d+/, 'h=400')}')`;
            c.style.backgroundSize = 'cover';
            c.style.backgroundPosition = 'center';
        } else if (rmBgFile) {
            // æœ¬åœ°æª”æ¡ˆå·²åœ¨ rmBgImage change äº‹ä»¶ä¸­è™•ç†
        } else {
            c.style.backgroundImage = '';
        }
        const rows = LAYOUT_ROWS[rmLayout] || [3,4];
        let ci = 0;
        rows.forEach(cols => {
            const row = document.createElement('div');
            row.className = 'rm-prev-row';
            row.style.gridTemplateColumns = `repeat(${cols},1fr)`;
            for (let j = 0; j < cols; j++) {
                const cell = rmCells[ci] || { label:'â€”', icon:'â“' };
                const d = document.createElement('div');
                d.className = 'rm-prev-cell';
                d.dataset.c = ci;
                // æœ‰æ ¼å­èƒŒæ™¯åœ–æ™‚ä½¿ç”¨æ ¼å­åœ–ç‰‡ï¼Œå¦å‰‡æ•´é«”èƒŒæ™¯é®ç½©
                if (cell.imageUrl) {
                    d.style.backgroundImage = `url('${cell.imageUrl}')`;
                    d.style.backgroundSize = 'cover';
                    d.style.backgroundPosition = 'center';
                    const cellIcon = cell.icon || getIcon(cell.action);
                    const useFilledCircle = !!cell.iconCircle;
                    const circleStyle = useFilledCircle
                        ? 'background:rgba(255,255,255,.85);color:#333;box-shadow:0 2px 8px rgba(0,0,0,.3);'
                        : 'background:transparent;border:2px solid rgba(255,255,255,.6);color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.5);';
                    d.innerHTML = `<span class="cn">${ci}</span><span class="ci" style="border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;font-size:18px;margin-bottom:2px;${circleStyle}">${cellIcon}</span><span class="cl" style="text-shadow:0 1px 4px rgba(0,0,0,.8);background:rgba(0,0,0,.45);padding:1px 6px;border-radius:4px;color:#fff">${esc(cell.label)}</span>`;
                } else if (cellIconFiles[ci]) {
                    // æœ‰å·²ä¸Šå‚³åœ–ç¤ºï¼šé¡¯ç¤ºåœ–ç‰‡é è¦½
                    if (rmBgUrl || rmBgFile) d.style.background = 'rgba(0,0,0,.15)';
                    const isOriginal = (cell.iconShape === 'original');
                    const scaleClass = cell.iconScale === 'large' ? '70%' : (cell.iconScale === 'medium' ? '50%' : '33%');
                    d.innerHTML = `<span class="cn">${ci}</span><img class="ci-img" data-ci="${ci}" style="max-width:${scaleClass};max-height:${scaleClass};object-fit:contain;${isOriginal?'':'border-radius:50%;'}" alt="icon"><span class="cl">${esc(cell.label)}</span>`;
                    // è®€å–æœ¬åœ°åœ–ç‰‡ä¸¦é¡¯ç¤º
                    const reader = new FileReader();
                    const imgEl = d.querySelector(`img[data-ci="${ci}"]`);
                    reader.onload = ev => { if (imgEl) imgEl.src = ev.target.result; };
                    reader.readAsDataURL(cellIconFiles[ci]);
                } else {
                    if (rmBgUrl || rmBgFile) d.style.background = 'rgba(0,0,0,.25)';
                    d.innerHTML = `<span class="cn">${ci}</span><span class="ci">${cell.icon||getIcon(cell.action)}</span><span class="cl">${esc(cell.label)}</span>`;
                }
                const idx = ci;
                d.addEventListener('click', () => {
                    document.querySelectorAll('.rm-prev-cell').forEach(e => e.classList.remove('active'));
                    d.classList.add('active');
                    const row = document.querySelector(`#cellTableBody tr[data-i="${idx}"]`);
                    if (row) { row.style.background='#fff3cd'; row.scrollIntoView({behavior:'smooth',block:'nearest'}); setTimeout(()=>row.style.background='',1200); }
                });
                row.appendChild(d);
                ci++;
            }
            c.appendChild(row);
        });
        c.style.minHeight = rows.length >= 3 ? '170px' : '110px';
        // æ›´æ–°è³‡è¨Š
        const totalCells = rows.reduce((a,b)=>a+b,0);
        const sizeLabel = rows.length >= 3 ? 'å¤§å°ºå¯¸' : 'æ¨™æº–';
        document.getElementById('rmCurrentInfo').textContent = `${rmTheme} / ${rmLayout}ï¼ˆ${totalCells}æ ¼ï¼‰/ ${sizeLabel}${rmBgUrl?' / å«èƒŒæ™¯åœ–':''}`;
    }

    // â”€â”€ èƒŒæ™¯åœ– â”€â”€
    document.getElementById('rmBgImage').addEventListener('change', function(e) {
        if (e.target.files[0]) {
            rmBgFile = e.target.files[0];
            rmBgUrl = ''; // æœ¬åœ°æª”æ¡ˆå„ªå…ˆ
            const reader = new FileReader();
            reader.onload = ev => {
                document.getElementById('rmBgPreviewImg').src = ev.target.result;
                document.getElementById('rmBgPreviewWrap').classList.remove('d-none');
                updateRmPreview();
            };
            reader.readAsDataURL(rmBgFile);
        }
    });
    function clearBgImage() {
        rmBgFile = null;
        rmBgUrl = '';
        document.getElementById('rmBgImage').value = '';
        document.getElementById('rmBgPreviewWrap').classList.add('d-none');
        updateRmPreview();
    }

    // â”€â”€ ç™¼å¸ƒ RM â”€â”€
    async function publishRichMenu() {
        const btn = document.getElementById('btnPublish');
        btn.disabled = true; btn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>ç™¼å¸ƒä¸­...';
        try {
            // æœ‰èƒŒæ™¯åœ–(æª”æ¡ˆ/URL)ã€æœ‰è‡ªè¨‚åœ–ç¤ºã€ç²¾å“é¢¨ã€æˆ– 3 è¡Œä»¥ä¸Š â†’ èµ°é€²éš API
            const useAdvanced = rmBgFile || rmBgUrl || Object.keys(cellIconFiles).length > 0 || rmTheme === 'BOUTIQUE' || LAYOUT_ROWS[rmLayout].length >= 3;
            if (useAdvanced) {
                const config = buildRmConfig();
                const fd = new FormData();
                fd.append('config', JSON.stringify(config));
                if (rmBgFile) {
                    fd.append('backgroundImage', rmBgFile);
                } else if (rmBgUrl) {
                    fd.append('backgroundImageUrl', rmBgUrl);
                }
                Object.entries(cellIconFiles).forEach(([idx, file]) => {
                    fd.append('cellIcon_' + idx, file);
                });
                const r = await fetch('/api/settings/line/rich-menu/create-advanced', { method:'POST', headers:{'Authorization':'Bearer '+getToken()}, body:fd });
                const d = await r.json().catch(()=>({success:false,message:'ä¼ºæœå™¨å›æ‡‰ '+r.status}));
                if (d.success) { showSuccess('Rich Menu å·²ç™¼å¸ƒåˆ° LINEï¼é¡§å®¢é–‹å•ŸèŠå¤©å³å¯çœ‹åˆ°'); }
                else { if (r.status >= 500) showError('ä¼ºæœå™¨æš«æ™‚ç¹å¿™ï¼Œè«‹ç¨å¾Œå†è©¦ï¼ˆ' + r.status + 'ï¼‰'); else showError(d.message || 'ç™¼å¸ƒå¤±æ•—'); }
            } else {
                const r = await api.post('/api/settings/line/rich-menu/create', { theme: rmTheme });
                if (r.success) { showSuccess('Rich Menu å·²ç™¼å¸ƒåˆ° LINEï¼é¡§å®¢é–‹å•ŸèŠå¤©å³å¯çœ‹åˆ°'); }
                else showError(r.message || 'ç™¼å¸ƒå¤±æ•—');
            }
        } catch(e) { showError('ç™¼å¸ƒå¤±æ•—ï¼š'+(e.message||'ç¶²è·¯éŒ¯èª¤ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·š')); }
        finally { btn.disabled = false; btn.innerHTML = '<i class="bi bi-send me-2"></i>ç™¼å¸ƒåˆ° LINE'; }
    }

    async function previewRichMenu() {
        const btn = document.getElementById('btnPreview');
        btn.disabled = true; btn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>ç”¢ç”Ÿä¸­...';
        const maxRetry = 2;
        for (let attempt = 1; attempt <= maxRetry; attempt++) {
            try {
                const config = buildRmConfig();
                const fd = new FormData();
                fd.append('config', JSON.stringify(config));
                if (rmBgFile) {
                    fd.append('backgroundImage', rmBgFile);
                } else if (rmBgUrl) {
                    fd.append('backgroundImageUrl', rmBgUrl);
                }
                Object.entries(cellIconFiles).forEach(([idx, file]) => {
                    fd.append('cellIcon_' + idx, file);
                });
                const r = await fetch('/api/settings/line/rich-menu/preview-advanced', { method:'POST', headers:{'Authorization':'Bearer '+getToken()}, body:fd });
                if (r.ok) {
                    const blob = await r.blob();
                    const url = URL.createObjectURL(blob);
                    document.getElementById('previewResultImg').src = url;
                    document.getElementById('previewResultCard').classList.remove('d-none');
                    document.getElementById('previewResultCard').scrollIntoView({ behavior:'smooth', block:'nearest' });
                    showSuccess('é è¦½åœ–å·²ç”¢ç”Ÿï¼é€™å°±æ˜¯ç™¼å¸ƒå¾Œé¡§å®¢çœ‹åˆ°çš„æ¨£å­');
                    break;
                } else {
                    const d = await r.json().catch(()=>({message:'ä¼ºæœå™¨å›æ‡‰ '+r.status}));
                    if (attempt < maxRetry) { await new Promise(ok=>setTimeout(ok,2000)); continue; }
                    showError(d?.message || 'é è¦½å¤±æ•—ï¼ˆHTTP '+r.status+'ï¼‰');
                }
            } catch(e) {
                if (attempt < maxRetry) { await new Promise(ok=>setTimeout(ok,2000)); continue; }
                showError('é è¦½å¤±æ•—ï¼š'+(e.message||'ç¶²è·¯éŒ¯èª¤'));
            }
        }
        btn.disabled = false; btn.innerHTML = '<i class="bi bi-eye me-1"></i>ç²¾ç¢ºé è¦½';
    }

    function buildRmConfig() {
        return {
            mode: rmTheme === 'BOUTIQUE' ? 'BOUTIQUE' : 'ADVANCED',
            theme: rmTheme,
            layout: rmLayout,
            size: LAYOUT_ROWS[rmLayout].length >= 3 ? 'FULL' : 'HALF',
            cells: rmCells.map((c, i) => {
                const o = { index:i, label:c.label, action: c.action==='flex_popup'?`flex_popup&cellKey=${i}`:c.action };
                if (c.action==='flex_popup' && fpConfigs[i]) o.flexPopup = fpConfigs[i];
                if (c.imageUrl) o.imageUrl = c.imageUrl;
                if (c.iconShape && c.iconShape !== 'circle') o.iconShape = c.iconShape;
                if (c.iconScale && c.iconScale !== 'small') o.iconScale = c.iconScale;
                if (c.removeBackground) o.removeBackground = true;
                if (c.iconCircle) o.iconCircle = true;
                return o;
            })
        };
    }

    async function saveDraft() {
        try {
            const r = await api.put('/api/settings/line/rich-menu/advanced-config', { config: buildRmConfig() });
            if (r.success) showSuccess('è‰ç¨¿å·²å„²å­˜'); else showError(r.message||'å„²å­˜å¤±æ•—');
        } catch(e) { showError('å„²å­˜å¤±æ•—'); }
    }

    // ================================================================
    // Flex å½ˆçª— (popup)
    // ================================================================
    function openFpEditor(cellIndex) {
        fpEditingCell = cellIndex;
        const cfg = fpConfigs[cellIndex] || { type:'carousel', imageAspectRatio:'20:13', bubbles:[defaultBubble()] };
        document.getElementById(cfg.type==='single'?'fpTypeSingle':'fpTypeCarousel').checked = true;
        if (cfg.imageAspectRatio) document.getElementById('fpImageRatio').value = cfg.imageAspectRatio;
        renderFpCards(cfg.bubbles || [defaultBubble()]);
        toggleAddBtn();
        new bootstrap.Modal(document.getElementById('flexPopupModal')).show();
    }
    function defaultBubble() { return { heroImageUrl:'', title:'å¡ç‰‡æ¨™é¡Œ', description:'å¡ç‰‡èªªæ˜æ–‡å­—', buttons:[{label:'é–‹å§‹é ç´„',action:{type:'postback',data:'action=start_booking'}}] }; }
    function renderFpCards(bubbles) {
        const c = document.getElementById('fpCardList');
        c.innerHTML = '';
        bubbles.forEach((b, i) => {
            const d = document.createElement('div');
            d.className = 'fp-card';
            d.innerHTML = `
                <span class="fp-card-num">å¡ç‰‡ ${i+1}</span>
                ${bubbles.length>1?`<button class="btn btn-sm btn-outline-danger py-0 px-1 fp-card-del" onclick="delFpCard(${i})"><i class="bi bi-x-lg"></i></button>`:''}
                <div class="row g-2 mt-2">
                    <div class="col-12"><label class="form-label small mb-0">ä¸»åœ– URL</label><input type="text" class="form-control form-control-sm" data-f="img" value="${esc(b.heroImageUrl||'')}" placeholder="https://example.com/image.jpg"></div>
                    <div class="col-6"><label class="form-label small mb-0">æ¨™é¡Œ</label><input type="text" class="form-control form-control-sm" data-f="title" value="${esc(b.title||'')}"></div>
                    <div class="col-6"><label class="form-label small mb-0">æŒ‰éˆ•æ–‡å­—</label><input type="text" class="form-control form-control-sm" data-f="btn" value="${esc(b.buttons?.[0]?.label||'æŸ¥çœ‹æ›´å¤š')}"></div>
                    <div class="col-12"><label class="form-label small mb-0">æè¿°</label><textarea class="form-control form-control-sm" data-f="desc" rows="2">${esc(b.description||'')}</textarea></div>
                    <div class="col-12"><label class="form-label small mb-0">æŒ‰éˆ•å‹•ä½œ</label><select class="form-select form-select-sm" data-f="act">
                        ${ACTIONS.filter(a=>a.v!=='flex_popup').map(a=>`<option value="${a.v}" ${a.v===(b.buttons?.[0]?.action?.data?.replace('action=','')||'start_booking')?'selected':''}>${a.ic} ${a.l}</option>`).join('')}
                    </select></div>
                </div>
                <div class="fp-card-preview mt-2">
                    <img src="${b.heroImageUrl||'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22260%22><rect fill=%22%23f0f0f0%22 width=%22400%22 height=%22260%22/><text x=%2250%25%22 y=%2250%25%22 fill=%22%23bbb%22 text-anchor=%22middle%22 dy=%22.3em%22 font-size=%2216%22>æ”¾å…¥åœ–ç‰‡ URL å³æ™‚é è¦½</text></svg>'}" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22260%22><rect fill=%22%23fce4ec%22 width=%22400%22 height=%22260%22/><text x=%2250%25%22 y=%2250%25%22 fill=%22%23e57373%22 text-anchor=%22middle%22 dy=%22.3em%22 font-size=%2214%22>åœ–ç‰‡ç„¡æ³•è¼‰å…¥</text></svg>'">
                    <div class="fp-prev-body">
                        <div class="fp-prev-title">${esc(b.title||'')}</div>
                        <div class="fp-prev-desc">${esc(b.description||'')}</div>
                    </div>
                </div>
            `;
            // å³æ™‚é è¦½æ›´æ–°
            d.querySelector('[data-f="img"]').addEventListener('input', e => { d.querySelector('.fp-card-preview img').src = e.target.value || 'data:image/svg+xml,...'; });
            d.querySelector('[data-f="title"]').addEventListener('input', e => { d.querySelector('.fp-prev-title').textContent = e.target.value; });
            d.querySelector('[data-f="desc"]').addEventListener('input', e => { d.querySelector('.fp-prev-desc').textContent = e.target.value; });
            c.appendChild(d);
        });
    }
    function addFpCard() {
        const bs = collectFpBubbles(); if (bs.length>=10) { showWarning('æœ€å¤š 10 å¼µå¡ç‰‡'); return; }
        bs.push(defaultBubble()); renderFpCards(bs);
    }
    function delFpCard(i) { const bs = collectFpBubbles(); bs.splice(i,1); renderFpCards(bs); }
    function collectFpBubbles() {
        return Array.from(document.querySelectorAll('#fpCardList .fp-card')).map(d => ({
            heroImageUrl: d.querySelector('[data-f="img"]').value,
            title: d.querySelector('[data-f="title"]').value,
            description: d.querySelector('[data-f="desc"]').value,
            buttons: [{ label: d.querySelector('[data-f="btn"]').value||'æŸ¥çœ‹æ›´å¤š', action:{ type:'postback', data:'action='+d.querySelector('[data-f="act"]').value } }]
        }));
    }
    function saveFpConfig() {
        const type = document.querySelector('input[name="fpType"]:checked').value;
        const ratio = document.getElementById('fpImageRatio').value;
        fpConfigs[fpEditingCell] = { type, imageAspectRatio:ratio, bubbles:collectFpBubbles() };
        bootstrap.Modal.getInstance(document.getElementById('flexPopupModal')).hide();
        showSuccess('Flex å½ˆçª—å·²å„²å­˜');
    }
    function toggleAddBtn() {
        document.getElementById('btnAddCard').style.display = document.getElementById('fpTypeSingle').checked ? 'none' : '';
    }
    document.querySelectorAll('input[name="fpType"]').forEach(r => r.addEventListener('change', () => {
        if (document.getElementById('fpTypeSingle').checked) { const bs = collectFpBubbles(); if (bs.length>1) renderFpCards([bs[0]]); }
        toggleAddBtn();
    }));

    // ================================================================
    // Flex ä¸»é¸å–®ï¼ˆè¼ªæ’­å¡ç‰‡æ¨¡å¼ï¼‰
    // ================================================================
    function initFM() {
        loadFlexMenu();
        renderFmCardEditors();
        renderFmSteps();
        renderFmFunctions();
        updateFmCarouselPreview();
    }

    async function loadFlexMenu() {
        try {
            const r = await api.get('/api/settings/line/flex-menu');
            if (r.success && r.data) {
                // æ–°æ ¼å¼ï¼ˆè¼ªæ’­å¡ç‰‡ï¼‰
                if (r.data.menuType === 'carousel' && r.data.cards) {
                    fmCards = r.data.cards.map(c => {
                        const isUrl = c.action && (c.action.startsWith('http://') || c.action.startsWith('https://'));
                        return {
                            imageUrl: c.imageUrl || '',
                            imageHeight: c.imageHeight || 50,
                            title: c.title || 'åŠŸèƒ½',
                            subtitle: c.subtitle || '',
                            icon: c.icon || 'ğŸ“Œ',
                            color: c.color || '#1DB446',
                            action: isUrl ? 'open_url' : (c.action || 'start_booking'),
                            actionUrl: isUrl ? c.action : undefined,
                            buttonLabel: c.buttonLabel || 'å‰å¾€',
                            cardSize: c.cardSize || 'auto'
                        };
                    });
                }
                // èˆŠæ ¼å¼ï¼ˆæŒ‰éˆ•ï¼‰â†’ è‡ªå‹•è½‰æ›ç‚ºå¡ç‰‡
                else if (r.data.buttons) {
                    r.data.buttons.forEach((b, i) => {
                        if (i < fmCards.length) {
                            if (b.color) fmCards[i].color = b.color;
                            if (b.icon) fmCards[i].icon = b.icon;
                            if (b.title) fmCards[i].title = b.title;
                            if (b.subtitle) fmCards[i].subtitle = b.subtitle;
                        }
                    });
                }
                if (r.data.steps) fmSteps = r.data.steps;
                if (r.data.functions) fmFunctions = r.data.functions;
                renderFmCardEditors();
                renderFmSteps();
                renderFmFunctions();
                updateFmCarouselPreview();
            }
        } catch(e) { console.debug('è¼‰å…¥ Flex Menu å¤±æ•—', e); }
    }

    function renderFmCardEditors() {
        const c = document.getElementById('fmCardEditors');
        if (!c) return;
        c.innerHTML = '';
        fmCards.forEach((card, i) => {
            const isUrlAction = card.action === 'open_url' || (card.action && card.action.startsWith('http'));
            const actionVal = isUrlAction ? 'open_url' : card.action;
            const d = document.createElement('div');
            d.className = 'fm-card-editor';
            d.innerHTML = `
                <div class="fm-card-editor-header" style="cursor:pointer">
                    <div class="fm-card-editor-num" style="background:${card.color}">${i+1}</div>
                    <span class="fm-card-editor-title" onclick="toggleFmCard(this.closest('.fm-card-editor-header'))">${esc(card.icon)} ${esc(card.title)}${isUrlAction?' <span class="badge bg-info">å»£å‘Š</span>':''}</span>
                    <span class="ms-auto d-flex gap-1 align-items-center">
                        ${i>0?`<button class="btn btn-sm btn-outline-secondary py-0 px-1" onclick="moveFmCard(${i},-1)" title="ä¸Šç§»"><i class="bi bi-arrow-up"></i></button>`:''}
                        ${i<fmCards.length-1?`<button class="btn btn-sm btn-outline-secondary py-0 px-1" onclick="moveFmCard(${i},1)" title="ä¸‹ç§»"><i class="bi bi-arrow-down"></i></button>`:''}
                        ${fmCards.length>1?`<button class="btn btn-sm btn-outline-danger py-0 px-1" onclick="removeFmCard(${i})" title="åˆªé™¤"><i class="bi bi-trash"></i></button>`:''}
                        <i class="bi bi-chevron-down" onclick="toggleFmCard(this.closest('.fm-card-editor-header'))"></i>
                    </span>
                </div>
                <div class="fm-card-editor-body${i>0?' collapsed':''}">
                    <div class="row g-2">
                        <div class="col-12">
                            <label class="form-label small fw-bold mb-1">èƒŒæ™¯åœ–ç‰‡</label>
                            <div class="d-flex gap-2 align-items-center">
                                <input type="text" class="form-control form-control-sm" data-ci="${i}" data-f="imageUrl" value="${esc(card.imageUrl||'')}" placeholder="è²¼ä¸Šåœ–ç‰‡ URL æˆ–ä¸Šå‚³åœ–ç‰‡...">
                                <label class="btn btn-sm btn-outline-primary py-0 px-2 flex-shrink-0" title="ä¸Šå‚³åœ–ç‰‡" style="cursor:pointer">
                                    <i class="bi bi-upload"></i>
                                    <input type="file" class="d-none" accept="image/png,image/jpeg,image/webp" data-ci="${i}" data-f="uploadCardImg">
                                </label>
                                ${card.imageUrl ? `<button class="btn btn-sm btn-outline-danger py-0 px-2 flex-shrink-0" data-ci="${i}" data-f="clearCardImg" title="æ¸…é™¤åœ–ç‰‡"><i class="bi bi-x-lg"></i></button>` : ''}
                            </div>
                            <div class="fm-img-preview-wrap" data-ci="${i}">
                                ${card.imageUrl ? `<img src="${esc(card.imageUrl)}" style="height:${Math.max(40, card.imageHeight)}px" onerror="this.parentElement.innerHTML='<div class=fm-img-placeholder>åœ–ç‰‡ç„¡æ³•è¼‰å…¥</div>'">` : '<div class="fm-img-placeholder">è²¼ä¸Šåœ–ç‰‡ URL æˆ–ä¸Šå‚³åœ–ç‰‡</div>'}
                            </div>
                        </div>
                        <div class="col-6">
                            <label class="form-label small fw-bold mb-1">åœ–ç‰‡é«˜åº¦</label>
                            <div class="d-flex align-items-center gap-2">
                                <input type="range" class="form-range" min="0" max="100" step="5" data-ci="${i}" data-f="imageHeight" value="${card.imageHeight||50}" style="flex:1">
                                <span class="fm-height-val" data-ci="${i}" data-hv="1">${card.imageHeight||50}%</span>
                            </div>
                        </div>
                        <div class="col-6">
                            <label class="form-label small fw-bold mb-1">å¡ç‰‡å¤§å°</label>
                            <select class="form-select form-select-sm" data-ci="${i}" data-f="cardSize">
                                <option value="auto" ${(card.cardSize||'auto')==='auto'?'selected':''}>è‡ªå‹•</option>
                                <option value="kilo" ${card.cardSize==='kilo'?'selected':''}>å° (kilo)</option>
                                <option value="mega" ${card.cardSize==='mega'?'selected':''}>å¤§ (mega)</option>
                            </select>
                        </div>
                        <div class="col-2">
                            <label class="form-label small fw-bold mb-1">åœ–ç¤º</label>
                            <input type="text" class="form-control form-control-sm text-center" data-ci="${i}" data-f="icon" value="${card.icon}" maxlength="4">
                        </div>
                        <div class="col-5">
                            <label class="form-label small fw-bold mb-1">æ¨™é¡Œ</label>
                            <input type="text" class="form-control form-control-sm" data-ci="${i}" data-f="title" value="${esc(card.title)}" maxlength="20">
                        </div>
                        <div class="col-5">
                            <label class="form-label small fw-bold mb-1">å‰¯æ¨™é¡Œ</label>
                            <input type="text" class="form-control form-control-sm" data-ci="${i}" data-f="subtitle" value="${esc(card.subtitle||'')}" maxlength="30">
                        </div>
                        <div class="col-3">
                            <label class="form-label small fw-bold mb-1">æŒ‰éˆ•è‰²</label>
                            <input type="color" class="form-control form-control-color w-100" data-ci="${i}" data-f="color" value="${card.color}" style="height:31px">
                        </div>
                        <div class="col-4">
                            <label class="form-label small fw-bold mb-1">æŒ‰éˆ•æ–‡å­—</label>
                            <input type="text" class="form-control form-control-sm" data-ci="${i}" data-f="buttonLabel" value="${esc(card.buttonLabel||'å‰å¾€')}" maxlength="10">
                        </div>
                        <div class="col-5">
                            <label class="form-label small fw-bold mb-1">é»æ“Šå‹•ä½œ</label>
                            <select class="form-select form-select-sm" data-ci="${i}" data-f="action">
                                ${FM_ACTIONS.map(a=>`<option value="${a.v}" ${a.v===actionVal?'selected':''}>${a.ic} ${a.l}</option>`).join('')}
                            </select>
                        </div>
                        ${isUrlAction?`<div class="col-12">
                            <label class="form-label small fw-bold mb-1"><i class="bi bi-link-45deg me-1"></i>ç¶²å€ URL</label>
                            <input type="url" class="form-control form-control-sm" data-ci="${i}" data-f="actionUrl" value="${esc(card.actionUrl||card.action||'')}" placeholder="https://example.com">
                        </div>`:''}
                    </div>
                </div>
            `;
            // ç¶å®šæ‰€æœ‰ input/select çš„å³æ™‚æ›´æ–°
            d.querySelectorAll('input,select').forEach(inp => {
                if (inp.dataset.f === 'uploadCardImg') return;
                inp.addEventListener('input', e => onFmCardFieldChange(e));
                if (inp.tagName === 'SELECT') inp.addEventListener('change', e => onFmCardFieldChange(e));
            });
            // ç¶å®šæª”æ¡ˆä¸Šå‚³
            const uploadInput = d.querySelector('[data-f="uploadCardImg"]');
            if (uploadInput) {
                uploadInput.addEventListener('change', e => uploadFlexCardImage(e, i));
            }
            // ç¶å®šæ¸…é™¤åœ–ç‰‡
            const clearBtn = d.querySelector('[data-f="clearCardImg"]');
            if (clearBtn) {
                clearBtn.addEventListener('click', () => { fmCards[i].imageUrl = ''; renderFmCardEditors(); updateFmCarouselPreview(); });
            }
            c.appendChild(d);
        });
        // æ›´æ–°å¡ç‰‡æ•¸é‡é¡¯ç¤º
        const countEl = document.getElementById('fmCardCount');
        if (countEl) countEl.textContent = `${fmCards.length} / 12 å¼µ`;
        const addWrap = document.getElementById('fmAddCardWrap');
        if (addWrap) addWrap.querySelector('.btn-outline-success').disabled = fmCards.length >= 12;
        if (addWrap) addWrap.querySelector('.btn-outline-info').disabled = fmCards.length >= 12;
    }

    function addFmCard() {
        if (fmCards.length >= 12) { showWarning('æœ€å¤š 12 å¼µå¡ç‰‡'); return; }
        fmCards.push({
            action:'start_booking', color:'#1DB446', icon:'ğŸ“…',
            title:'æ–°å¡ç‰‡', subtitle:'é»æ“Šè¨­å®šå…§å®¹',
            buttonLabel:'å‰å¾€', imageUrl:'', imageHeight:50, cardSize:'auto'
        });
        renderFmCardEditors(); updateFmCarouselPreview();
    }

    function addFmAdCard() {
        if (fmCards.length >= 12) { showWarning('æœ€å¤š 12 å¼µå¡ç‰‡'); return; }
        fmCards.push({
            action:'open_url', color:'#FF5722', icon:'ğŸ“¢',
            title:'å»£å‘Šå¡ç‰‡', subtitle:'é»æ“ŠæŸ¥çœ‹è©³æƒ…',
            buttonLabel:'äº†è§£æ›´å¤š', imageUrl:'', imageHeight:60, cardSize:'auto',
            actionUrl: 'https://'
        });
        renderFmCardEditors(); updateFmCarouselPreview();
    }

    function removeFmCard(idx) {
        if (fmCards.length <= 1) { showWarning('è‡³å°‘éœ€è¦ 1 å¼µå¡ç‰‡'); return; }
        fmCards.splice(idx, 1);
        renderFmCardEditors(); updateFmCarouselPreview();
    }

    function moveFmCard(idx, dir) {
        const newIdx = idx + dir;
        if (newIdx < 0 || newIdx >= fmCards.length) return;
        [fmCards[idx], fmCards[newIdx]] = [fmCards[newIdx], fmCards[idx]];
        renderFmCardEditors(); updateFmCarouselPreview();
    }

    function onFmCardFieldChange(e) {
        const ci = parseInt(e.target.dataset.ci);
        const f = e.target.dataset.f;
        if (isNaN(ci) || !f) return;

        const val = e.target.type === 'range' ? parseInt(e.target.value) : e.target.value;

        // å‹•ä½œåˆ‡æ›åˆ°ã€Œæ‰“é–‹ç¶²å€ã€æ™‚ï¼Œä¿ç•™ URL
        if (f === 'action' && val === 'open_url') {
            fmCards[ci].action = 'open_url';
            fmCards[ci].actionUrl = fmCards[ci].actionUrl || 'https://';
            renderFmCardEditors(); updateFmCarouselPreview();
            return;
        }
        if (f === 'action' && val !== 'open_url') {
            fmCards[ci].action = val;
            delete fmCards[ci].actionUrl;
            renderFmCardEditors(); updateFmCarouselPreview();
            return;
        }
        if (f === 'actionUrl') {
            fmCards[ci].actionUrl = val;
            updateFmCarouselPreview();
            return;
        }

        fmCards[ci][f] = val;

        // å³æ™‚æ›´æ–°
        if (f === 'imageUrl') {
            const wrap = document.querySelector(`.fm-img-preview-wrap[data-ci="${ci}"]`);
            if (val) wrap.innerHTML = `<img src="${esc(val)}" style="height:${Math.max(40, fmCards[ci].imageHeight||50)}px" onerror="this.parentElement.innerHTML='<div class=fm-img-placeholder>åœ–ç‰‡ç„¡æ³•è¼‰å…¥</div>'">`;
            else wrap.innerHTML = '<div class="fm-img-placeholder">è²¼ä¸Šåœ–ç‰‡ URL å³æ™‚é è¦½</div>';
        }
        if (f === 'imageHeight') {
            document.querySelector(`[data-ci="${ci}"][data-hv="1"]`).textContent = val + '%';
            const img = document.querySelector(`.fm-img-preview-wrap[data-ci="${ci}"] img`);
            if (img) img.style.height = Math.max(40, val) + 'px';
        }
        if (f === 'title' || f === 'icon') {
            const header = document.querySelectorAll('.fm-card-editor')[ci]?.querySelector('.fm-card-editor-title');
            if (header) header.textContent = fmCards[ci].icon + ' ' + fmCards[ci].title;
        }
        if (f === 'color') {
            const num = document.querySelectorAll('.fm-card-editor-num')[ci];
            if (num) num.style.background = val;
        }

        updateFmCarouselPreview();
    }

    // ä¸Šå‚³ Flex å¡ç‰‡åœ–ç‰‡
    async function uploadFlexCardImage(e, cardIndex) {
        const file = e.target.files[0];
        if (!file) return;

        // å…ˆç”¨ FileReader æœ¬åœ°é è¦½
        const reader = new FileReader();
        reader.onload = ev => {
            const wrap = document.querySelector(`.fm-img-preview-wrap[data-ci="${cardIndex}"]`);
            if (wrap) wrap.innerHTML = `<img src="${ev.target.result}" style="height:${Math.max(40, fmCards[cardIndex].imageHeight||50)}px">`;
        };
        reader.readAsDataURL(file);

        // ä¸Šå‚³åˆ°ä¼ºæœå™¨
        const fd = new FormData();
        fd.append('file', file);
        fd.append('cardIndex', cardIndex);
        try {
            const r = await fetch('/api/settings/line/flex-menu/upload-card-image', {
                method: 'POST',
                headers: { 'Authorization': 'Bearer ' + getToken() },
                body: fd
            });
            const d = await r.json();
            if (d.success) {
                // åŠ ä¸Šæ™‚é–“æˆ³é¿å…å¿«å–
                fmCards[cardIndex].imageUrl = d.data.imageUrl + '?t=' + Date.now();
                // æ›´æ–° URL è¼¸å…¥æ¡†
                const urlInput = document.querySelector(`input[data-ci="${cardIndex}"][data-f="imageUrl"]`);
                if (urlInput) urlInput.value = fmCards[cardIndex].imageUrl;
                updateFmCarouselPreview();
                renderFmCardEditors();
                showSuccess('åœ–ç‰‡ä¸Šå‚³æˆåŠŸ');
            } else {
                showError(d.message || 'ä¸Šå‚³å¤±æ•—');
            }
        } catch (err) {
            showError('ä¸Šå‚³å¤±æ•—ï¼š' + err.message);
        }
    }

    function toggleFmCard(headerEl) {
        const body = headerEl.nextElementSibling;
        if (!body || !body.classList.contains('fm-card-editor-body')) return;
        body.classList.toggle('collapsed');
        const chevron = headerEl.querySelector('.bi-chevron-down, .bi-chevron-up');
        if (chevron) chevron.className = body.classList.contains('collapsed') ? 'bi bi-chevron-down' : 'bi bi-chevron-up';
    }

    function updateFmCarouselPreview() {
        const c = document.getElementById('fmCarouselPreview');
        if (!c) return;
        c.innerHTML = '';

        fmCards.forEach((card, i) => {
            const d = document.createElement('div');
            d.className = 'fm-card-prev';

            // åœ–ç‰‡é«˜åº¦ï¼šç™¾åˆ†æ¯” â†’ åƒç´ ï¼ˆé è¦½ä¸­ 0~100% å°æ‡‰ 0~180pxï¼‰
            const imgH = Math.round((card.imageHeight || 50) * 1.8);

            let heroHtml = '';
            if (card.imageUrl && card.imageHeight > 0) {
                heroHtml = `<img class="fm-card-prev-hero" src="${esc(card.imageUrl)}" style="height:${imgH}px" onerror="this.outerHTML='<div class=fm-card-prev-no-img>åœ–ç‰‡ç„¡æ³•è¼‰å…¥</div>'">`;
            } else if (card.imageHeight === 0) {
                heroHtml = '';
            } else {
                heroHtml = `<div class="fm-card-prev-no-img">ç„¡èƒŒæ™¯åœ–</div>`;
            }

            const isAdCard = card.action === 'open_url' || (card.action && card.action.startsWith('http'));
            d.innerHTML = `
                ${heroHtml}
                <div class="fm-card-prev-body">
                    <div class="fm-card-prev-title">${esc(card.icon)} ${esc(card.title)}${isAdCard?'<span style="font-size:10px;background:#FF5722;color:#fff;padding:0 4px;border-radius:3px;margin-left:4px;vertical-align:middle">AD</span>':''}</div>
                    ${card.subtitle ? `<div class="fm-card-prev-sub">${esc(card.subtitle)}</div>` : ''}
                </div>
                <div class="fm-card-prev-footer">
                    <span class="fm-card-prev-btn" style="background:${card.color}">${esc(card.buttonLabel||'å‰å¾€')}${isAdCard?' <i class="bi bi-box-arrow-up-right" style="font-size:10px"></i>':''}</span>
                </div>
            `;
            d.addEventListener('click', () => {
                // é»æ“Šé è¦½å¡ç‰‡ â†’ å±•é–‹å°æ‡‰ç·¨è¼¯å™¨
                document.querySelectorAll('.fm-card-editor-body').forEach(b => b.classList.add('collapsed'));
                const editors = document.querySelectorAll('.fm-card-editor');
                if (editors[i]) {
                    editors[i].querySelector('.fm-card-editor-body').classList.remove('collapsed');
                    editors[i].scrollIntoView({ behavior:'smooth', block:'nearest' });
                }
            });
            c.appendChild(d);
        });

        // æ›´æ–°æŒ‡ç¤ºå™¨
        const indicator = document.getElementById('fmCardIndicator');
        if (indicator) indicator.textContent = `å…± ${fmCards.length} å¼µå¡ç‰‡`;
    }

    function scrollFmCarousel(dir) {
        const c = document.getElementById('fmCarouselPreview');
        if (c) c.scrollBy({ left: dir * 230, behavior: 'smooth' });
    }

    function renderFmSteps() {
        const c = document.getElementById('fmStepList');
        if (!c) return;
        c.innerHTML = '';
        FM_STEPS.forEach((s, i) => {
            const saved = fmSteps?.[s.key] || {};
            const curColor = saved.color || s.color;
            const curIcon  = saved.icon  || s.icon;
            const curTitle = saved.title || '';
            const curSub   = saved.subtitle || '';
            const curImg   = saved.imageUrl || '';
            const d = document.createElement('div');
            d.className = 'fm-step-editor';
            d.innerHTML = `
                <div class="fm-step-editor-header" onclick="toggleFmStep(this)">
                    <div class="fm-step-editor-num" style="background:${curColor}">${i+1}</div>
                    <span class="fm-step-editor-title">${curIcon} ${esc(curTitle || s.title)}</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="fm-step-editor-body${i>0?' collapsed':''}">
                    <div class="fm-step-prev" style="background:${curColor}">
                        <span class="fm-step-prev-icon">${curIcon}</span>
                        <div class="fm-step-prev-text">
                            <div class="fm-step-prev-title">${esc(curTitle || s.title)}</div>
                            <div class="fm-step-prev-sub">${esc(curSub || s.subtitle)}</div>
                        </div>
                    </div>
                    <div class="row g-2">
                        <div class="col-2">
                            <label class="form-label small fw-bold mb-1">åœ–ç¤º</label>
                            <input type="text" class="form-control form-control-sm text-center" data-step="${s.key}" data-f="icon" value="${curIcon}" maxlength="4">
                        </div>
                        <div class="col-3">
                            <label class="form-label small fw-bold mb-1">Header è‰²</label>
                            <input type="color" class="form-control form-control-color w-100" data-step="${s.key}" data-f="color" value="${curColor}" style="height:31px">
                        </div>
                        <div class="col-7">
                            <label class="form-label small fw-bold mb-1">æ¨™é¡Œ</label>
                            <input type="text" class="form-control form-control-sm" data-step="${s.key}" data-f="title" value="${esc(curTitle)}" placeholder="${esc(s.title)}">
                        </div>
                        <div class="col-12">
                            <label class="form-label small fw-bold mb-1">å‰¯æ¨™é¡Œ</label>
                            <input type="text" class="form-control form-control-sm" data-step="${s.key}" data-f="subtitle" value="${esc(curSub)}" placeholder="${esc(s.subtitle)}">
                        </div>
                        <div class="col-12">
                            <label class="form-label small fw-bold mb-1">Hero åœ–ç‰‡</label>
                            <div class="d-flex gap-2 align-items-center">
                                <input type="text" class="form-control form-control-sm" data-step="${s.key}" data-f="imageUrl" value="${esc(curImg)}" placeholder="è²¼ä¸Šåœ–ç‰‡ URL æˆ–ä¸Šå‚³åœ–ç‰‡...">
                                <label class="btn btn-sm btn-outline-primary py-0 px-2 flex-shrink-0" title="ä¸Šå‚³åœ–ç‰‡" style="cursor:pointer">
                                    <i class="bi bi-upload"></i>
                                    <input type="file" class="d-none" accept="image/png,image/jpeg,image/webp" data-step="${s.key}" data-f="uploadStepImg">
                                </label>
                                ${curImg ? `<button class="btn btn-sm btn-outline-danger py-0 px-2 flex-shrink-0" data-step="${s.key}" data-f="clearStepImg" title="æ¸…é™¤åœ–ç‰‡"><i class="bi bi-x-lg"></i></button>` : ''}
                            </div>
                            ${curImg ? `<div class="mt-1 border rounded overflow-hidden"><img src="${esc(curImg)}" style="width:100%;height:60px;object-fit:cover" onerror="this.parentElement.innerHTML='<div class=text-center style=padding:8px;color:#bbb;font-size:12px>åœ–ç‰‡ç„¡æ³•è¼‰å…¥</div>'"></div>` : ''}
                        </div>
                    </div>
                </div>
            `;
            // ç¶å®šå³æ™‚æ›´æ–°
            d.querySelectorAll('input:not([type=file])').forEach(inp => {
                const ev = inp.type === 'color' ? 'input' : 'change';
                inp.addEventListener('input', e => onFmStepFieldChange(e));
                if (ev === 'change' && inp.type !== 'color') {
                    inp.addEventListener('change', e => onFmStepFieldChange(e));
                }
            });
            // æª”æ¡ˆä¸Šå‚³
            const uploadInput = d.querySelector('[data-f="uploadStepImg"]');
            if (uploadInput) uploadInput.addEventListener('change', e => uploadStepImage(e, s.key));
            // æ¸…é™¤åœ–ç‰‡
            const clearBtn = d.querySelector('[data-f="clearStepImg"]');
            if (clearBtn) clearBtn.addEventListener('click', () => {
                if (!fmSteps[s.key]) fmSteps[s.key] = {};
                fmSteps[s.key].imageUrl = '';
                renderFmSteps();
            });
            c.appendChild(d);
        });
    }

    function toggleFmStep(headerEl) {
        const body = headerEl.nextElementSibling;
        body.classList.toggle('collapsed');
        const icon = headerEl.querySelector('.bi');
        icon.className = body.classList.contains('collapsed') ? 'bi bi-chevron-down' : 'bi bi-chevron-up';
    }

    function onFmStepFieldChange(e) {
        const key = e.target.dataset.step;
        const f = e.target.dataset.f;
        if (!key || !f) return;
        if (!fmSteps[key]) fmSteps[key] = {};
        fmSteps[key][f] = e.target.value;

        // å³æ™‚æ›´æ–°é è¦½
        const editor = e.target.closest('.fm-step-editor');
        if (editor) {
            const step = FM_STEPS.find(s => s.key === key);
            const curColor = fmSteps[key].color || step.color;
            const curIcon  = fmSteps[key].icon  || step.icon;
            const curTitle = fmSteps[key].title  || step.title;
            const curSub   = fmSteps[key].subtitle || step.subtitle;
            // æ›´æ–° header
            const header = editor.querySelector('.fm-step-editor-title');
            if (header) header.textContent = curIcon + ' ' + curTitle;
            const num = editor.querySelector('.fm-step-editor-num');
            if (num) num.style.background = curColor;
            // æ›´æ–°é è¦½æ¢
            const prev = editor.querySelector('.fm-step-prev');
            if (prev) {
                prev.style.background = curColor;
                prev.querySelector('.fm-step-prev-icon').textContent = curIcon;
                prev.querySelector('.fm-step-prev-title').textContent = curTitle;
                prev.querySelector('.fm-step-prev-sub').textContent = curSub;
            }
        }
    }

    // ä¸Šå‚³ Step Hero åœ–ç‰‡ï¼ˆè¤‡ç”¨ flex card image ä¸Šå‚³ç«¯é»ï¼Œä½¿ç”¨ step_ å‰ç¶´ï¼‰
    async function uploadStepImage(e, stepKey) {
        const file = e.target.files[0];
        if (!file) return;
        // æ­¥é©Ÿåœ–ç‰‡ç”¨ cardIndex = 100+stepIndex é¿å…å’Œå¡ç‰‡è¡çª
        const stepIdx = FM_STEPS.findIndex(s => s.key === stepKey);
        const cardIndex = 100 + stepIdx;
        const fd = new FormData();
        fd.append('file', file);
        fd.append('cardIndex', cardIndex);
        try {
            const r = await fetch('/api/settings/line/flex-menu/upload-card-image', {
                method: 'POST',
                headers: { 'Authorization': 'Bearer ' + getToken() },
                body: fd
            });
            const d = await r.json();
            if (d.success) {
                if (!fmSteps[stepKey]) fmSteps[stepKey] = {};
                fmSteps[stepKey].imageUrl = d.data.imageUrl + '?t=' + Date.now();
                renderFmSteps();
                showSuccess('æ­¥é©Ÿåœ–ç‰‡ä¸Šå‚³æˆåŠŸ');
            } else {
                showError(d.message || 'ä¸Šå‚³å¤±æ•—');
            }
        } catch (err) {
            showError('ä¸Šå‚³å¤±æ•—ï¼š' + err.message);
        }
    }

    // ================================================================
    // åŠŸèƒ½é é¢æ¨£å¼è‡ªè¨‚
    // ================================================================
    function renderFmFunctions() {
        const c = document.getElementById('fmFuncList');
        if (!c) return;
        c.innerHTML = '';
        FM_FUNCTIONS.forEach((fn, i) => {
            const saved = fmFunctions?.[fn.key] || {};
            const curColor = saved.color || fn.color;
            const curIcon  = saved.icon  || fn.icon;
            const curTitle = saved.title || '';
            const curSub   = saved.subtitle || '';
            const curImg   = saved.imageUrl || '';
            const d = document.createElement('div');
            d.className = 'fm-func-editor';
            d.innerHTML = `
                <div class="fm-func-editor-header" onclick="toggleFmFunc(this)">
                    <div class="fm-func-editor-num" style="background:${curColor}">${i+1}</div>
                    <span class="fm-func-editor-title">${curIcon} ${esc(curTitle || fn.title)}</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="fm-func-editor-body${i>0?' collapsed':''}">
                    <div class="fm-func-prev" style="background:${curColor}">
                        <span class="fm-func-prev-icon">${curIcon}</span>
                        <div class="fm-func-prev-text">
                            <div class="fm-func-prev-title">${esc(curTitle || fn.title)}</div>
                            <div class="fm-func-prev-sub">${esc(curSub || fn.subtitle)}</div>
                        </div>
                    </div>
                    <div class="row g-2">
                        <div class="col-2">
                            <label class="form-label small fw-bold mb-1">åœ–ç¤º</label>
                            <input type="text" class="form-control form-control-sm text-center" data-func="${fn.key}" data-f="icon" value="${curIcon}" maxlength="4">
                        </div>
                        <div class="col-3">
                            <label class="form-label small fw-bold mb-1">Header è‰²</label>
                            <input type="color" class="form-control form-control-color w-100" data-func="${fn.key}" data-f="color" value="${curColor}" style="height:31px">
                        </div>
                        <div class="col-7">
                            <label class="form-label small fw-bold mb-1">æ¨™é¡Œ</label>
                            <input type="text" class="form-control form-control-sm" data-func="${fn.key}" data-f="title" value="${esc(curTitle)}" placeholder="${esc(fn.title)}">
                        </div>
                        <div class="col-12">
                            <label class="form-label small fw-bold mb-1">å‰¯æ¨™é¡Œ</label>
                            <input type="text" class="form-control form-control-sm" data-func="${fn.key}" data-f="subtitle" value="${esc(curSub)}" placeholder="é¸å¡«">
                        </div>
                        <div class="col-12">
                            <label class="form-label small fw-bold mb-1">Hero åœ–ç‰‡</label>
                            <div class="d-flex gap-2 align-items-center">
                                <input type="text" class="form-control form-control-sm" data-func="${fn.key}" data-f="imageUrl" value="${esc(curImg)}" placeholder="è²¼ä¸Šåœ–ç‰‡ URL æˆ–ä¸Šå‚³åœ–ç‰‡...">
                                <label class="btn btn-sm btn-outline-primary py-0 px-2 flex-shrink-0" title="ä¸Šå‚³åœ–ç‰‡" style="cursor:pointer">
                                    <i class="bi bi-upload"></i>
                                    <input type="file" class="d-none" accept="image/png,image/jpeg,image/webp" data-func="${fn.key}" data-f="uploadFuncImg">
                                </label>
                                ${curImg ? `<button class="btn btn-sm btn-outline-danger py-0 px-2 flex-shrink-0" data-func="${fn.key}" data-f="clearFuncImg" title="æ¸…é™¤åœ–ç‰‡"><i class="bi bi-x-lg"></i></button>` : ''}
                            </div>
                            ${curImg ? `<div class="mt-1 border rounded overflow-hidden"><img src="${esc(curImg)}" style="width:100%;height:60px;object-fit:cover" onerror="this.parentElement.innerHTML='<div class=text-center style=padding:8px;color:#bbb;font-size:12px>åœ–ç‰‡ç„¡æ³•è¼‰å…¥</div>'"></div>` : ''}
                        </div>
                    </div>
                </div>
            `;
            // ç¶å®šå³æ™‚æ›´æ–°
            d.querySelectorAll('input:not([type=file])').forEach(inp => {
                const ev = inp.type === 'color' ? 'input' : 'change';
                inp.addEventListener('input', e => onFmFuncFieldChange(e));
                if (ev === 'change' && inp.type !== 'color') {
                    inp.addEventListener('change', e => onFmFuncFieldChange(e));
                }
            });
            // æª”æ¡ˆä¸Šå‚³
            const uploadInput = d.querySelector('[data-f="uploadFuncImg"]');
            if (uploadInput) uploadInput.addEventListener('change', e => uploadFuncImage(e, fn.key));
            // æ¸…é™¤åœ–ç‰‡
            const clearBtn = d.querySelector('[data-f="clearFuncImg"]');
            if (clearBtn) clearBtn.addEventListener('click', () => {
                if (!fmFunctions[fn.key]) fmFunctions[fn.key] = {};
                fmFunctions[fn.key].imageUrl = '';
                renderFmFunctions();
            });
            c.appendChild(d);
        });
    }

    function toggleFmFunc(headerEl) {
        const body = headerEl.nextElementSibling;
        body.classList.toggle('collapsed');
        const icon = headerEl.querySelector('.bi');
        icon.className = body.classList.contains('collapsed') ? 'bi bi-chevron-down' : 'bi bi-chevron-up';
    }

    function onFmFuncFieldChange(e) {
        const key = e.target.dataset.func;
        const f = e.target.dataset.f;
        if (!key || !f) return;
        if (!fmFunctions[key]) fmFunctions[key] = {};
        fmFunctions[key][f] = e.target.value;

        // å³æ™‚æ›´æ–°é è¦½
        const editor = e.target.closest('.fm-func-editor');
        if (editor) {
            const fn = FM_FUNCTIONS.find(s => s.key === key);
            const curColor = fmFunctions[key].color || fn.color;
            const curIcon  = fmFunctions[key].icon  || fn.icon;
            const curTitle = fmFunctions[key].title  || fn.title;
            const curSub   = fmFunctions[key].subtitle || fn.subtitle;
            const header = editor.querySelector('.fm-func-editor-title');
            if (header) header.textContent = curIcon + ' ' + curTitle;
            const num = editor.querySelector('.fm-func-editor-num');
            if (num) num.style.background = curColor;
            const prev = editor.querySelector('.fm-func-prev');
            if (prev) {
                prev.style.background = curColor;
                prev.querySelector('.fm-func-prev-icon').textContent = curIcon;
                prev.querySelector('.fm-func-prev-title').textContent = curTitle;
                prev.querySelector('.fm-func-prev-sub').textContent = curSub;
            }
        }
    }

    // ä¸Šå‚³åŠŸèƒ½é é¢ Hero åœ–ç‰‡ï¼ˆä½¿ç”¨ cardIndex = 200+funcIndexï¼‰
    async function uploadFuncImage(e, funcKey) {
        const file = e.target.files[0];
        if (!file) return;
        const funcIdx = FM_FUNCTIONS.findIndex(s => s.key === funcKey);
        const cardIndex = 200 + funcIdx;
        const fd = new FormData();
        fd.append('file', file);
        fd.append('cardIndex', cardIndex);
        try {
            const r = await fetch('/api/settings/line/flex-menu/upload-card-image', {
                method: 'POST',
                headers: { 'Authorization': 'Bearer ' + getToken() },
                body: fd
            });
            const d = await r.json();
            if (d.success) {
                if (!fmFunctions[funcKey]) fmFunctions[funcKey] = {};
                fmFunctions[funcKey].imageUrl = d.data.imageUrl + '?t=' + Date.now();
                renderFmFunctions();
                showSuccess('åŠŸèƒ½åœ–ç‰‡ä¸Šå‚³æˆåŠŸ');
            } else {
                showError(d.message || 'ä¸Šå‚³å¤±æ•—');
            }
        } catch (err) {
            showError('ä¸Šå‚³å¤±æ•—ï¼š' + err.message);
        }
    }

    async function saveFlexMenu(silent) {
        // æ”¶é›†æ­¥é©Ÿï¼ˆå¾ fmSteps ç‰©ä»¶ï¼Œå»é™¤æ™‚é–“æˆ³ï¼‰
        const steps = {};
        Object.keys(fmSteps).forEach(key => {
            const s = fmSteps[key];
            if (s && (s.color || s.title || s.icon || s.subtitle || s.imageUrl)) {
                steps[key] = {
                    color: s.color || '',
                    icon: s.icon || '',
                    title: s.title || '',
                    subtitle: s.subtitle || '',
                    imageUrl: (s.imageUrl || '').split('?')[0]
                };
            }
        });
        // æ”¶é›†åŠŸèƒ½é é¢æ¨£å¼
        const functions = {};
        Object.keys(fmFunctions).forEach(key => {
            const f = fmFunctions[key];
            if (f && (f.color || f.title || f.icon || f.subtitle || f.imageUrl)) {
                functions[key] = {
                    color: f.color || '',
                    icon: f.icon || '',
                    title: f.title || '',
                    subtitle: f.subtitle || '',
                    imageUrl: (f.imageUrl || '').split('?')[0]
                };
            }
        });
        const payload = {
            menuType: 'carousel',
            cards: fmCards.map(c => ({
                imageUrl: (c.imageUrl || '').split('?')[0],
                imageHeight: c.imageHeight || 50,
                title: c.title,
                subtitle: c.subtitle || '',
                icon: c.icon,
                color: c.color,
                action: c.action === 'open_url' ? (c.actionUrl || '') : c.action,
                buttonLabel: c.buttonLabel || 'å‰å¾€',
                cardSize: c.cardSize || 'auto'
            })),
            steps: Object.keys(steps).length > 0 ? steps : undefined,
            functions: Object.keys(functions).length > 0 ? functions : undefined
        };
        try {
            const r = await api.put('/api/settings/line/flex-menu', payload);
            if (r.success) { if (!silent) showSuccess('è¼ªæ’­å¡ç‰‡ä¸»é¸å–®å·²å„²å­˜ï¼é¡§å®¢ä¸‹æ¬¡é–‹å•ŸèŠå¤©æ™‚æœƒçœ‹åˆ°æ–°æ¨£å¼'); }
            else showError(r.message||'å„²å­˜å¤±æ•—');
        } catch(e) { showError('å„²å­˜å¤±æ•—'); }
    }

    function resetFlexMenu() {
        fmCards = JSON.parse(JSON.stringify(FM_CARD_DEFAULTS));
        fmSteps = {};
        fmFunctions = {};
        renderFmCardEditors();
        renderFmSteps();
        renderFmFunctions();
        updateFmCarouselPreview();
        showSuccess('å·²æ¢å¾©é è¨­çš„è¼ªæ’­å¡ç‰‡');
    }

    // ================================================================
    // å·¥å…·
    // ================================================================
    function esc(s) { const d=document.createElement('div'); d.textContent=s||''; return d.innerHTML; }
    </script>
</body>
</html>
